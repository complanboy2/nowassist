import{c as pe,b as ut,g as ht,d as We,e as gt,r as T,j as e,a as qe,F as ft,R as mt}from"./styles-CRN0AnYc.js";import{I as pt}from"./info-DNSO9KqQ.js";import{S as xt,c as ce,C as tt,b as bt}from"./clsx-B7gvTnIy.js";import{X as rt,C as yt}from"./x-CfHpcTgF.js";import{C as we,N as vt,S as wt}from"./Navigation-IfHzGOMa.js";import{C as ie}from"./circle-alert-Dw0gSg3O.js";import{D as jt}from"./download-BFco1ErO.js";import{C as je}from"./circle-check-Cnu3Op8G.js";import{C as Ge}from"./code-CiRUp7jk.js";import{L as Nt,a as Fe}from"./list-tree-B4j7v0Ol.js";import{T as St}from"./trash-2-D54b_wdH.js";const kt=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ct=pe("arrow-left",kt);const Mt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ye=pe("arrow-right",Mt);const Et=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],At=pe("check",Et);const $t=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ot=pe("eye",$t);const Ft=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ze=pe("file-spreadsheet",Ft);const Jt=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],Lt=pe("git-merge",Jt);const _t=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pt=pe("pen",_t);var ee={},Qe;function Tt(){if(Qe)return ee;Qe=1;var p=ee&&ee.__assign||function(){return p=Object.assign||function(i){for(var n,x=1,S=arguments.length;x<S;x++){n=arguments[x];for(var b in n)Object.prototype.hasOwnProperty.call(n,b)&&(i[b]=n[b])}return i},p.apply(this,arguments)},M=ee&&ee.__createBinding||(Object.create?(function(i,n,x,S){S===void 0&&(S=x);var b=Object.getOwnPropertyDescriptor(n,x);(!b||("get"in b?!n.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return n[x]}}),Object.defineProperty(i,S,b)}):(function(i,n,x,S){S===void 0&&(S=x),i[S]=n[x]})),l=ee&&ee.__setModuleDefault||(Object.create?(function(i,n){Object.defineProperty(i,"default",{enumerable:!0,value:n})}):function(i,n){i.default=n}),h=ee&&ee.__importStar||function(i){if(i&&i.__esModule)return i;var n={};if(i!=null)for(var x in i)x!=="default"&&Object.prototype.hasOwnProperty.call(i,x)&&M(n,i,x);return l(n,i),n},f=ee&&ee.__rest||function(i,n){var x={};for(var S in i)Object.prototype.hasOwnProperty.call(i,S)&&n.indexOf(S)<0&&(x[S]=i[S]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,S=Object.getOwnPropertySymbols(i);b<S.length;b++)n.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(i,S[b])&&(x[S[b]]=i[S[b]]);return x};Object.defineProperty(ee,"__esModule",{value:!0});var t=h(ut()),c=89,o=90,N=77,O=57,k=219,J=222,_=192,R=100,$=3e3,v=typeof window<"u"&&"navigator"in window&&/Win/i.test(navigator.platform),C=typeof window<"u"&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),g="npm__react-simple-code-editor__textarea",s=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`.concat(g,`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`).concat(g,` {
    color: transparent !important;
  }

  .`).concat(g,`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`),r=t.forwardRef(function(n,x){var S=n.autoFocus,b=n.disabled,V=n.form,H=n.highlight,j=n.ignoreTabKey,m=j===void 0?!1:j,a=n.insertSpaces,w=a===void 0?!0:a,L=n.maxLength,F=n.minLength,A=n.name,E=n.onBlur,u=n.onClick,K=n.onFocus,P=n.onKeyDown,Q=n.onKeyUp,U=n.onValueChange,W=n.padding,z=W===void 0?0:W,q=n.placeholder,Z=n.preClassName,ne=n.readOnly,de=n.required,re=n.style,se=n.tabSize,ue=se===void 0?2:se,fe=n.textareaClassName,xe=n.textareaId,he=n.value,st=f(n,["autoFocus","disabled","form","highlight","ignoreTabKey","insertSpaces","maxLength","minLength","name","onBlur","onClick","onFocus","onKeyDown","onKeyUp","onValueChange","padding","placeholder","preClassName","readOnly","required","style","tabSize","textareaClassName","textareaId","value"]),G=t.useRef({stack:[],offset:-1}),Ae=t.useRef(null),Re=t.useState(!0),at=Re[0],nt=Re[1],Ke={paddingTop:typeof z=="object"?z.top:z,paddingRight:typeof z=="object"?z.right:z,paddingBottom:typeof z=="object"?z.bottom:z,paddingLeft:typeof z=="object"?z.left:z},Le=H(he),me=function(y,B){return y.substring(0,B).split(`
`)},$e=t.useCallback(function(y,B){var D,I,Y;B===void 0&&(B=!1);var X=G.current,le=X.stack,Ne=X.offset;if(le.length&&Ne>-1){G.current.stack=le.slice(0,Ne+1);var Se=G.current.stack.length;if(Se>R){var ye=Se-R;G.current.stack=le.slice(ye,Se),G.current.offset=Math.max(G.current.offset-ye,0)}}var ae=Date.now();if(B){var ge=G.current.stack[G.current.offset];if(ge&&ae-ge.timestamp<$){var ke=/[^a-z0-9]([a-z0-9]+)$/i,te=(D=me(ge.value,ge.selectionStart).pop())===null||D===void 0?void 0:D.match(ke),Ce=(I=me(y.value,y.selectionStart).pop())===null||I===void 0?void 0:I.match(ke);if(te?.[1]&&(!((Y=Ce?.[1])===null||Y===void 0)&&Y.startsWith(te[1]))){G.current.stack[G.current.offset]=p(p({},y),{timestamp:ae});return}}}G.current.stack.push(p(p({},y),{timestamp:ae})),G.current.offset++},[]),ze=t.useCallback(function(){var y=Ae.current;if(y){var B=y.value,D=y.selectionStart,I=y.selectionEnd;$e({value:B,selectionStart:D,selectionEnd:I})}},[$e]),_e=function(y){var B=Ae.current;B&&(B.value=y.value,B.selectionStart=y.selectionStart,B.selectionEnd=y.selectionEnd,U?.(y.value))},be=function(y){var B=Ae.current,D=G.current.stack[G.current.offset];D&&B&&(G.current.stack[G.current.offset]=p(p({},D),{selectionStart:B.selectionStart,selectionEnd:B.selectionEnd})),$e(y),_e(y)},lt=function(){var y=G.current,B=y.stack,D=y.offset,I=B[D-1];I&&(_e(I),G.current.offset=Math.max(D-1,0))},ot=function(){var y=G.current,B=y.stack,D=y.offset,I=B[D+1];I&&(_e(I),G.current.offset=Math.min(D+1,B.length-1))},it=function(y){if(!(P&&(P(y),y.defaultPrevented))){y.key==="Escape"&&y.currentTarget.blur();var B=y.currentTarget,D=B.value,I=B.selectionStart,Y=B.selectionEnd,X=(w?" ":"	").repeat(ue);if(y.key==="Tab"&&!m&&at)if(y.preventDefault(),y.shiftKey){var le=me(D,I),Ne=le.length-1,Se=me(D,Y).length-1,ye=D.split(`
`).map(function(Me,Ve){return Ve>=Ne&&Ve<=Se&&Me.startsWith(X)?Me.substring(X.length):Me}).join(`
`);if(D!==ye){var ae=le[Ne];be({value:ye,selectionStart:ae?.startsWith(X)?I-X.length:I,selectionEnd:Y-(D.length-ye.length)})}}else if(I!==Y){var le=me(D,I),ge=le.length-1,ke=me(D,Y).length-1,ae=le[ge];be({value:D.split(`
`).map(function(Be,He){return He>=ge&&He<=ke?X+Be:Be}).join(`
`),selectionStart:ae&&/\S/.test(ae)?I+X.length:I,selectionEnd:Y+X.length*(ke-ge+1)})}else{var te=I+X.length;be({value:D.substring(0,I)+X+D.substring(Y),selectionStart:te,selectionEnd:te})}else if(y.key==="Backspace"){var Ce=I!==Y,dt=D.substring(0,I);if(dt.endsWith(X)&&!Ce){y.preventDefault();var te=I-X.length;be({value:D.substring(0,I-X.length)+D.substring(Y),selectionStart:te,selectionEnd:te})}}else if(y.key==="Enter"){if(I===Y){var Pe=me(D,I).pop(),Oe=Pe?.match(/^\s+/);if(Oe?.[0]){y.preventDefault();var Ue=`
`+Oe[0],te=I+Ue.length;be({value:D.substring(0,I)+Ue+D.substring(Y),selectionStart:te,selectionEnd:te})}}}else if(y.keyCode===O||y.keyCode===k||y.keyCode===J||y.keyCode===_){var oe=void 0;y.keyCode===O&&y.shiftKey?oe=["(",")"]:y.keyCode===k?y.shiftKey?oe=["{","}"]:oe=["[","]"]:y.keyCode===J?y.shiftKey?oe=['"','"']:oe=["'","'"]:y.keyCode===_&&!y.shiftKey&&(oe=["`","`"]),I!==Y&&oe&&(y.preventDefault(),be({value:D.substring(0,I)+oe[0]+D.substring(I,Y)+oe[1]+D.substring(Y),selectionStart:I,selectionEnd:Y+2}))}else(C?y.metaKey&&y.keyCode===o:y.ctrlKey&&y.keyCode===o)&&!y.shiftKey&&!y.altKey?(y.preventDefault(),lt()):(C?y.metaKey&&y.keyCode===o&&y.shiftKey:v?y.ctrlKey&&y.keyCode===c:y.ctrlKey&&y.keyCode===o&&y.shiftKey)&&!y.altKey?(y.preventDefault(),ot()):y.keyCode===N&&y.ctrlKey&&(!C||y.shiftKey)&&(y.preventDefault(),nt(function(Me){return!Me}))}},ct=function(y){var B=y.currentTarget,D=B.value,I=B.selectionStart,Y=B.selectionEnd;$e({value:D,selectionStart:I,selectionEnd:Y},!0),U(D)};return t.useEffect(function(){ze()},[ze]),t.useImperativeHandle(x,function(){return{get session(){return{history:G.current}},set session(y){G.current=y.history}}},[]),t.createElement("div",p({},st,{style:p(p({},d.container),re)}),t.createElement("pre",p({className:Z,"aria-hidden":"true",style:p(p(p({},d.editor),d.highlight),Ke)},typeof Le=="string"?{dangerouslySetInnerHTML:{__html:Le+"<br />"}}:{children:Le})),t.createElement("textarea",{ref:function(y){return Ae.current=y},style:p(p(p({},d.editor),d.textarea),Ke),className:g+(fe?" ".concat(fe):""),id:xe,value:he,onChange:ct,onKeyDown:it,onClick:u,onKeyUp:Q,onFocus:K,onBlur:E,disabled:b,form:V,maxLength:L,minLength:F,name:A,placeholder:q,readOnly:ne,required:de,autoFocus:S,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),t.createElement("style",{dangerouslySetInnerHTML:{__html:s}}))}),d={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}};return ee.default=r,ee}var Dt=Tt();const It=ht(Dt);var Te={exports:{}},Xe;function Rt(){return Xe||(Xe=1,(function(p){var M=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var l=(function(h){var f=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,c={},o={manual:h.Prism&&h.Prism.manual,disableWorkerMessageHandler:h.Prism&&h.Prism.disableWorkerMessageHandler,util:{encode:function s(r){return r instanceof N?new N(r.type,s(r.content),r.alias):Array.isArray(r)?r.map(s):r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(s){return Object.prototype.toString.call(s).slice(8,-1)},objId:function(s){return s.__id||Object.defineProperty(s,"__id",{value:++t}),s.__id},clone:function s(r,d){d=d||{};var i,n;switch(o.util.type(r)){case"Object":if(n=o.util.objId(r),d[n])return d[n];i={},d[n]=i;for(var x in r)r.hasOwnProperty(x)&&(i[x]=s(r[x],d));return i;case"Array":return n=o.util.objId(r),d[n]?d[n]:(i=[],d[n]=i,r.forEach(function(S,b){i[b]=s(S,d)}),i);default:return r}},getLanguage:function(s){for(;s;){var r=f.exec(s.className);if(r)return r[1].toLowerCase();s=s.parentElement}return"none"},setLanguage:function(s,r){s.className=s.className.replace(RegExp(f,"gi"),""),s.classList.add("language-"+r)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(i){var s=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(i.stack)||[])[1];if(s){var r=document.getElementsByTagName("script");for(var d in r)if(r[d].src==s)return r[d]}return null}},isActive:function(s,r,d){for(var i="no-"+r;s;){var n=s.classList;if(n.contains(r))return!0;if(n.contains(i))return!1;s=s.parentElement}return!!d}},languages:{plain:c,plaintext:c,text:c,txt:c,extend:function(s,r){var d=o.util.clone(o.languages[s]);for(var i in r)d[i]=r[i];return d},insertBefore:function(s,r,d,i){i=i||o.languages;var n=i[s],x={};for(var S in n)if(n.hasOwnProperty(S)){if(S==r)for(var b in d)d.hasOwnProperty(b)&&(x[b]=d[b]);d.hasOwnProperty(S)||(x[S]=n[S])}var V=i[s];return i[s]=x,o.languages.DFS(o.languages,function(H,j){j===V&&H!=s&&(this[H]=x)}),x},DFS:function s(r,d,i,n){n=n||{};var x=o.util.objId;for(var S in r)if(r.hasOwnProperty(S)){d.call(r,S,r[S],i||S);var b=r[S],V=o.util.type(b);V==="Object"&&!n[x(b)]?(n[x(b)]=!0,s(b,d,null,n)):V==="Array"&&!n[x(b)]&&(n[x(b)]=!0,s(b,d,S,n))}}},plugins:{},highlightAll:function(s,r){o.highlightAllUnder(document,s,r)},highlightAllUnder:function(s,r,d){var i={callback:d,container:s,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",i),i.elements=Array.prototype.slice.apply(i.container.querySelectorAll(i.selector)),o.hooks.run("before-all-elements-highlight",i);for(var n=0,x;x=i.elements[n++];)o.highlightElement(x,r===!0,i.callback)},highlightElement:function(s,r,d){var i=o.util.getLanguage(s),n=o.languages[i];o.util.setLanguage(s,i);var x=s.parentElement;x&&x.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(x,i);var S=s.textContent,b={element:s,language:i,grammar:n,code:S};function V(j){b.highlightedCode=j,o.hooks.run("before-insert",b),b.element.innerHTML=b.highlightedCode,o.hooks.run("after-highlight",b),o.hooks.run("complete",b),d&&d.call(b.element)}if(o.hooks.run("before-sanity-check",b),x=b.element.parentElement,x&&x.nodeName.toLowerCase()==="pre"&&!x.hasAttribute("tabindex")&&x.setAttribute("tabindex","0"),!b.code){o.hooks.run("complete",b),d&&d.call(b.element);return}if(o.hooks.run("before-highlight",b),!b.grammar){V(o.util.encode(b.code));return}if(r&&h.Worker){var H=new Worker(o.filename);H.onmessage=function(j){V(j.data)},H.postMessage(JSON.stringify({language:b.language,code:b.code,immediateClose:!0}))}else V(o.highlight(b.code,b.grammar,b.language))},highlight:function(s,r,d){var i={code:s,grammar:r,language:d};if(o.hooks.run("before-tokenize",i),!i.grammar)throw new Error('The language "'+i.language+'" has no grammar.');return i.tokens=o.tokenize(i.code,i.grammar),o.hooks.run("after-tokenize",i),N.stringify(o.util.encode(i.tokens),i.language)},tokenize:function(s,r){var d=r.rest;if(d){for(var i in d)r[i]=d[i];delete r.rest}var n=new J;return _(n,n.head,s),k(s,n,r,n.head,0),$(n)},hooks:{all:{},add:function(s,r){var d=o.hooks.all;d[s]=d[s]||[],d[s].push(r)},run:function(s,r){var d=o.hooks.all[s];if(!(!d||!d.length))for(var i=0,n;n=d[i++];)n(r)}},Token:N};h.Prism=o;function N(s,r,d,i){this.type=s,this.content=r,this.alias=d,this.length=(i||"").length|0}N.stringify=function s(r,d){if(typeof r=="string")return r;if(Array.isArray(r)){var i="";return r.forEach(function(V){i+=s(V,d)}),i}var n={type:r.type,content:s(r.content,d),tag:"span",classes:["token",r.type],attributes:{},language:d},x=r.alias;x&&(Array.isArray(x)?Array.prototype.push.apply(n.classes,x):n.classes.push(x)),o.hooks.run("wrap",n);var S="";for(var b in n.attributes)S+=" "+b+'="'+(n.attributes[b]||"").replace(/"/g,"&quot;")+'"';return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+S+">"+n.content+"</"+n.tag+">"};function O(s,r,d,i){s.lastIndex=r;var n=s.exec(d);if(n&&i&&n[1]){var x=n[1].length;n.index+=x,n[0]=n[0].slice(x)}return n}function k(s,r,d,i,n,x){for(var S in d)if(!(!d.hasOwnProperty(S)||!d[S])){var b=d[S];b=Array.isArray(b)?b:[b];for(var V=0;V<b.length;++V){if(x&&x.cause==S+","+V)return;var H=b[V],j=H.inside,m=!!H.lookbehind,a=!!H.greedy,w=H.alias;if(a&&!H.pattern.global){var L=H.pattern.toString().match(/[imsuy]*$/)[0];H.pattern=RegExp(H.pattern.source,L+"g")}for(var F=H.pattern||H,A=i.next,E=n;A!==r.tail&&!(x&&E>=x.reach);E+=A.value.length,A=A.next){var u=A.value;if(r.length>s.length)return;if(!(u instanceof N)){var K=1,P;if(a){if(P=O(F,E,s,m),!P||P.index>=s.length)break;var z=P.index,Q=P.index+P[0].length,U=E;for(U+=A.value.length;z>=U;)A=A.next,U+=A.value.length;if(U-=A.value.length,E=U,A.value instanceof N)continue;for(var W=A;W!==r.tail&&(U<Q||typeof W.value=="string");W=W.next)K++,U+=W.value.length;K--,u=s.slice(E,U),P.index-=E}else if(P=O(F,0,u,m),!P)continue;var z=P.index,q=P[0],Z=u.slice(0,z),ne=u.slice(z+q.length),de=E+u.length;x&&de>x.reach&&(x.reach=de);var re=A.prev;Z&&(re=_(r,re,Z),E+=Z.length),R(r,re,K);var se=new N(S,j?o.tokenize(q,j):q,w,q);if(A=_(r,re,se),ne&&_(r,A,ne),K>1){var ue={cause:S+","+V,reach:de};k(s,r,d,A.prev,E,ue),x&&ue.reach>x.reach&&(x.reach=ue.reach)}}}}}}function J(){var s={value:null,prev:null,next:null},r={value:null,prev:s,next:null};s.next=r,this.head=s,this.tail=r,this.length=0}function _(s,r,d){var i=r.next,n={value:d,prev:r,next:i};return r.next=n,i.prev=n,s.length++,n}function R(s,r,d){for(var i=r.next,n=0;n<d&&i!==s.tail;n++)i=i.next;r.next=i,i.prev=r,s.length-=n}function $(s){for(var r=[],d=s.head.next;d!==s.tail;)r.push(d.value),d=d.next;return r}if(!h.document)return h.addEventListener&&(o.disableWorkerMessageHandler||h.addEventListener("message",function(s){var r=JSON.parse(s.data),d=r.language,i=r.code,n=r.immediateClose;h.postMessage(o.highlight(i,o.languages[d],d)),n&&h.close()},!1)),o;var v=o.util.currentScript();v&&(o.filename=v.src,v.hasAttribute("data-manual")&&(o.manual=!0));function C(){o.manual||o.highlightAll()}if(!o.manual){var g=document.readyState;g==="loading"||g==="interactive"&&v&&v.defer?document.addEventListener("DOMContentLoaded",C):window.requestAnimationFrame?window.requestAnimationFrame(C):window.setTimeout(C,16)}return o})(M);p.exports&&(p.exports=l),typeof We<"u"&&(We.Prism=l),l.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},l.languages.markup.tag.inside["attr-value"].inside.entity=l.languages.markup.entity,l.languages.markup.doctype.inside["internal-subset"].inside=l.languages.markup,l.hooks.add("wrap",function(h){h.type==="entity"&&(h.attributes.title=h.content.replace(/&amp;/,"&"))}),Object.defineProperty(l.languages.markup.tag,"addInlined",{value:function(f,t){var c={};c["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:l.languages[t]},c.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:c}};o["language-"+t]={pattern:/[\s\S]+/,inside:l.languages[t]};var N={};N[f]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return f}),"i"),lookbehind:!0,greedy:!0,inside:o},l.languages.insertBefore("markup","cdata",N)}}),Object.defineProperty(l.languages.markup.tag,"addAttribute",{value:function(h,f){l.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+h+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[f,"language-"+f],inside:l.languages[f]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),l.languages.html=l.languages.markup,l.languages.mathml=l.languages.markup,l.languages.svg=l.languages.markup,l.languages.xml=l.languages.extend("markup",{}),l.languages.ssml=l.languages.xml,l.languages.atom=l.languages.xml,l.languages.rss=l.languages.xml,(function(h){var f=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;h.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+f.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+f.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+f.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+f.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:f,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},h.languages.css.atrule.inside.rest=h.languages.css;var t=h.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(l),l.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},l.languages.javascript=l.languages.extend("clike",{"class-name":[l.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),l.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,l.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:l.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:l.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:l.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:l.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:l.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),l.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:l.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),l.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),l.languages.markup&&(l.languages.markup.tag.addInlined("script","javascript"),l.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),l.languages.js=l.languages.javascript,(function(){if(typeof l>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var h="Loading…",f=function(v,C){return"✖ Error "+v+" while fetching file: "+C},t="✖ Error: File does not exist or is empty",c={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",N="loading",O="loaded",k="failed",J="pre[data-src]:not(["+o+'="'+O+'"]):not(['+o+'="'+N+'"])';function _(v,C,g){var s=new XMLHttpRequest;s.open("GET",v,!0),s.onreadystatechange=function(){s.readyState==4&&(s.status<400&&s.responseText?C(s.responseText):s.status>=400?g(f(s.status,s.statusText)):g(t))},s.send(null)}function R(v){var C=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(v||"");if(C){var g=Number(C[1]),s=C[2],r=C[3];return s?r?[g,Number(r)]:[g,void 0]:[g,g]}}l.hooks.add("before-highlightall",function(v){v.selector+=", "+J}),l.hooks.add("before-sanity-check",function(v){var C=v.element;if(C.matches(J)){v.code="",C.setAttribute(o,N);var g=C.appendChild(document.createElement("CODE"));g.textContent=h;var s=C.getAttribute("data-src"),r=v.language;if(r==="none"){var d=(/\.(\w+)$/.exec(s)||[,"none"])[1];r=c[d]||d}l.util.setLanguage(g,r),l.util.setLanguage(C,r);var i=l.plugins.autoloader;i&&i.loadLanguages(r),_(s,function(n){C.setAttribute(o,O);var x=R(C.getAttribute("data-range"));if(x){var S=n.split(/\r\n?|\n/g),b=x[0],V=x[1]==null?S.length:x[1];b<0&&(b+=S.length),b=Math.max(0,Math.min(b-1,S.length)),V<0&&(V+=S.length),V=Math.max(0,Math.min(V,S.length)),n=S.slice(b,V).join(`
`),C.hasAttribute("data-start")||C.setAttribute("data-start",String(b+1))}g.textContent=n,l.highlightElement(g)},function(n){C.setAttribute(o,k),g.textContent=n})}}),l.plugins.fileHighlight={highlight:function(C){for(var g=(C||document).querySelectorAll(J),s=0,r;r=g[s++];)l.highlightElement(r)}};var $=!1;l.fileHighlight=function(){$||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),$=!0),l.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(Te)),Te.exports}var ve=Rt(),Kt=gt();Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;const Je=({value:p="",onChange:M,readOnly:l=!1,placeholder:h="Enter JSON...",errorLine:f=null,errorMessage:t=null,style:c={}})=>{const o=T.useRef(null),N=T.useRef(null),[O,k]=T.useState({show:!1,x:0,y:0}),J=T.useRef(null),R=(p?p.split(`
`):[""]).length,$=T.useMemo(()=>f?Array.isArray(f)?f:[f]:[],[f]);T.useEffect(()=>{const g=o.current,s=N.current;if(!g||!s)return;const r=()=>{s&&(s.scrollTop=g.scrollTop)},d=g.querySelector("textarea");if(d)return d.addEventListener("scroll",r),()=>d.removeEventListener("scroll",r)},[p]);const v=g=>{if(J.current){const s=J.current.getBoundingClientRect();k({show:!0,x:s.right+12,y:s.top+s.height/2})}},C=()=>{k({show:!1,x:0,y:0})};return T.useMemo(()=>{if(!p)return"";try{let g=ve.highlight(p,ve.languages.json,"json");if($.length>0){const s=g.split(`
`);$.forEach(r=>{r>0&&s[r-1]&&(s[r-1]=`<span class="error-line-text" style="background-color: rgba(239, 68, 68, 0.25); display: inline-block; width: 100%; padding: 2px 0; margin-left: -16px; padding-left: 16px; border-left: 3px solid #ef4444;">${s[r-1]}</span>`)}),g=s.join(`
`)}return g}catch{return p}},[p,$]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full h-full relative flex",style:{...c,width:"100%",minWidth:0,maxWidth:"100%"},children:[e.jsx("div",{ref:N,className:"flex-shrink-0 bg-slate-50 border-r border-slate-200 text-right pr-2 py-4",style:{width:"50px",fontFamily:'"Fira Code", "Fira Mono", "Consolas", "Monaco", "Courier New", monospace',fontSize:"14px",lineHeight:"1.6",color:"#64748b",overflowY:"hidden",overflowX:"visible"},children:Array.from({length:R},(g,s)=>{const r=s+1,d=$.includes(r);return e.jsxs("div",{className:`
                  relative flex items-center justify-end gap-1
                  ${d?"bg-red-100 text-red-600 font-semibold":""}
                `,style:{minHeight:"22.4px"},children:[d&&t&&s===$[0]-1&&e.jsx("div",{ref:J,onMouseEnter:v,onMouseLeave:C,className:"relative z-50",children:e.jsx(pt,{className:"h-3.5 w-3.5 text-red-600 cursor-help flex-shrink-0"})}),e.jsx("span",{children:r})]},s)})}),e.jsxs("div",{ref:o,className:"flex-1 relative overflow-hidden",children:[e.jsx(It,{value:p,onValueChange:g=>{M&&!l&&M(g)},highlight:g=>{if(!g)return"";try{let s=ve.highlight(g,ve.languages.json,"json");if($.length>0){const r=s.split(`
`);$.forEach(d=>{d>0&&r[d-1]&&(r[d-1]=`<span class="error-line-text" style="background-color: rgba(239, 68, 68, 0.25); display: inline-block; width: 100%; padding: 2px 0; margin-left: -16px; padding-left: 16px; border-left: 3px solid #ef4444;">${r[d-1]}</span>`)}),s=r.join(`
`)}return s}catch{return g}},padding:16,style:{fontFamily:'"Fira Code", "Fira Mono", "Consolas", "Monaco", "Courier New", monospace',fontSize:14,lineHeight:1.6,outline:0,backgroundColor:"#ffffff",minHeight:"100%",width:"100%",...c},textareaClassName:"json-editor-textarea",preClassName:"json-editor-pre",readOnly:l,placeholder:h}),$.map(g=>g>0&&e.jsx("div",{className:"absolute left-0 right-0 pointer-events-none",style:{top:`${(g-1)*22.4}px`,height:"22.4px",backgroundColor:"rgba(239, 68, 68, 0.15)",borderLeft:"3px solid #ef4444"}},g))]}),e.jsx("style",{children:`
          .json-editor-textarea,
          .json-editor-pre {
            font-family: "Fira Code", "Fira Mono", "Consolas", "Monaco", "Courier New", monospace !important;
            font-size: 14px;
            line-height: 1.6;
            tab-size: 2;
            -moz-tab-size: 2;
          }
          .json-editor-textarea {
            outline: none;
            resize: none;
            border: none;
            overflow-wrap: normal;
            overflow-x: auto;
            white-space: pre;
            padding-left: 0 !important;
          }
          .json-editor-textarea:focus {
            outline: none;
          }
          .json-editor-pre {
            pointer-events: none;
            padding-left: 0 !important;
          }
          .error-line-text {
            background-color: rgba(239, 68, 68, 0.25) !important;
          }
        `})]}),O.show&&t&&typeof document<"u"&&Kt.createPortal(e.jsxs("div",{className:"fixed z-[99999] bg-slate-900 text-white text-xs px-3 py-2 rounded-lg shadow-2xl pointer-events-none",style:{left:`${O.x}px`,top:`${O.y}px`,transform:"translateY(-50%)",maxWidth:"320px",minWidth:"200px",wordWrap:"break-word",whiteSpace:"normal"},children:[e.jsx("div",{className:"font-semibold mb-1",children:"Error:"}),e.jsx("div",{children:t}),e.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 translate-x-0.5",children:e.jsx("div",{className:"border-4 border-transparent border-r-slate-900"})})]}),document.body)]})},zt=({jsonData:p,onPathSelect:M,onUpdate:l,editable:h=!1})=>{const[f,t]=T.useState(new Set(["$"])),[c,o]=T.useState(null),[N,O]=T.useState(""),[k,J]=T.useState(null),[_,R]=T.useState(""),[$,v]=T.useState(p),C=qe.useRef(null);qe.useEffect(()=>{v(p)},[p]);const g=T.useMemo(()=>{if(!$)return[];const a=(w,L="$",F=0)=>{const A=[];return w===null?(A.push({path:L,key:L.split(/[.\[\]]+/).filter(Boolean).pop()||"root",value:null,type:"null",depth:F,isLeaf:!0}),A):typeof w!="object"?(A.push({path:L,key:L.split(/[.\[\]]+/).filter(Boolean).pop()||"root",value:w,type:typeof w,depth:F,isLeaf:!0}),A):(Array.isArray(w)?w.forEach((E,u)=>{const K=`${L}[${u}]`;typeof E=="object"&&E!==null?(A.push({path:K,key:`[${u}]`,value:E,type:Array.isArray(E)?"array":"object",depth:F,isLeaf:!1}),A.push(...a(E,K,F+1))):A.push({path:K,key:`[${u}]`,value:E,type:typeof E,depth:F,isLeaf:!0})}):Object.keys(w).forEach(E=>{const u=w[E],K=L==="$"?`$.${E}`:`${L}.${E}`;typeof u=="object"&&u!==null?(A.push({path:K,key:E,value:u,type:Array.isArray(u)?"array":"object",depth:F,isLeaf:!1}),A.push(...a(u,K,F+1))):A.push({path:K,key:E,value:u,type:typeof u=="string"?"string":typeof u,depth:F,isLeaf:!0})}),A)};return a($)},[$]),s=T.useMemo(()=>{if(!N)return g;const a=N.toLowerCase();return g.filter(w=>{const L=w.key.toLowerCase().includes(a),F=w.path.toLowerCase().includes(a),A=w.isLeaf&&String(w.value).toLowerCase().includes(a);return L||F||A})},[g,N]),r=a=>{if(!a.path||a.path==="$")return!0;const w=a.path.slice(2);if(!w)return!0;const L=[];let F="",A=!1;for(let E=0;E<w.length;E++){const u=w[E];u==="["?(F&&(L.push(F),F=""),A=!0):u==="]"?A&&F&&(L.push(`[${F}]`),F="",A=!1):u==="."&&!A?F&&(L.push(F),F=""):F+=u}F&&L.push(F);for(let E=1;E<L.length;E++){const u=L.slice(0,E);let K="$";for(const P of u)P.startsWith("[")?K+=P:K+=K==="$"?`.${P}`:`.${P}`;if(!f.has(K))return!1}return!0},d=a=>{const w=new Set(f);w.has(a)?w.delete(a):w.add(a),t(w)},i=(a,w)=>{k||w&&w.detail===2||(o(a.path),M&&M(a.path,a.value))},n=(a,w)=>{!h||!a.isLeaf||(w&&(w.stopPropagation(),w.preventDefault()),o(null),J(a.path),R(String(a.value===null?"null":a.value)))},x=()=>{J(null),R("")},S=()=>{if(k)try{const a=b($,k,_);v(a),l&&l(a),J(null),R("")}catch(a){console.error("Failed to update value:",a),alert("Failed to update value: "+a.message)}},b=(a,w,L)=>{const F=JSON.parse(JSON.stringify(a)),A=w.startsWith("$.")?w.substring(2):w;let E;const u=L.trim();u==="null"?E=null:u==="true"?E=!0:u==="false"?E=!1:u.startsWith('"')&&u.endsWith('"')?E=u.slice(1,-1):!isNaN(u)&&u!==""?E=Number(u):E=u;const K=A.split(".");let P=F;for(let W=0;W<K.length-1;W++){const z=K[W],q=z.match(/^(.+)\[(\d+)\]$/);if(q){const Z=q[1],ne=parseInt(q[2]);P=P[Z][ne]}else P=P[z]}const Q=K[K.length-1],U=Q.match(/^(.+)\[(\d+)\]$/);if(U){const W=U[1],z=parseInt(U[2]);P[W][z]=E}else P[Q]=E;return F},V=async a=>{await navigator.clipboard.writeText(a)},H=async a=>{typeof a=="object"?await navigator.clipboard.writeText(JSON.stringify(a,null,2)):await navigator.clipboard.writeText(String(a))},j=(a,w)=>a===null?"null":w==="string"?`"${a}"`:w==="undefined"?"undefined":String(a),m=a=>{switch(a){case"string":return"text-green-600";case"number":return"text-blue-600";case"boolean":return"text-purple-600";case"null":return"text-slate-400";case"object":return"text-orange-600";case"array":return"text-pink-600";default:return"text-slate-600"}};return $?e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"border-b border-slate-200 bg-white p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(xt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search keys, paths, or values...",value:N,onChange:a=>O(a.target.value),className:"w-full rounded-lg border border-slate-200 bg-white py-2 pl-9 pr-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-primary focus:outline-none"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.length===0?e.jsx("div",{className:"text-center text-slate-500 py-8",children:"No matching nodes found"}):e.jsx("div",{className:"space-y-1",children:s.map((a,w)=>{if(!r(a))return null;const L=f.has(a.path),F=c===a.path,A=k===a.path,E=a.depth*20;return e.jsxs("div",{className:ce("flex items-center gap-2 py-1 px-2 rounded hover:bg-slate-50 transition",F&&!A&&"bg-blue-50 border-l-2 border-blue-500 cursor-pointer",A&&"bg-yellow-50 border-l-2 border-yellow-500"),style:{marginLeft:`${E}px`},onClick:u=>{A||(C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{!k&&u.detail===1&&i(a,u)},300))},onDoubleClick:u=>{h&&a.isLeaf&&!A&&(u.stopPropagation(),u.preventDefault(),C.current&&(clearTimeout(C.current),C.current=null),o(null),n(a,u))},children:[!a.isLeaf&&e.jsx("button",{onClick:u=>{u.stopPropagation(),d(a.path)},className:"p-0.5 hover:bg-slate-200 rounded transition",children:L?e.jsx(tt,{className:"h-4 w-4 text-slate-600"}):e.jsx(bt,{className:"h-4 w-4 text-slate-600"})}),a.isLeaf&&!A&&e.jsx("div",{className:"w-5"}),e.jsxs("span",{className:"font-mono text-sm font-semibold text-slate-700",children:[a.key,":"]}),a.isLeaf?A?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:_,onChange:u=>R(u.target.value),onKeyDown:u=>{u.key==="Enter"?(u.preventDefault(),S()):u.key==="Escape"&&(u.preventDefault(),x())},autoFocus:!0,className:"flex-1 px-2 py-1 border border-blue-400 rounded bg-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:u=>u.stopPropagation()}),e.jsx("button",{onClick:u=>{u.stopPropagation(),S()},className:"p-1 hover:bg-green-200 rounded transition text-green-600",title:"Save",children:e.jsx(At,{className:"h-4 w-4"})}),e.jsx("button",{onClick:u=>{u.stopPropagation(),x()},className:"p-1 hover:bg-red-200 rounded transition text-red-600",title:"Cancel",children:e.jsx(rt,{className:"h-4 w-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:ce("font-mono text-sm select-none",m(a.type)),onDoubleClick:h?u=>{u.stopPropagation(),u.preventDefault(),n(a,u)}:void 0,style:{cursor:h?"pointer":"default"},title:h?"Double-click to edit":"",children:j(a.value,a.type)}),e.jsx("div",{className:"flex-1"}),h&&e.jsx("button",{onClick:u=>n(a,u),className:"p-1 hover:bg-blue-200 rounded transition opacity-70 hover:opacity-100",title:"Edit value",children:e.jsx(Pt,{className:"h-3 w-3 text-blue-500"})}),e.jsx("button",{onClick:u=>{u.stopPropagation(),H(a.value)},className:"p-1 hover:bg-slate-200 rounded transition opacity-70 hover:opacity-100",title:"Copy value",children:e.jsx(we,{className:"h-3 w-3 text-slate-500"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-slate-500",children:Array.isArray(a.value)?`Array(${a.value.length})`:`Object(${Object.keys(a.value).length})`}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:u=>{u.stopPropagation(),V(a.path)},className:"p-1 hover:bg-slate-200 rounded transition opacity-70 hover:opacity-100",title:"Copy path",children:e.jsx(we,{className:"h-3 w-3 text-slate-500"})})]})]},`${a.path}-${w}`)})})}),c&&!k&&e.jsxs("div",{className:"border-t border-slate-200 bg-slate-50 p-3",children:[e.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Selected Path:"}),e.jsx("div",{className:"font-mono text-sm text-slate-900 mb-2",children:c}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>V(c),className:"text-xs px-2 py-1 bg-white border border-slate-200 rounded hover:bg-slate-50 transition flex items-center gap-1",children:[e.jsx(we,{className:"h-3 w-3"}),"Copy Path"]})})]})]}):e.jsx("div",{className:"p-8 text-center text-slate-500",children:"No JSON data to display. Please load or paste JSON."})},Ee=(p,M="asc")=>{if(p===null||typeof p!="object")return p;if(Array.isArray(p))return p.map(f=>Ee(f,M));const l={};return Object.keys(p).sort((f,t)=>M==="desc"?t.localeCompare(f):f.localeCompare(t)).forEach(f=>{const t=p[f];typeof t=="object"&&t!==null&&!Array.isArray(t)?l[f]=Ee(t,M):Array.isArray(t)?l[f]=t.map(c=>Ee(c,M)):l[f]=t}),l},De=(p,M="",l=".")=>{const h={};for(const f in p)if(p.hasOwnProperty(f)){const t=M?`${M}${l}${f}`:f,c=p[f];typeof c=="object"&&c!==null&&!Array.isArray(c)?Object.assign(h,De(c,t,l)):Array.isArray(c)?c.forEach((o,N)=>{typeof o=="object"&&o!==null?Object.assign(h,De(o,`${t}[${N}]`,l)):h[`${t}[${N}]`]=o}):h[t]=c}return h},Ut=(p,M=".")=>{const l={};for(const h in p)if(p.hasOwnProperty(h)){const f=h.split(M);let t=l;for(let N=0;N<f.length-1;N++){const O=f[N],k=O.match(/^(.+)\[(\d+)\]$/);if(k){const J=k[1],_=parseInt(k[2]);t[J]||(t[J]=[]),t[J][_]||(t[J][_]={}),t=t[J][_]}else t[O]||(t[O]={}),t=t[O]}const c=f[f.length-1],o=c.match(/^(.+)\[(\d+)\]$/);if(o){const N=o[1],O=parseInt(o[2]);t[N]||(t[N]=[]),t[N][O]=p[h]}else t[c]=p[h]}return l},Vt=p=>{if(!Array.isArray(p)||p.length===0)throw new Error("Input must be a non-empty array of objects");const M=new Set;p.forEach(t=>{typeof t=="object"&&t!==null&&Object.keys(t).forEach(c=>M.add(c))});const l=Array.from(M),h=t=>{if(t==null)return"";const c=String(t);return c.includes(",")||c.includes('"')||c.includes(`
`)?`"${c.replace(/"/g,'""')}"`:c};return[l.map(h).join(","),...p.map(t=>l.map(c=>{const o=t[c];return h(typeof o=="object"&&o!==null?JSON.stringify(o):o)}).join(","))].join(`
`)},Bt=p=>{const M=p.split(`
`).filter(t=>t.trim());if(M.length===0)throw new Error("CSV is empty");const l=t=>{const c=[];let o="",N=!1;for(let O=0;O<t.length;O++){const k=t[O],J=t[O+1];k==='"'?N&&J==='"'?(o+='"',O++):N=!N:k===","&&!N?(c.push(o),o=""):o+=k}return c.push(o),c},h=l(M[0]);return M.slice(1).map(t=>{const c=l(t),o={};return h.forEach((N,O)=>{let k=c[O]||"";if(k.startsWith("{")||k.startsWith("["))try{k=JSON.parse(k)}catch{}o[N]=k}),o})},Ht=(p,M,l="$")=>{const h={added:[],removed:[],changed:[],unchanged:[]},f=(t,c,o)=>{if(typeof t!="object"||t===null||typeof c!="object"||c===null){t!==c?h.changed.push({path:o,oldValue:t,newValue:c}):h.unchanged.push({path:o,value:t});return}if(Array.isArray(t)&&Array.isArray(c)){const O=Math.max(t.length,c.length);for(let k=0;k<O;k++){const J=`${o}[${k}]`;k>=t.length?h.added.push({path:J,value:c[k]}):k>=c.length?h.removed.push({path:J,value:t[k]}):f(t[k],c[k],J)}return}new Set([...Object.keys(t),...Object.keys(c)]).forEach(O=>{const k=o==="$"?`$.${O}`:`${o}.${O}`;O in t?O in c?f(t[O],c[O],k):h.removed.push({path:k,value:t[O]}):h.added.push({path:k,value:c[O]})})};return f(p,M,l),h},Wt=({inputJson:p,isValidJson:M,onOutputUpdate:l})=>{const[h,f]=T.useState("csv"),[t,c]=T.useState(null),[o,N]=T.useState(""),O=()=>{if(c(null),!M||!p){c("Please provide valid JSON first");return}try{const R=JSON.parse(p);if(!Array.isArray(R)){c("JSON must be an array of objects for CSV conversion");return}if(R.length===0){c("Array must not be empty");return}const $=Vt(R);N($),l&&l($)}catch(R){c(R.message)}},k=()=>{if(c(null),!p||!p.trim()){c("Please provide CSV data first");return}try{const R=Bt(p),$=JSON.stringify(R,null,2);N($),l&&l($)}catch(R){c(R.message)}},J=async()=>{o&&await navigator.clipboard.writeText(o)},_=()=>{if(!o)return;const R=h==="csv"?"csv":"txt",$=h==="csv"?"text/csv":"text/plain",v=new Blob([o],{type:$}),C=URL.createObjectURL(v),g=document.createElement("a");g.href=C,g.download=`output.${R}`,g.click(),URL.revokeObjectURL(C)};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"border-b border-slate-200 bg-white p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Convert:"}),e.jsx("button",{onClick:()=>{f("csv"),N(""),c(null)},className:ce("px-4 py-2 rounded-lg text-sm font-medium transition",h==="csv"?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:"JSON ↔ CSV"}),e.jsx("span",{className:"text-xs text-slate-500",children:"More formats coming soon..."})]})}),h==="csv"&&e.jsxs("div",{className:"border-b border-slate-200 bg-slate-50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:O,disabled:!M,className:ce("px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2",M?"bg-primary text-white hover:bg-primary/90":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:[e.jsx(ft,{className:"h-4 w-4"}),"JSON to CSV",e.jsx(Ye,{className:"h-4 w-4"})]}),e.jsxs("button",{onClick:k,disabled:!p||!p.trim(),className:ce("px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2",p&&p.trim()?"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:[e.jsx(Ze,{className:"h-4 w-4"}),"CSV to JSON",e.jsx(Ye,{className:"h-4 w-4"})]})]}),t&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-red-600 text-sm",children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsx("span",{children:t})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col bg-white overflow-hidden",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-2 bg-slate-50 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Output"}),e.jsx("div",{className:"flex items-center gap-2",children:o&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:J,className:"p-1.5 rounded text-slate-500 hover:bg-slate-200 transition",title:"Copy",children:e.jsx(we,{className:"h-4 w-4"})}),e.jsx("button",{onClick:_,className:"p-1.5 rounded text-slate-500 hover:bg-slate-200 transition",title:"Download",children:e.jsx(jt,{className:"h-4 w-4"})})]})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-4",children:o?e.jsx("pre",{className:"font-mono text-sm text-slate-900 whitespace-pre-wrap break-words",children:o}):e.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Select a conversion type and click convert"})]})})})]})]})};function Ie(p,M){if(!p||!p.message)return{message:"Unknown JSON error",line:null,column:null,position:null,suggestion:"Please check your JSON syntax.",context:null};const l=p.message,h=M?M.split(`
`):[];let f=null,t=null,c=null;const o=l.match(/position\s+(\d+)/i);if(o&&(c=parseInt(o[1],10),M&&c>=0&&c<M.length)){const v=M.substring(0,c).split(`
`);f=v.length,t=v[v.length-1].length+1}const N=l.match(/line\s+(\d+).*column\s+(\d+)/i);N&&(f=parseInt(N[1],10),t=parseInt(N[2],10));const O=l.match(/line\s+(\d+)/i);O&&!f&&(f=parseInt(O[1],10));let k=null;if(f&&h[f-1]){const $=h[f-1],v=Math.max(0,(t||$.length)-20),C=Math.min($.length,(t||$.length)+20);if(k=$.substring(v,C).trim(),t){const g=t-v-1;if(g>=0&&g<k.length){const s=k[g];k=k.substring(0,g)+`[${s}]`+k.substring(g+1)}}}let J=l,_="";if(l.includes("Unexpected token")){const $=l.match(/Unexpected token\s+(\S+)/i),v=$?$[1]:"token";J=`Unexpected ${v} found`,v.includes("}")||v.includes("]")?_="Check for extra closing braces or brackets. You may have an extra } or ].":v.includes("{")||v.includes("[")?_="Check for missing commas between properties or values.":v.includes("'")||v.includes('"')?_="Check for unclosed strings or mismatched quotes. All strings must use double quotes in JSON.":_=`Unexpected ${v} character. Check the syntax around line ${f||"the error"}.`}else if(l.includes("Unexpected end"))J="JSON ends unexpectedly",_="Check for missing closing braces }, brackets ], or quotes. The JSON structure is incomplete.";else if(l.includes("Expected")){const $=l.match(/Expected\s+(.+?)(?:\s+but|$)/i),v=$?$[1].trim():"valid JSON";J=`Expected ${v}`,v.includes("property name")||v.includes("key")?_="Check for missing property names or colons. Each property needs a name in quotes followed by a colon.":v.includes("comma")||v.includes(",")?_="Check for missing commas between properties or array elements.":v.includes("colon")||v.includes(":")?_="Check for missing colons between property names and values.":_=`Expected ${v}. Check the JSON structure around line ${f||"the error"}.`}else l.includes("Bad escaped character")?(J="Invalid escape sequence",_='Check escape sequences in strings. Use \\n for newline, \\t for tab, \\" for quote, etc.'):l.includes("Unterminated string")?(J="Unclosed string",_="Check for missing closing quotes. All string values must start and end with double quotes."):l.includes("Duplicate key")?(J="Duplicate property name",_="Check for duplicate property names in the same object. Each property name must be unique."):_=`Check the JSON syntax around line ${f||"the error"}. Make sure all brackets, braces, and quotes are properly closed.`;let R=null;if(f&&h.length>0){const $=Math.max(0,f-2),v=Math.min(h.length,f+1);R=h.slice($,v).map((C,g)=>({lineNumber:$+g+1,text:C,isErrorLine:$+g+1===f}))}return{message:J,originalMessage:l,line:f,column:t,position:c,suggestion:_,context:k,contextLines:R,problematicChar:t&&h[f-1]?h[f-1][t-1]:null}}const qt=({onOutputUpdate:p})=>{const[M,l]=T.useState(""),[h,f]=T.useState(""),[t,c]=T.useState(null),[o,N]=T.useState(null),[O,k]=T.useState("summary"),[J,_]=T.useState(!1),[R,$]=T.useState(""),[v,C]=T.useState(""),[g,s]=T.useState(null),[r,d]=T.useState(null),i=j=>{if(!j||!j.trim())return s(null),null;try{return JSON.parse(j),s(null),!0}catch(m){const a=Ie(m,j);return s(a),!1}},n=j=>{if(!j||!j.trim())return d(null),null;try{return JSON.parse(j),d(null),!0}catch(m){const a=Ie(m,j);return d(a),!1}};T.useMemo(()=>{i(M)},[M]),T.useMemo(()=>{n(h)},[h]);const x=()=>{if(N(null),!M||!h){N("Both JSON inputs are required");return}const j=i(M),m=n(h);if(j===!1||m===!1){N("Please fix JSON errors before comparing");return}try{const a=JSON.parse(M),w=JSON.parse(h);try{$(JSON.stringify(a,null,2)),C(JSON.stringify(w,null,2))}catch{$(M),C(h)}const L=Ht(a,w);c(L)}catch(a){N(a.message||"Failed to parse JSON")}},S=()=>{c(null),l(R),f(v),N(null),_(!1),i(R),n(v)},b=()=>{l(""),f(""),c(null),N(null),$(""),C(""),_(!1),s(null),d(null)},V=(j,m)=>{const a=j.split(`
`),w=new Set;return m.forEach(L=>{const F=L.path,E=(F.startsWith("$.")?F.substring(2):F).split(".");let u=null;L.value!==void 0?u=L.value:L.oldValue!==void 0?u=L.oldValue:L.newValue!==void 0&&(u=L.newValue);const K=E[E.length-1];let P=null,Q=null;const U=K.match(/^(.+)\[(\d+)\]$/);U?(P=U[1],Q=parseInt(U[2])):P=K;const W=E.slice(0,-1);for(let z=0;z<a.length;z++){const q=a[z],Z=(q.match(/^(\s*)/)?.[1]||"").length/2;q.trim();const ne=P.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp(`"${ne}"\\s*:`,"g").test(q)){const re=W.length;if(Z===re||W.length===0){if(Q===null)w.add(z+1);else for(let se=z+1;se<a.length;se++)if(a[se].trim().startsWith("[")){let fe=0;for(let xe=se+1;xe<a.length;xe++){const he=a[xe].trim();if(he==="]")break;if(he&&!he.startsWith("[")&&!he.match(/^"[^"]+"\s*:/)&&!he.startsWith("{")){if(fe===Q){w.add(xe+1);break}fe++}}break}break}}}if(w.size===0&&u!==null&&u!==void 0){const z=typeof u=="string"?`"${u.replace(/"/g,'\\"')}"`:String(u);for(let q=0;q<a.length;q++)if(a[q].includes(z)){w.add(q+1);break}}if(w.size===0){const z=P.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),q=new RegExp(`"${z}"\\s*:`,"g");for(let Z=0;Z<a.length;Z++)if(q.test(a[Z])){w.add(Z+1);break}}}),Array.from(w).sort((L,F)=>L-F)},H=(j,m,a)=>{if(!J||!a||a.length===0)return{json:j,errorLines:[],errorMessage:null,highlightedHtml:j};try{const w=JSON.parse(j),L=JSON.stringify(w,null,2),F=V(L,a);let A=ve.highlight(L,ve.languages.json,"json");const u=(U=>m.includes("added")||m.includes("added/changed")?"rgba(34, 197, 94, 0.4)":m.includes("removed")||m.includes("removed/changed")?"rgba(239, 68, 68, 0.4)":"rgba(251, 191, 36, 0.4)")(m),K=m.includes("added")||m.includes("added/changed")?"#22c55e":m.includes("removed")||m.includes("removed/changed")?"#ef4444":"#fbbf24";a.forEach(U=>{const W=U.value!==void 0?U.value:U.oldValue!==void 0?U.oldValue:U.newValue;if(W==null)return;let z=typeof W=="object"?JSON.stringify(W):typeof W=="string"?`"${W}"`:String(W);const Z=(U.path.startsWith("$.")?U.path.substring(2):U.path).split("."),de=Z[Z.length-1].replace(/\[\d+\]$/,"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),re=new RegExp(`("${de}"\\s*:\\s*)(${z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"g");A=A.replace(re,(se,ue,fe)=>`${ue}<span style="background-color: ${u}; border: 1px solid ${K}; border-radius: 3px; padding: 1px 3px; font-weight: 500;">${fe}</span>`)});const P=a.length,Q=F.length>0?`${P} ${m} difference${P>1?"s":""} detected (lines: ${F.join(", ")})`:`${P} ${m} difference${P>1?"s":""} detected`;return{json:L,errorLines:F,errorLine:F.length>0?F:null,errorMessage:Q,highlightedHtml:A}}catch{const L=j.split(`
`),F=new Set,A=new Set;a.forEach(u=>{const P=(u.path.startsWith("$.")?u.path.substring(2):u.path).split("."),Q=P[P.length-1].replace(/\[\d+\]$/,"");A.add(Q)});for(let u=0;u<L.length;u++){const K=L[u];for(const P of A){const Q=P.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp(`"${Q}"\\s*:`,"g").test(K)){F.add(u+1);break}}}const E=Array.from(F).sort((u,K)=>u-K);return{json:j,errorLines:E,errorLine:E.length>0?E:null,errorMessage:E.length>0?`${a.length} differences detected (lines: ${E.join(", ")})`:`${a.length} differences detected`,highlightedHtml:j}}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"border-b border-slate-200 bg-white p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Lt,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"JSON Diff"})]}),e.jsx("div",{className:"flex items-center gap-2",children:t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"highlight-diff",checked:J,onChange:j=>_(j.target.checked),className:"w-4 h-4 text-red-600 border-slate-300 rounded focus:ring-red-500"}),e.jsxs("label",{htmlFor:"highlight-diff",className:"text-sm text-slate-700 cursor-pointer flex items-center gap-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),"Highlight Differences"]})]}),e.jsxs("button",{onClick:S,className:"px-4 py-2 rounded-lg text-sm font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition flex items-center gap-2",children:[e.jsx(Ct,{className:"h-4 w-4"}),"Back to Edit"]}),e.jsx("button",{onClick:b,className:"px-4 py-2 rounded-lg text-sm font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:"Clear"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:x,disabled:!M||!h||g||r,className:ce("px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2",M&&h&&!g&&!r?"bg-primary text-white hover:bg-primary/90":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:"Compare"}),e.jsx("button",{onClick:b,className:"px-4 py-2 rounded-lg text-sm font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:"Clear"})]})})]}),o&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-red-600 text-sm",children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsx("span",{children:o})]})]}),t?e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"border-b border-slate-200 bg-slate-50 p-4",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.added.length}),e.jsx("div",{className:"text-xs text-slate-600",children:"Added"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.removed.length}),e.jsx("div",{className:"text-xs text-slate-600",children:"Removed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.changed.length}),e.jsx("div",{className:"text-xs text-slate-600",children:"Changed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-600",children:t.unchanged.length}),e.jsx("div",{className:"text-xs text-slate-600",children:"Unchanged"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:J?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-2 bg-red-50 mb-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-red-700",children:"JSON A (with highlights)"}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[t.removed.length+t.changed.length," differences"]})]}),e.jsx("div",{className:"flex-1 overflow-hidden border border-red-200 rounded-lg",children:(()=>{const j=[...t.removed.map(a=>({path:a.path,type:"removed",value:a.value})),...t.changed.map(a=>({path:a.path,type:"changed",oldValue:a.oldValue}))],m=H(R,"removed/changed",j);return e.jsx("div",{className:"w-full h-full overflow-auto bg-gray-50 text-gray-900 font-mono text-sm p-4",style:{whiteSpace:"pre"},dangerouslySetInnerHTML:{__html:m.highlightedHtml||m.json}})})()})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-2 bg-green-50 mb-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-green-700",children:"JSON B (with highlights)"}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[t.added.length+t.changed.length," differences"]})]}),e.jsx("div",{className:"flex-1 overflow-hidden border border-green-200 rounded-lg",children:(()=>{const j=[...t.added.map(a=>({path:a.path,type:"added",value:a.value})),...t.changed.map(a=>({path:a.path,type:"changed",newValue:a.newValue}))],m=H(v,"added/changed",j);return e.jsx("div",{className:"w-full h-full overflow-auto bg-gray-50 text-gray-900 font-mono text-sm p-4",style:{whiteSpace:"pre"},dangerouslySetInnerHTML:{__html:m.highlightedHtml||m.json}})})()})]})]}):e.jsxs("div",{className:"space-y-4",children:[t.added.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-green-600 mb-2 flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Added (",t.added.length,")"]}),e.jsx("div",{className:"space-y-1",children:t.added.map((j,m)=>e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-3 rounded",children:[e.jsx("div",{className:"font-mono text-xs text-green-700 mb-1",children:j.path}),e.jsx("div",{className:"text-sm text-slate-700",children:typeof j.value=="object"?JSON.stringify(j.value,null,2):String(j.value)})]},m))})]}),t.removed.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-red-600 mb-2 flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4"}),"Removed (",t.removed.length,")"]}),e.jsx("div",{className:"space-y-1",children:t.removed.map((j,m)=>e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded",children:[e.jsx("div",{className:"font-mono text-xs text-red-700 mb-1",children:j.path}),e.jsx("div",{className:"text-sm text-slate-700",children:typeof j.value=="object"?JSON.stringify(j.value,null,2):String(j.value)})]},m))})]}),t.changed.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-yellow-600 mb-2 flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Changed (",t.changed.length,")"]}),e.jsx("div",{className:"space-y-1",children:t.changed.map((j,m)=>e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-3 rounded",children:[e.jsx("div",{className:"font-mono text-xs text-yellow-700 mb-2",children:j.path}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"text-red-700",children:[e.jsx("span",{className:"font-semibold",children:"Old:"})," ",typeof j.oldValue=="object"?JSON.stringify(j.oldValue,null,2):String(j.oldValue)]}),e.jsxs("div",{className:"text-green-700",children:[e.jsx("span",{className:"font-semibold",children:"New:"})," ",typeof j.newValue=="object"?JSON.stringify(j.newValue,null,2):String(j.newValue)]})]})]},m))})]}),t.unchanged.length>0&&t.unchanged.length<20&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-slate-600 mb-2",children:["Unchanged (",t.unchanged.length,")"]}),e.jsx("div",{className:"space-y-1",children:t.unchanged.map((j,m)=>e.jsx("div",{className:"bg-slate-50 border-l-4 border-slate-300 p-2 rounded text-xs",children:e.jsx("span",{className:"font-mono text-slate-600",children:j.path})},m))})]})]})})]}):e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-1/2 flex flex-col border-r border-slate-200",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-2 bg-slate-50 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"JSON A (Old/Left)"}),g&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-red-100 border border-red-300 rounded text-xs",children:[e.jsx(ie,{className:"h-3 w-3 text-red-600"}),e.jsx("span",{className:"font-semibold text-red-900",children:"Invalid"})]}),M&&!g&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 border border-green-300 rounded text-xs",children:[e.jsx(je,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Valid"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(Je,{value:M,onChange:j=>l(j||""),readOnly:!1,placeholder:"Enter JSON A...",errorLine:g?.line||null,errorMessage:g?.message||null})}),g&&e.jsxs("div",{className:"px-4 py-2 bg-red-50 border-t border-red-200 text-xs text-red-700",children:[e.jsx("div",{className:"font-semibold",children:g.message}),g.line&&e.jsxs("div",{className:"mt-1",children:["Line ",g.line,g.column?`, Column ${g.column}`:""]})]})]}),e.jsxs("div",{className:"w-1/2 flex flex-col",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-2 bg-slate-50 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"JSON B (New/Right)"}),r&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-red-100 border border-red-300 rounded text-xs",children:[e.jsx(ie,{className:"h-3 w-3 text-red-600"}),e.jsx("span",{className:"font-semibold text-red-900",children:"Invalid"})]}),h&&!r&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 border border-green-300 rounded text-xs",children:[e.jsx(je,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Valid"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(Je,{value:h,onChange:j=>f(j||""),readOnly:!1,placeholder:"Enter JSON B...",errorLine:r?.line||null,errorMessage:r?.message||null})}),r&&e.jsxs("div",{className:"px-4 py-2 bg-red-50 border-t border-red-200 text-xs text-red-700",children:[e.jsx("div",{className:"font-semibold",children:r.message}),r.line&&e.jsxs("div",{className:"mt-1",children:["Line ",r.line,r.column?`, Column ${r.column}`:""]})]})]})]})]})},et=[{name:"User Profile",generator:()=>({user:{id:Math.floor(Math.random()*1e4),name:["John Doe","Jane Smith","Bob Johnson","Alice Williams"][Math.floor(Math.random()*4)],email:`user${Math.floor(Math.random()*1e3)}@example.com`,role:["admin","user","moderator","guest"][Math.floor(Math.random()*4)],preferences:{theme:["light","dark"][Math.floor(Math.random()*2)],notifications:Math.random()>.5,language:["en","es","fr","de"][Math.floor(Math.random()*4)]},createdAt:new Date().toISOString(),active:Math.random()>.3}})},{name:"Product",generator:()=>({product:{id:`PROD-${Math.floor(Math.random()*1e4)}`,name:["Laptop","Smartphone","Headphones","Monitor","Keyboard"][Math.floor(Math.random()*5)],price:(Math.random()*1e3+10).toFixed(2),currency:"USD",inStock:Math.random()>.4,stock:Math.floor(Math.random()*100),ratings:{average:(Math.random()*2+3).toFixed(1),count:Math.floor(Math.random()*1e3)},tags:["electronics","computers","accessories"].slice(0,Math.floor(Math.random()*3)+1),specifications:{weight:`${Math.floor(Math.random()*5+1)}kg`,dimensions:`${Math.floor(Math.random()*50+10)}x${Math.floor(Math.random()*50+10)}x${Math.floor(Math.random()*20+5)}cm`}}})},{name:"API Response",generator:()=>({status:"success",data:{items:Array.from({length:Math.floor(Math.random()*5)+2},(p,M)=>({id:M+1,title:`Item ${M+1}`,value:Math.floor(Math.random()*100),category:["A","B","C"][Math.floor(Math.random()*3)]})),total:Math.floor(Math.random()*1e3),page:Math.floor(Math.random()*10)+1,pageSize:20},timestamp:new Date().toISOString(),requestId:`req-${Math.random().toString(36).substr(2,9)}`})},{name:"Configuration",generator:()=>({config:{app:{name:"My Application",version:`${Math.floor(Math.random()*5)+1}.${Math.floor(Math.random()*10)}.${Math.floor(Math.random()*10)}`,environment:["development","staging","production"][Math.floor(Math.random()*3)],debug:Math.random()>.5},database:{host:`db${Math.floor(Math.random()*5)}.example.com`,port:[3306,5432,27017][Math.floor(Math.random()*3)],name:"mydb",pool:{min:2,max:10}},features:{analytics:Math.random()>.3,caching:Math.random()>.2,logging:!0}}})},{name:"Nested Structure",generator:()=>({company:{name:["Acme Corp","Tech Solutions","Global Systems"][Math.floor(Math.random()*3)],founded:Math.floor(Math.random()*30)+1990,employees:Math.floor(Math.random()*5e3)+100,departments:{engineering:{head:["Alice","Bob","Charlie"][Math.floor(Math.random()*3)],size:Math.floor(Math.random()*100)+20,projects:Math.floor(Math.random()*20)+5},sales:{head:["David","Eve","Frank"][Math.floor(Math.random()*3)],size:Math.floor(Math.random()*50)+10,revenue:Math.floor(Math.random()*1e6)},marketing:{head:["Grace","Henry","Ivy"][Math.floor(Math.random()*3)],size:Math.floor(Math.random()*30)+5,campaigns:Math.floor(Math.random()*10)+2}},locations:["New York","San Francisco","London","Tokyo"].slice(0,Math.floor(Math.random()*4)+1)}})}],Gt=()=>{const M=et[Math.floor(Math.random()*et.length)].generator();return JSON.stringify(M,null,2)},Yt=()=>JSON.stringify({message:"Welcome to JSON Utility Tool",instructions:"Paste your JSON here or click 'Generate Sample' to try different examples",features:["Format and minify JSON","Validate syntax","Sort keys alphabetically","Flatten nested structures","Convert to/from CSV","Compare two JSON objects","Tree view navigation"],example:{name:"Sample Data",value:42,active:!0,items:["item1","item2","item3"]}},null,2);chrome.runtime?.getURL&&chrome.runtime.getURL("jwt.html"),chrome.runtime?.getURL&&chrome.runtime.getURL("saml.html"),chrome.runtime?.getURL&&chrome.runtime.getURL("rest.html"),chrome.runtime?.getURL&&chrome.runtime.getURL("har-analyzer.html"),chrome.runtime?.getURL&&chrome.runtime.getURL("json-utility.html");const Zt=()=>{const[p,M]=T.useState(!0),[l,h]=T.useState(Yt()),[f,t]=T.useState(""),[c,o]=T.useState(null),[N,O]=T.useState("editor"),[k,J]=T.useState({input:!1,output:!1}),[_,R]=T.useState(!1),[$,v]=T.useState("editor"),C=m=>{if(!m||!m.trim())return o(null),null;try{const a=JSON.parse(m);return o(null),a}catch(a){const w=Ie(a,m);return o(w),null}};T.useMemo(()=>{C(l)},[l]);const g=c===null&&l.trim()!=="",s=()=>{const m=C(l);m&&(t(JSON.stringify(m,null,2)),v("editor"))},r=()=>{const m=C(l);m&&(t(JSON.stringify(m)),v("editor"))},d=()=>{const m=C(l);if(m&&typeof m=="object"){const a=Ee(m,"asc");t(JSON.stringify(a,null,2)),v("editor")}},i=()=>{const m=C(l);if(m&&typeof m=="object"){const a=Ee(m,"desc");t(JSON.stringify(a,null,2)),v("editor")}},n=()=>{const m=C(l);if(m&&typeof m=="object"&&!Array.isArray(m)){const a=De(m);t(JSON.stringify(a,null,2)),v("editor")}else o({message:"Input must be a JSON object (not an array) to flatten",line:null})},x=()=>{const m=C(l);if(m&&typeof m=="object"&&!Array.isArray(m))try{const a=Ut(m);t(JSON.stringify(a,null,2)),v("editor")}catch(a){o({message:a.message||"Failed to unflatten JSON",line:null})}else o({message:"Input must be a JSON object (not an array) to unflatten",line:null})},S=()=>{C(l)&&v("tree")},b=()=>{h(Gt()),t(""),v("editor")},V=()=>{h(""),t(""),o(null),v("editor")},H=async(m,a)=>{if(m)try{await navigator.clipboard.writeText(m),J(w=>({...w,[a]:!0})),setTimeout(()=>{J(w=>({...w,[a]:!1}))},2e3)}catch(w){console.error("Failed to copy:",w)}},j=m=>{const a=JSON.stringify(m,null,2);h(a),t(a)};return e.jsxs("div",{className:"flex h-screen bg-white overflow-hidden",children:[e.jsx(vt,{currentPageId:"json",sidebarOpen:p,onSidebarToggle:M}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",style:{width:"100%",minWidth:0},children:e.jsx("div",{className:"mx-auto max-w-[1600px] w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-10",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("header",{className:"bg-white border border-gray-300 rounded-xl shadow-sm px-4 sm:px-6 lg:px-8 py-4 sm:py-6 mb-4 sm:mb-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"JSON Utility"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Format, validate, transform, and analyze JSON data with ease"})]})})}),e.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-wrap items-center justify-center gap-2",children:[e.jsxs("button",{onClick:b,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-white bg-sky-500 hover:bg-sky-600 hover:border-gray-400 hover:shadow",title:"Generate random sample JSON",children:[e.jsx(wt,{className:"h-3.5 w-3.5"}),"Generate Sample"]}),e.jsxs("button",{onClick:s,disabled:!g,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Format JSON with indentation",children:[e.jsx(Ge,{className:"h-3.5 w-3.5"}),"Pretty Print"]}),e.jsxs("button",{onClick:r,disabled:!g,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Minify JSON (remove whitespace)",children:[e.jsx(Ge,{className:"h-3.5 w-3.5"}),"Minify"]}),e.jsxs("button",{onClick:S,disabled:!g,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Show JSON as tree view",children:[e.jsx(Nt,{className:"h-3.5 w-3.5"}),"Tree View"]}),e.jsxs("button",{onClick:d,disabled:!g,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Sort keys alphabetically (A-Z)",children:[e.jsx(Fe,{className:"h-3.5 w-3.5"}),"Sort A-Z"]}),e.jsxs("button",{onClick:i,disabled:!g,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Sort keys reverse alphabetically (Z-A)",children:[e.jsx(Fe,{className:"h-3.5 w-3.5"}),"Sort Z-A"]}),e.jsxs("button",{onClick:n,disabled:!g,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Flatten nested JSON object",children:[e.jsx(Fe,{className:"h-3.5 w-3.5"}),"Flatten"]}),e.jsxs("button",{onClick:x,disabled:!g,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Unflatten JSON object",children:[e.jsx(Fe,{className:"h-3.5 w-3.5"}),"Unflatten"]}),e.jsxs("button",{onClick:V,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow",title:"Clear all content",children:[e.jsx(St,{className:"h-3.5 w-3.5"}),"Clear"]})]}),c&&e.jsxs("div",{className:"rounded-xl border border-error/20 bg-error/5 overflow-hidden",children:[e.jsx("div",{onClick:()=>R(!_),className:"cursor-pointer px-4 sm:px-6 py-3 sm:py-4 hover:bg-error/10 transition-colors border-b border-error/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(ie,{className:"h-5 w-5 text-error flex-shrink-0"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"font-semibold text-error truncate",children:[c.message||"Invalid JSON",c.line&&` (Line ${c.line}${c.column?`, Column ${c.column}`:""})`]})})]}),e.jsx("button",{className:"text-error hover:text-error/80 flex-shrink-0",children:_?e.jsx(yt,{className:"h-5 w-5"}):e.jsx(tt,{className:"h-5 w-5"})})]})}),_&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-error/20",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[c.originalMessage&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-error",children:"Error:"}),e.jsx("span",{className:"text-error/90 ml-2",children:c.originalMessage})]}),c.line&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-error",children:"Location:"}),e.jsxs("span",{className:"text-error/90 ml-2",children:["Line ",c.line,c.column&&`, Column ${c.column}`]})]}),c.suggestion&&e.jsxs("div",{className:"mt-3 p-3 bg-error/10 rounded border-l-2 border-error/40",children:[e.jsx("div",{className:"font-semibold text-error mb-1",children:"💡 Suggestion:"}),e.jsx("div",{className:"text-error/90",children:c.suggestion})]}),c.context&&e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"font-semibold text-error mb-1",children:"Context:"}),e.jsx("div",{className:"text-xs text-error/80 font-mono bg-error/10 rounded p-2",children:c.context})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-0.5 bg-white p-0.5 border border-gray-300 rounded-md",children:[e.jsx("button",{onClick:()=>O("editor"),className:ce("px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-medium transition-colors rounded",N==="editor"?"bg-sky-500 text-white":"text-gray-700 hover:bg-gray-50"),children:"Editor"}),e.jsx("button",{onClick:()=>O("diff"),className:ce("px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-medium transition-colors rounded",N==="diff"?"bg-sky-500 text-white":"text-gray-700 hover:bg-gray-50"),children:"Diff"}),e.jsx("button",{onClick:()=>O("convert"),disabled:!g,className:ce("px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-medium transition-colors rounded disabled:opacity-50 disabled:cursor-not-allowed",N==="convert"?"bg-sky-500 text-white":"text-gray-700 hover:bg-gray-50"),children:"Convert"})]}),e.jsxs("div",{className:"flex-1 min-h-0",children:[N==="editor"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",style:{gridTemplateColumns:"minmax(0, 1fr) minmax(0, 1fr)"},children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[e.jsx("div",{className:"h-1.5 sm:h-2 w-1.5 sm:w-2 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:"Input JSON"}),l&&e.jsx("div",{className:"flex items-center gap-2 ml-2",children:c?e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-red-100 border border-red-300 rounded text-xs",children:[e.jsx(ie,{className:"h-3 w-3 text-red-600"}),e.jsx("span",{className:"font-semibold text-red-900",children:"Invalid"})]}):e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 border border-green-300 rounded text-xs",children:[e.jsx(je,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Valid"})]})})]}),e.jsx("button",{onClick:()=>H(l,"input"),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow",title:"Copy input to clipboard",children:k.input?e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"h-3.5 w-3.5 text-green-600"}),e.jsx("span",{className:"hidden sm:inline",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Copy"})]})})]}),e.jsx("div",{className:"flex-1 min-h-0",style:{minHeight:"400px"},children:e.jsx(Je,{value:l,onChange:h,readOnly:!1,placeholder:"Paste or type JSON here...",errorLine:c?.line||null,errorMessage:c?.message||null})})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"h-1.5 sm:h-2 w-1.5 sm:w-2 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:$==="tree"?"Tree View":"Output JSON"})]}),$==="editor"&&e.jsx("button",{onClick:()=>H(f,"output"),disabled:!f,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Copy output to clipboard",children:k.output?e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"h-3.5 w-3.5 text-green-600"}),e.jsx("span",{className:"hidden sm:inline",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Copy"})]})})]}),e.jsx("div",{className:"flex-1 min-h-0",style:{minHeight:"400px"},children:$==="tree"?g?(()=>{try{const m=JSON.parse(l);return e.jsx(zt,{jsonData:m,onPathSelect:(a,w)=>{w!==void 0&&typeof w!="object"&&(t(JSON.stringify(w,null,2)),v("editor"))},onUpdate:j,editable:!0})}catch{return e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(ie,{className:"h-12 w-12 mx-auto mb-4 text-red-400"}),e.jsx("div",{className:"text-red-600 font-semibold mb-2 text-lg",children:"Invalid JSON"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Please fix errors to view tree."})]})}})():e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(ie,{className:"h-12 w-12 mx-auto mb-4 text-red-400"}),e.jsx("div",{className:"text-red-600 font-semibold mb-2 text-lg",children:"Invalid JSON"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Please fix errors to view tree."})]}):e.jsx(Je,{value:f,onChange:t,readOnly:!1,placeholder:"Transformed JSON will appear here..."})})]})]}),N==="diff"&&e.jsx("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm overflow-hidden",children:e.jsx("div",{className:"h-full overflow-auto",children:e.jsx(qt,{onOutputUpdate:m=>t(m)})})}),N==="convert"&&g&&e.jsx("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm overflow-hidden",children:e.jsx("div",{className:"h-full overflow-auto",children:e.jsx(Wt,{inputJson:l,isValidJson:g,onOutputUpdate:m=>t(m)})})})]})]})})})]})},Qt=mt.createRoot(document.getElementById("root"));Qt.render(e.jsx(Zt,{}));
//# sourceMappingURL=json-utility-OgizOuUn.js.map
