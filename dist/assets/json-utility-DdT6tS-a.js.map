{"version":3,"file":"json-utility-DdT6tS-a.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-left.js","../../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../../node_modules/lucide-react/dist/esm/icons/check.js","../../node_modules/lucide-react/dist/esm/icons/eye.js","../../node_modules/lucide-react/dist/esm/icons/file-spreadsheet.js","../../node_modules/lucide-react/dist/esm/icons/git-merge.js","../../node_modules/lucide-react/dist/esm/icons/pen.js","../../node_modules/react-simple-code-editor/lib/index.js","../../node_modules/prismjs/prism.js","../../node_modules/prismjs/components/prism-json.js","../../src/components/EnhancedJsonEditor.jsx","../../src/components/JsonTreeView.jsx","../../src/utils/jsonUtils.js","../../src/components/JsonConvert.jsx","../../src/utils/jsonErrorParser.js","../../src/components/JsonDiff.jsx","../../src/utils/sampleJson.js","../../src/json-utility.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n];\nconst ArrowLeft = createLucideIcon(\"arrow-left\", __iconNode);\n\nexport { __iconNode, ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n];\nconst ArrowRight = createLucideIcon(\"arrow-right\", __iconNode);\n\nexport { __iconNode, ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]];\nconst Check = createLucideIcon(\"check\", __iconNode);\n\nexport { __iconNode, Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n      key: \"1nclc0\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n];\nconst Eye = createLucideIcon(\"eye\", __iconNode);\n\nexport { __iconNode, Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z\",\n      key: \"1oefj6\"\n    }\n  ],\n  [\"path\", { d: \"M14 2v5a1 1 0 0 0 1 1h5\", key: \"wfsgrz\" }],\n  [\"path\", { d: \"M8 13h2\", key: \"yr2amv\" }],\n  [\"path\", { d: \"M14 13h2\", key: \"un5t4a\" }],\n  [\"path\", { d: \"M8 17h2\", key: \"2yhykz\" }],\n  [\"path\", { d: \"M14 17h2\", key: \"10kma7\" }]\n];\nconst FileSpreadsheet = createLucideIcon(\"file-spreadsheet\", __iconNode);\n\nexport { __iconNode, FileSpreadsheet as default };\n//# sourceMappingURL=file-spreadsheet.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"18\", cy: \"18\", r: \"3\", key: \"1xkwt0\" }],\n  [\"circle\", { cx: \"6\", cy: \"6\", r: \"3\", key: \"1lh9wr\" }],\n  [\"path\", { d: \"M6 21V9a9 9 0 0 0 9 9\", key: \"7kw0sc\" }]\n];\nconst GitMerge = createLucideIcon(\"git-merge\", __iconNode);\n\nexport { __iconNode, GitMerge as default };\n//# sourceMappingURL=git-merge.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ]\n];\nconst Pen = createLucideIcon(\"pen\", __iconNode);\n\nexport { __iconNode, Pen as default };\n//# sourceMappingURL=pen.js.map\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar KEYCODE_Y = 89;\nvar KEYCODE_Z = 90;\nvar KEYCODE_M = 77;\nvar KEYCODE_PARENS = 57;\nvar KEYCODE_BRACKETS = 219;\nvar KEYCODE_QUOTE = 222;\nvar KEYCODE_BACK_QUOTE = 192;\nvar HISTORY_LIMIT = 100;\nvar HISTORY_TIME_GAP = 3000;\nvar isWindows = typeof window !== 'undefined' &&\n    'navigator' in window &&\n    /Win/i.test(navigator.platform);\nvar isMacLike = typeof window !== 'undefined' &&\n    'navigator' in window &&\n    /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\nvar className = 'npm__react-simple-code-editor__textarea';\nvar cssText = /* CSS */ \"\\n/**\\n * Reset the text fill color so that placeholder is visible\\n */\\n.\".concat(className, \":empty {\\n  -webkit-text-fill-color: inherit !important;\\n}\\n\\n/**\\n * Hack to apply on some CSS on IE10 and IE11\\n */\\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\\n  /**\\n    * IE doesn't support '-webkit-text-fill-color'\\n    * So we use 'color: transparent' to make the text transparent on IE\\n    * Unlike other browsers, it doesn't affect caret color in IE\\n    */\\n  .\").concat(className, \" {\\n    color: transparent !important;\\n  }\\n\\n  .\").concat(className, \"::selection {\\n    background-color: #accef7 !important;\\n    color: transparent !important;\\n  }\\n}\\n\");\nvar Editor = React.forwardRef(function Editor(props, ref) {\n    var autoFocus = props.autoFocus, disabled = props.disabled, form = props.form, highlight = props.highlight, _a = props.ignoreTabKey, ignoreTabKey = _a === void 0 ? false : _a, _b = props.insertSpaces, insertSpaces = _b === void 0 ? true : _b, maxLength = props.maxLength, minLength = props.minLength, name = props.name, onBlur = props.onBlur, onClick = props.onClick, onFocus = props.onFocus, onKeyDown = props.onKeyDown, onKeyUp = props.onKeyUp, onValueChange = props.onValueChange, _c = props.padding, padding = _c === void 0 ? 0 : _c, placeholder = props.placeholder, preClassName = props.preClassName, readOnly = props.readOnly, required = props.required, style = props.style, _d = props.tabSize, tabSize = _d === void 0 ? 2 : _d, textareaClassName = props.textareaClassName, textareaId = props.textareaId, value = props.value, rest = __rest(props, [\"autoFocus\", \"disabled\", \"form\", \"highlight\", \"ignoreTabKey\", \"insertSpaces\", \"maxLength\", \"minLength\", \"name\", \"onBlur\", \"onClick\", \"onFocus\", \"onKeyDown\", \"onKeyUp\", \"onValueChange\", \"padding\", \"placeholder\", \"preClassName\", \"readOnly\", \"required\", \"style\", \"tabSize\", \"textareaClassName\", \"textareaId\", \"value\"]);\n    var historyRef = React.useRef({\n        stack: [],\n        offset: -1,\n    });\n    var inputRef = React.useRef(null);\n    var _e = React.useState(true), capture = _e[0], setCapture = _e[1];\n    var contentStyle = {\n        paddingTop: typeof padding === 'object' ? padding.top : padding,\n        paddingRight: typeof padding === 'object' ? padding.right : padding,\n        paddingBottom: typeof padding === 'object' ? padding.bottom : padding,\n        paddingLeft: typeof padding === 'object' ? padding.left : padding,\n    };\n    var highlighted = highlight(value);\n    var getLines = function (text, position) {\n        return text.substring(0, position).split('\\n');\n    };\n    var recordChange = React.useCallback(function (record, overwrite) {\n        var _a, _b, _c;\n        if (overwrite === void 0) { overwrite = false; }\n        var _d = historyRef.current, stack = _d.stack, offset = _d.offset;\n        if (stack.length && offset > -1) {\n            // When something updates, drop the redo operations\n            historyRef.current.stack = stack.slice(0, offset + 1);\n            // Limit the number of operations to 100\n            var count = historyRef.current.stack.length;\n            if (count > HISTORY_LIMIT) {\n                var extras = count - HISTORY_LIMIT;\n                historyRef.current.stack = stack.slice(extras, count);\n                historyRef.current.offset = Math.max(historyRef.current.offset - extras, 0);\n            }\n        }\n        var timestamp = Date.now();\n        if (overwrite) {\n            var last = historyRef.current.stack[historyRef.current.offset];\n            if (last && timestamp - last.timestamp < HISTORY_TIME_GAP) {\n                // A previous entry exists and was in short interval\n                // Match the last word in the line\n                var re = /[^a-z0-9]([a-z0-9]+)$/i;\n                // Get the previous line\n                var previous = (_a = getLines(last.value, last.selectionStart)\n                    .pop()) === null || _a === void 0 ? void 0 : _a.match(re);\n                // Get the current line\n                var current = (_b = getLines(record.value, record.selectionStart)\n                    .pop()) === null || _b === void 0 ? void 0 : _b.match(re);\n                if ((previous === null || previous === void 0 ? void 0 : previous[1]) && ((_c = current === null || current === void 0 ? void 0 : current[1]) === null || _c === void 0 ? void 0 : _c.startsWith(previous[1]))) {\n                    // The last word of the previous line and current line match\n                    // Overwrite previous entry so that undo will remove whole word\n                    historyRef.current.stack[historyRef.current.offset] = __assign(__assign({}, record), { timestamp: timestamp });\n                    return;\n                }\n            }\n        }\n        // Add the new operation to the stack\n        historyRef.current.stack.push(__assign(__assign({}, record), { timestamp: timestamp }));\n        historyRef.current.offset++;\n    }, []);\n    var recordCurrentState = React.useCallback(function () {\n        var input = inputRef.current;\n        if (!input)\n            return;\n        // Save current state of the input\n        var value = input.value, selectionStart = input.selectionStart, selectionEnd = input.selectionEnd;\n        recordChange({\n            value: value,\n            selectionStart: selectionStart,\n            selectionEnd: selectionEnd,\n        });\n    }, [recordChange]);\n    var updateInput = function (record) {\n        var input = inputRef.current;\n        if (!input)\n            return;\n        // Update values and selection state\n        input.value = record.value;\n        input.selectionStart = record.selectionStart;\n        input.selectionEnd = record.selectionEnd;\n        onValueChange === null || onValueChange === void 0 ? void 0 : onValueChange(record.value);\n    };\n    var applyEdits = function (record) {\n        // Save last selection state\n        var input = inputRef.current;\n        var last = historyRef.current.stack[historyRef.current.offset];\n        if (last && input) {\n            historyRef.current.stack[historyRef.current.offset] = __assign(__assign({}, last), { selectionStart: input.selectionStart, selectionEnd: input.selectionEnd });\n        }\n        // Save the changes\n        recordChange(record);\n        updateInput(record);\n    };\n    var undoEdit = function () {\n        var _a = historyRef.current, stack = _a.stack, offset = _a.offset;\n        // Get the previous edit\n        var record = stack[offset - 1];\n        if (record) {\n            // Apply the changes and update the offset\n            updateInput(record);\n            historyRef.current.offset = Math.max(offset - 1, 0);\n        }\n    };\n    var redoEdit = function () {\n        var _a = historyRef.current, stack = _a.stack, offset = _a.offset;\n        // Get the next edit\n        var record = stack[offset + 1];\n        if (record) {\n            // Apply the changes and update the offset\n            updateInput(record);\n            historyRef.current.offset = Math.min(offset + 1, stack.length - 1);\n        }\n    };\n    var handleKeyDown = function (e) {\n        if (onKeyDown) {\n            onKeyDown(e);\n            if (e.defaultPrevented) {\n                return;\n            }\n        }\n        if (e.key === 'Escape') {\n            e.currentTarget.blur();\n        }\n        var _a = e.currentTarget, value = _a.value, selectionStart = _a.selectionStart, selectionEnd = _a.selectionEnd;\n        var tabCharacter = (insertSpaces ? ' ' : '\\t').repeat(tabSize);\n        if (e.key === 'Tab' && !ignoreTabKey && capture) {\n            // Prevent focus change\n            e.preventDefault();\n            if (e.shiftKey) {\n                // Unindent selected lines\n                var linesBeforeCaret = getLines(value, selectionStart);\n                var startLine_1 = linesBeforeCaret.length - 1;\n                var endLine_1 = getLines(value, selectionEnd).length - 1;\n                var nextValue = value\n                    .split('\\n')\n                    .map(function (line, i) {\n                    if (i >= startLine_1 &&\n                        i <= endLine_1 &&\n                        line.startsWith(tabCharacter)) {\n                        return line.substring(tabCharacter.length);\n                    }\n                    return line;\n                })\n                    .join('\\n');\n                if (value !== nextValue) {\n                    var startLineText = linesBeforeCaret[startLine_1];\n                    applyEdits({\n                        value: nextValue,\n                        // Move the start cursor if first line in selection was modified\n                        // It was modified only if it started with a tab\n                        selectionStart: (startLineText === null || startLineText === void 0 ? void 0 : startLineText.startsWith(tabCharacter))\n                            ? selectionStart - tabCharacter.length\n                            : selectionStart,\n                        // Move the end cursor by total number of characters removed\n                        selectionEnd: selectionEnd - (value.length - nextValue.length),\n                    });\n                }\n            }\n            else if (selectionStart !== selectionEnd) {\n                // Indent selected lines\n                var linesBeforeCaret = getLines(value, selectionStart);\n                var startLine_2 = linesBeforeCaret.length - 1;\n                var endLine_2 = getLines(value, selectionEnd).length - 1;\n                var startLineText = linesBeforeCaret[startLine_2];\n                applyEdits({\n                    value: value\n                        .split('\\n')\n                        .map(function (line, i) {\n                        if (i >= startLine_2 && i <= endLine_2) {\n                            return tabCharacter + line;\n                        }\n                        return line;\n                    })\n                        .join('\\n'),\n                    // Move the start cursor by number of characters added in first line of selection\n                    // Don't move it if it there was no text before cursor\n                    selectionStart: startLineText && /\\S/.test(startLineText)\n                        ? selectionStart + tabCharacter.length\n                        : selectionStart,\n                    // Move the end cursor by total number of characters added\n                    selectionEnd: selectionEnd + tabCharacter.length * (endLine_2 - startLine_2 + 1),\n                });\n            }\n            else {\n                var updatedSelection = selectionStart + tabCharacter.length;\n                applyEdits({\n                    // Insert tab character at caret\n                    value: value.substring(0, selectionStart) +\n                        tabCharacter +\n                        value.substring(selectionEnd),\n                    // Update caret position\n                    selectionStart: updatedSelection,\n                    selectionEnd: updatedSelection,\n                });\n            }\n        }\n        else if (e.key === 'Backspace') {\n            var hasSelection = selectionStart !== selectionEnd;\n            var textBeforeCaret = value.substring(0, selectionStart);\n            if (textBeforeCaret.endsWith(tabCharacter) && !hasSelection) {\n                // Prevent default delete behaviour\n                e.preventDefault();\n                var updatedSelection = selectionStart - tabCharacter.length;\n                applyEdits({\n                    // Remove tab character at caret\n                    value: value.substring(0, selectionStart - tabCharacter.length) +\n                        value.substring(selectionEnd),\n                    // Update caret position\n                    selectionStart: updatedSelection,\n                    selectionEnd: updatedSelection,\n                });\n            }\n        }\n        else if (e.key === 'Enter') {\n            // Ignore selections\n            if (selectionStart === selectionEnd) {\n                // Get the current line\n                var line = getLines(value, selectionStart).pop();\n                var matches = line === null || line === void 0 ? void 0 : line.match(/^\\s+/);\n                if (matches === null || matches === void 0 ? void 0 : matches[0]) {\n                    e.preventDefault();\n                    // Preserve indentation on inserting a new line\n                    var indent = '\\n' + matches[0];\n                    var updatedSelection = selectionStart + indent.length;\n                    applyEdits({\n                        // Insert indentation character at caret\n                        value: value.substring(0, selectionStart) +\n                            indent +\n                            value.substring(selectionEnd),\n                        // Update caret position\n                        selectionStart: updatedSelection,\n                        selectionEnd: updatedSelection,\n                    });\n                }\n            }\n        }\n        else if (e.keyCode === KEYCODE_PARENS ||\n            e.keyCode === KEYCODE_BRACKETS ||\n            e.keyCode === KEYCODE_QUOTE ||\n            e.keyCode === KEYCODE_BACK_QUOTE) {\n            var chars = void 0;\n            if (e.keyCode === KEYCODE_PARENS && e.shiftKey) {\n                chars = ['(', ')'];\n            }\n            else if (e.keyCode === KEYCODE_BRACKETS) {\n                if (e.shiftKey) {\n                    chars = ['{', '}'];\n                }\n                else {\n                    chars = ['[', ']'];\n                }\n            }\n            else if (e.keyCode === KEYCODE_QUOTE) {\n                if (e.shiftKey) {\n                    chars = ['\"', '\"'];\n                }\n                else {\n                    chars = [\"'\", \"'\"];\n                }\n            }\n            else if (e.keyCode === KEYCODE_BACK_QUOTE && !e.shiftKey) {\n                chars = ['`', '`'];\n            }\n            // If text is selected, wrap them in the characters\n            if (selectionStart !== selectionEnd && chars) {\n                e.preventDefault();\n                applyEdits({\n                    value: value.substring(0, selectionStart) +\n                        chars[0] +\n                        value.substring(selectionStart, selectionEnd) +\n                        chars[1] +\n                        value.substring(selectionEnd),\n                    // Update caret position\n                    selectionStart: selectionStart,\n                    selectionEnd: selectionEnd + 2,\n                });\n            }\n        }\n        else if ((isMacLike\n            ? // Trigger undo with ⌘+Z on Mac\n                e.metaKey && e.keyCode === KEYCODE_Z\n            : // Trigger undo with Ctrl+Z on other platforms\n                e.ctrlKey && e.keyCode === KEYCODE_Z) &&\n            !e.shiftKey &&\n            !e.altKey) {\n            e.preventDefault();\n            undoEdit();\n        }\n        else if ((isMacLike\n            ? // Trigger redo with ⌘+Shift+Z on Mac\n                e.metaKey && e.keyCode === KEYCODE_Z && e.shiftKey\n            : isWindows\n                ? // Trigger redo with Ctrl+Y on Windows\n                    e.ctrlKey && e.keyCode === KEYCODE_Y\n                : // Trigger redo with Ctrl+Shift+Z on other platforms\n                    e.ctrlKey && e.keyCode === KEYCODE_Z && e.shiftKey) &&\n            !e.altKey) {\n            e.preventDefault();\n            redoEdit();\n        }\n        else if (e.keyCode === KEYCODE_M &&\n            e.ctrlKey &&\n            (isMacLike ? e.shiftKey : true)) {\n            e.preventDefault();\n            // Toggle capturing tab key so users can focus away\n            setCapture(function (prev) { return !prev; });\n        }\n    };\n    var handleChange = function (e) {\n        var _a = e.currentTarget, value = _a.value, selectionStart = _a.selectionStart, selectionEnd = _a.selectionEnd;\n        recordChange({\n            value: value,\n            selectionStart: selectionStart,\n            selectionEnd: selectionEnd,\n        }, true);\n        onValueChange(value);\n    };\n    React.useEffect(function () {\n        recordCurrentState();\n    }, [recordCurrentState]);\n    React.useImperativeHandle(ref, function () {\n        return {\n            get session() {\n                return {\n                    history: historyRef.current,\n                };\n            },\n            set session(session) {\n                historyRef.current = session.history;\n            },\n        };\n    }, []);\n    return (React.createElement(\"div\", __assign({}, rest, { style: __assign(__assign({}, styles.container), style) }),\n        React.createElement(\"pre\", __assign({ className: preClassName, \"aria-hidden\": \"true\", style: __assign(__assign(__assign({}, styles.editor), styles.highlight), contentStyle) }, (typeof highlighted === 'string'\n            ? { dangerouslySetInnerHTML: { __html: highlighted + '<br />' } }\n            : { children: highlighted }))),\n        React.createElement(\"textarea\", { ref: function (c) { return (inputRef.current = c); }, style: __assign(__assign(__assign({}, styles.editor), styles.textarea), contentStyle), className: className + (textareaClassName ? \" \".concat(textareaClassName) : ''), id: textareaId, value: value, onChange: handleChange, onKeyDown: handleKeyDown, onClick: onClick, onKeyUp: onKeyUp, onFocus: onFocus, onBlur: onBlur, disabled: disabled, form: form, maxLength: maxLength, minLength: minLength, name: name, placeholder: placeholder, readOnly: readOnly, required: required, autoFocus: autoFocus, autoCapitalize: \"off\", autoComplete: \"off\", autoCorrect: \"off\", spellCheck: false, \"data-gramm\": false }),\n        React.createElement(\"style\", { dangerouslySetInnerHTML: { __html: cssText } })));\n});\nvar styles = {\n    container: {\n        position: 'relative',\n        textAlign: 'left',\n        boxSizing: 'border-box',\n        padding: 0,\n        overflow: 'hidden',\n    },\n    textarea: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        height: '100%',\n        width: '100%',\n        resize: 'none',\n        color: 'inherit',\n        overflow: 'hidden',\n        MozOsxFontSmoothing: 'grayscale',\n        WebkitFontSmoothing: 'antialiased',\n        WebkitTextFillColor: 'transparent',\n    },\n    highlight: {\n        position: 'relative',\n        pointerEvents: 'none',\n    },\n    editor: {\n        margin: 0,\n        border: 0,\n        background: 'none',\n        boxSizing: 'inherit',\n        display: 'inherit',\n        fontFamily: 'inherit',\n        fontSize: 'inherit',\n        fontStyle: 'inherit',\n        fontVariantLigatures: 'inherit',\n        fontWeight: 'inherit',\n        letterSpacing: 'inherit',\n        lineHeight: 'inherit',\n        tabSize: 'inherit',\n        textIndent: 'inherit',\n        textRendering: 'inherit',\n        textTransform: 'inherit',\n        whiteSpace: 'pre-wrap',\n        wordBreak: 'keep-all',\n        overflowWrap: 'break-word',\n    },\n};\nexports.default = Editor;\n//# sourceMappingURL=index.js.map","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (document.currentScript && document.currentScript.tagName === 'SCRIPT' && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prism’s API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what you’re doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading…';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn '✖ Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = '✖ Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","// https://www.json.org/json-en.html\nPrism.languages.json = {\n\t'property': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?!\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'comment': {\n\t\tpattern: /\\/\\/.*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\tgreedy: true\n\t},\n\t'number': /-?\\b\\d+(?:\\.\\d+)?(?:e[+-]?\\d+)?\\b/i,\n\t'punctuation': /[{}[\\],]/,\n\t'operator': /:/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'null': {\n\t\tpattern: /\\bnull\\b/,\n\t\talias: 'keyword'\n\t}\n};\n\nPrism.languages.webmanifest = Prism.languages.json;\n","import React, { useMemo, useRef, useEffect, useState } from 'react';\nimport Editor from 'react-simple-code-editor';\nimport { highlight, languages } from 'prismjs';\nimport { Info } from 'lucide-react';\nimport { createPortal } from 'react-dom';\nimport 'prismjs/components/prism-json';\nimport 'prismjs/themes/prism.css';\n\n/**\n * Enhanced JSON Editor with line numbers and error highlighting\n */\nconst EnhancedJsonEditor = ({ \n  value = '', \n  onChange, \n  readOnly = false, \n  placeholder = 'Enter JSON...',\n  errorLine = null, // Can be a number or array of numbers\n  errorMessage = null,\n  style = {}\n}) => {\n  const editorRef = useRef(null);\n  const lineNumbersRef = useRef(null);\n  const [tooltipState, setTooltipState] = useState({ show: false, x: 0, y: 0 });\n  const iconRef = useRef(null);\n\n  const lines = value ? value.split('\\n') : [''];\n  const lineCount = lines.length;\n  \n  // Normalize errorLine to array\n  const errorLines = useMemo(() => {\n    if (!errorLine) return [];\n    if (Array.isArray(errorLine)) return errorLine;\n    return [errorLine];\n  }, [errorLine]);\n\n  // Scroll line numbers with content\n  useEffect(() => {\n    const editor = editorRef.current;\n    const lineNumbers = lineNumbersRef.current;\n    if (!editor || !lineNumbers) return;\n\n    const handleScroll = () => {\n      if (lineNumbers) {\n        lineNumbers.scrollTop = editor.scrollTop;\n      }\n    };\n\n    const textarea = editor.querySelector('textarea');\n    if (textarea) {\n      textarea.addEventListener('scroll', handleScroll);\n      return () => textarea.removeEventListener('scroll', handleScroll);\n    }\n  }, [value]);\n\n  // Handle tooltip positioning\n  const handleMouseEnter = (e) => {\n    if (iconRef.current) {\n      const rect = iconRef.current.getBoundingClientRect();\n      setTooltipState({\n        show: true,\n        x: rect.right + 12, // Position to the right of the icon\n        y: rect.top + rect.height / 2 // Center vertically with icon\n      });\n    }\n  };\n\n  const handleMouseLeave = () => {\n    setTooltipState({ show: false, x: 0, y: 0 });\n  };\n\n  // Enhanced highlighting that marks ALL error lines in the text\n  const highlightedCode = useMemo(() => {\n    if (!value) return '';\n    \n    try {\n      let highlighted = highlight(value, languages.json, 'json');\n      \n      // If there are error lines, wrap each line in a span with error styling\n      if (errorLines.length > 0) {\n        const codeLines = highlighted.split('\\n');\n        errorLines.forEach(lineNum => {\n          if (lineNum > 0 && codeLines[lineNum - 1]) {\n            // Wrap the entire error line in a span with error background\n            codeLines[lineNum - 1] = `<span class=\"error-line-text\" style=\"background-color: rgba(239, 68, 68, 0.25); display: inline-block; width: 100%; padding: 2px 0; margin-left: -16px; padding-left: 16px; border-left: 3px solid #ef4444;\">${codeLines[lineNum - 1]}</span>`;\n          }\n        });\n        highlighted = codeLines.join('\\n');\n      }\n      \n      return highlighted;\n    } catch (e) {\n      return value;\n    }\n  }, [value, errorLines]);\n\n  return (\n    <>\n      <div className=\"w-full h-full relative flex\" style={{ ...style, width: '100%', minWidth: 0, maxWidth: '100%' }}>\n        {/* Line Numbers */}\n        <div\n          ref={lineNumbersRef}\n          className=\"flex-shrink-0 bg-slate-50 border-r border-slate-200 text-right pr-2 py-4\"\n          style={{ \n            width: '50px',\n            fontFamily: '\"Fira Code\", \"Fira Mono\", \"Consolas\", \"Monaco\", \"Courier New\", monospace',\n            fontSize: '14px',\n            lineHeight: '1.6',\n            color: '#64748b',\n            overflowY: 'hidden', // Hide scrollbar - scroll is synced with editor\n            overflowX: 'visible'\n          }}\n        >\n          {Array.from({ length: lineCount }, (_, i) => {\n            const lineNum = i + 1;\n            const isErrorLine = errorLines.includes(lineNum);\n            return (\n              <div\n                key={i}\n                className={`\n                  relative flex items-center justify-end gap-1\n                  ${isErrorLine ? 'bg-red-100 text-red-600 font-semibold' : ''}\n                `}\n                style={{ minHeight: '22.4px' }}\n              >\n                {isErrorLine && errorMessage && i === errorLines[0] - 1 && (\n                  <div \n                    ref={iconRef}\n                    onMouseEnter={handleMouseEnter}\n                    onMouseLeave={handleMouseLeave}\n                    className=\"relative z-50\"\n                  >\n                    <Info className=\"h-3.5 w-3.5 text-red-600 cursor-help flex-shrink-0\" />\n                  </div>\n                )}\n                <span>{lineNum}</span>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Editor */}\n        <div ref={editorRef} className=\"flex-1 relative overflow-hidden\">\n          <Editor\n            value={value}\n            onValueChange={(code) => {\n              if (onChange && !readOnly) {\n                onChange(code);\n              }\n            }}\n            highlight={(code) => {\n              if (!code) return '';\n              \n              try {\n                let highlighted = highlight(code, languages.json, 'json');\n                \n                // If there are error lines, wrap each line in a span with error styling\n                if (errorLines.length > 0) {\n                  const codeLines = highlighted.split('\\n');\n                  errorLines.forEach(lineNum => {\n                    if (lineNum > 0 && codeLines[lineNum - 1]) {\n                      // Wrap the entire error line in a span with error background\n                      codeLines[lineNum - 1] = `<span class=\"error-line-text\" style=\"background-color: rgba(239, 68, 68, 0.25); display: inline-block; width: 100%; padding: 2px 0; margin-left: -16px; padding-left: 16px; border-left: 3px solid #ef4444;\">${codeLines[lineNum - 1]}</span>`;\n                    }\n                  });\n                  highlighted = codeLines.join('\\n');\n                }\n                \n                return highlighted;\n              } catch (e) {\n                return code;\n              }\n            }}\n            padding={16}\n            style={{\n              fontFamily: '\"Fira Code\", \"Fira Mono\", \"Consolas\", \"Monaco\", \"Courier New\", monospace',\n              fontSize: 14,\n              lineHeight: 1.6,\n              outline: 0,\n              backgroundColor: '#ffffff',\n              minHeight: '100%',\n              width: '100%',\n              ...style\n            }}\n            textareaClassName=\"json-editor-textarea\"\n            preClassName=\"json-editor-pre\"\n            readOnly={readOnly}\n            placeholder={placeholder}\n          />\n          {/* Error line highlight overlays for ALL error lines */}\n          {errorLines.map((lineNum) => (\n            lineNum > 0 && (\n              <div\n                key={lineNum}\n                className=\"absolute left-0 right-0 pointer-events-none\"\n                style={{\n                  top: `${(lineNum - 1) * 22.4}px`,\n                  height: '22.4px',\n                  backgroundColor: 'rgba(239, 68, 68, 0.15)',\n                  borderLeft: '3px solid #ef4444',\n                }}\n              />\n            )\n          ))}\n        </div>\n\n        <style>{`\n          .json-editor-textarea,\n          .json-editor-pre {\n            font-family: \"Fira Code\", \"Fira Mono\", \"Consolas\", \"Monaco\", \"Courier New\", monospace !important;\n            font-size: 14px;\n            line-height: 1.6;\n            tab-size: 2;\n            -moz-tab-size: 2;\n          }\n          .json-editor-textarea {\n            outline: none;\n            resize: none;\n            border: none;\n            overflow-wrap: normal;\n            overflow-x: auto;\n            white-space: pre;\n            padding-left: 0 !important;\n          }\n          .json-editor-textarea:focus {\n            outline: none;\n          }\n          .json-editor-pre {\n            pointer-events: none;\n            padding-left: 0 !important;\n          }\n          .error-line-text {\n            background-color: rgba(239, 68, 68, 0.25) !important;\n          }\n        `}</style>\n      </div>\n\n      {/* Tooltip using Portal to render above everything */}\n      {tooltipState.show && errorMessage && typeof document !== 'undefined' && createPortal(\n        <div \n          className=\"fixed z-[99999] bg-slate-900 text-white text-xs px-3 py-2 rounded-lg shadow-2xl pointer-events-none\"\n          style={{ \n            left: `${tooltipState.x}px`,\n            top: `${tooltipState.y}px`,\n            transform: 'translateY(-50%)',\n            maxWidth: '320px',\n            minWidth: '200px',\n            wordWrap: 'break-word',\n            whiteSpace: 'normal'\n          }}\n        >\n          <div className=\"font-semibold mb-1\">Error:</div>\n          <div>{errorMessage}</div>\n          <div className=\"absolute right-full top-1/2 -translate-y-1/2 translate-x-0.5\">\n            <div className=\"border-4 border-transparent border-r-slate-900\"></div>\n          </div>\n        </div>,\n        document.body\n      )}\n    </>\n  );\n};\n\nexport default EnhancedJsonEditor;\n","import React, { useState, useMemo } from 'react';\nimport { ChevronRight, ChevronDown, Copy, Search, Edit2, Check, X } from 'lucide-react';\nimport clsx from 'clsx';\n\n/**\n * JSON Tree View Component\n * Displays JSON as an expandable tree structure\n * Supports path navigation, copy functionality, and inline editing\n */\n\nconst JsonTreeView = ({ jsonData, onPathSelect, onUpdate, editable = false }) => {\n  const [expandedPaths, setExpandedPaths] = useState(new Set(['$']));\n  const [selectedPath, setSelectedPath] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [editingPath, setEditingPath] = useState(null);\n  const [editingValue, setEditingValue] = useState('');\n  const [localJsonData, setLocalJsonData] = useState(jsonData);\n  const clickTimeoutRef = React.useRef(null);\n\n  // Update local data when jsonData prop changes\n  React.useEffect(() => {\n    setLocalJsonData(jsonData);\n  }, [jsonData]);\n\n  // Build tree structure\n  const treeNodes = useMemo(() => {\n    if (!localJsonData) return [];\n\n    const buildNodes = (obj, path = '$', depth = 0) => {\n      const nodes = [];\n\n      if (obj === null) {\n        nodes.push({\n          path,\n          key: path.split(/[.\\[\\]]+/).filter(Boolean).pop() || 'root',\n          value: null,\n          type: 'null',\n          depth,\n          isLeaf: true,\n        });\n        return nodes;\n      }\n\n      if (typeof obj !== 'object') {\n        nodes.push({\n          path,\n          key: path.split(/[.\\[\\]]+/).filter(Boolean).pop() || 'root',\n          value: obj,\n          type: typeof obj,\n          depth,\n          isLeaf: true,\n        });\n        return nodes;\n      }\n\n      if (Array.isArray(obj)) {\n        obj.forEach((item, index) => {\n          const itemPath = `${path}[${index}]`;\n          if (typeof item === 'object' && item !== null) {\n            nodes.push({\n              path: itemPath,\n              key: `[${index}]`,\n              value: item,\n              type: Array.isArray(item) ? 'array' : 'object',\n              depth,\n              isLeaf: false,\n            });\n            nodes.push(...buildNodes(item, itemPath, depth + 1));\n          } else {\n            nodes.push({\n              path: itemPath,\n              key: `[${index}]`,\n              value: item,\n              type: typeof item,\n              depth,\n              isLeaf: true,\n            });\n          }\n        });\n      } else {\n        Object.keys(obj).forEach(key => {\n          const value = obj[key];\n          const keyPath = path === '$' ? `$.${key}` : `${path}.${key}`;\n          \n          if (typeof value === 'object' && value !== null) {\n            nodes.push({\n              path: keyPath,\n              key,\n              value,\n              type: Array.isArray(value) ? 'array' : 'object',\n              depth,\n              isLeaf: false,\n            });\n            nodes.push(...buildNodes(value, keyPath, depth + 1));\n          } else {\n            nodes.push({\n              path: keyPath,\n              key,\n              value,\n              type: typeof value === 'string' ? 'string' : typeof value,\n              depth,\n              isLeaf: true,\n            });\n          }\n        });\n      }\n\n      return nodes;\n    };\n\n    return buildNodes(localJsonData);\n  }, [localJsonData]);\n\n  // Filter nodes based on search\n  const filteredNodes = useMemo(() => {\n    if (!searchQuery) return treeNodes;\n\n    const query = searchQuery.toLowerCase();\n    return treeNodes.filter(node => {\n      const keyMatch = node.key.toLowerCase().includes(query);\n      const pathMatch = node.path.toLowerCase().includes(query);\n      const valueMatch = node.isLeaf && String(node.value).toLowerCase().includes(query);\n      return keyMatch || pathMatch || valueMatch;\n    });\n  }, [treeNodes, searchQuery]);\n\n  // Check if a node should be visible (parent expanded)\n  const isNodeVisible = (node) => {\n    if (!node.path || node.path === '$') return true;\n    \n    // Build parent paths progressively to check if all are expanded\n    // Handle paths like $.example, $.example.items, $.example.items[0], etc.\n    const pathParts = node.path.slice(2); // Remove '$.' prefix\n    if (!pathParts) return true;\n    \n    // Split by '.' and '[' to handle both object and array paths\n    const segments = [];\n    let currentSegment = '';\n    let inBracket = false;\n    \n    for (let i = 0; i < pathParts.length; i++) {\n      const char = pathParts[i];\n      if (char === '[') {\n        if (currentSegment) {\n          segments.push(currentSegment);\n          currentSegment = '';\n        }\n        inBracket = true;\n      } else if (char === ']') {\n        if (inBracket && currentSegment) {\n          segments.push(`[${currentSegment}]`);\n          currentSegment = '';\n          inBracket = false;\n        }\n      } else if (char === '.' && !inBracket) {\n        if (currentSegment) {\n          segments.push(currentSegment);\n          currentSegment = '';\n        }\n      } else {\n        currentSegment += char;\n      }\n    }\n    if (currentSegment) {\n      segments.push(currentSegment);\n    }\n    \n    // Build and check each parent path\n    for (let i = 1; i < segments.length; i++) {\n      const parentSegments = segments.slice(0, i);\n      let parentPath = '$';\n      \n      for (const seg of parentSegments) {\n        if (seg.startsWith('[')) {\n          parentPath += seg;\n        } else {\n          parentPath += parentPath === '$' ? `.${seg}` : `.${seg}`;\n        }\n      }\n      \n      if (!expandedPaths.has(parentPath)) {\n        return false;\n      }\n    }\n    \n    return true;\n  };\n\n  const toggleExpand = (path) => {\n    const newExpanded = new Set(expandedPaths);\n    if (newExpanded.has(path)) {\n      newExpanded.delete(path);\n    } else {\n      newExpanded.add(path);\n    }\n    setExpandedPaths(newExpanded);\n  };\n\n  const handleNodeClick = (node, e) => {\n    if (editingPath) return; // Don't select while editing\n    // Don't handle clicks that are part of a double-click\n    if (e && e.detail === 2) return;\n    \n    setSelectedPath(node.path);\n    if (onPathSelect) {\n      onPathSelect(node.path, node.value);\n    }\n  };\n\n  const startEditing = (node, e) => {\n    if (!editable || !node.isLeaf) return;\n    if (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n    // Clear selection to prevent onPathSelect from being called\n    setSelectedPath(null);\n    setEditingPath(node.path);\n    setEditingValue(String(node.value === null ? 'null' : node.value));\n  };\n\n  const cancelEditing = () => {\n    setEditingPath(null);\n    setEditingValue('');\n  };\n\n  const saveEditing = () => {\n    if (!editingPath) return;\n\n    try {\n      const updatedData = updateValueAtPath(localJsonData, editingPath, editingValue);\n      setLocalJsonData(updatedData);\n      \n      if (onUpdate) {\n        onUpdate(updatedData);\n      }\n      \n      setEditingPath(null);\n      setEditingValue('');\n    } catch (err) {\n      console.error('Failed to update value:', err);\n      alert('Failed to update value: ' + err.message);\n    }\n  };\n\n  // Update value at a given path in the JSON structure\n  const updateValueAtPath = (data, path, newValueStr) => {\n    const cloned = JSON.parse(JSON.stringify(data));\n    const cleanPath = path.startsWith('$.') ? path.substring(2) : path;\n    \n    // Parse the new value based on type\n    let newValue;\n    const trimmed = newValueStr.trim();\n    \n    if (trimmed === 'null') {\n      newValue = null;\n    } else if (trimmed === 'true') {\n      newValue = true;\n    } else if (trimmed === 'false') {\n      newValue = false;\n    } else if (trimmed.startsWith('\"') && trimmed.endsWith('\"')) {\n      // Remove quotes from string\n      newValue = trimmed.slice(1, -1);\n    } else if (!isNaN(trimmed) && trimmed !== '') {\n      // Number\n      newValue = Number(trimmed);\n    } else {\n      // Default to string\n      newValue = trimmed;\n    }\n\n    // Navigate to the path and update\n    const parts = cleanPath.split('.');\n    let current = cloned;\n    \n    for (let i = 0; i < parts.length - 1; i++) {\n      const part = parts[i];\n      const arrayMatch = part.match(/^(.+)\\[(\\d+)\\]$/);\n      \n      if (arrayMatch) {\n        const key = arrayMatch[1];\n        const index = parseInt(arrayMatch[2]);\n        current = current[key][index];\n      } else {\n        current = current[part];\n      }\n    }\n    \n    const lastPart = parts[parts.length - 1];\n    const arrayMatch = lastPart.match(/^(.+)\\[(\\d+)\\]$/);\n    \n    if (arrayMatch) {\n      const key = arrayMatch[1];\n      const index = parseInt(arrayMatch[2]);\n      current[key][index] = newValue;\n    } else {\n      current[lastPart] = newValue;\n    }\n    \n    return cloned;\n  };\n\n  const copyPath = async (path) => {\n    await navigator.clipboard.writeText(path);\n  };\n\n  const copyValue = async (value) => {\n    if (typeof value === 'object') {\n      await navigator.clipboard.writeText(JSON.stringify(value, null, 2));\n    } else {\n      await navigator.clipboard.writeText(String(value));\n    }\n  };\n\n  const formatValue = (value, type) => {\n    if (value === null) return 'null';\n    if (type === 'string') return `\"${value}\"`;\n    if (type === 'undefined') return 'undefined';\n    return String(value);\n  };\n\n  const getTypeColor = (type) => {\n    switch (type) {\n      case 'string': return 'text-green-600';\n      case 'number': return 'text-blue-600';\n      case 'boolean': return 'text-purple-600';\n      case 'null': return 'text-slate-400';\n      case 'object': return 'text-orange-600';\n      case 'array': return 'text-pink-600';\n      default: return 'text-slate-600';\n    }\n  };\n\n  if (!localJsonData) {\n    return (\n      <div className=\"p-8 text-center text-slate-500\">\n        No JSON data to display. Please load or paste JSON.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      {/* Search Bar */}\n      <div className=\"border-b border-slate-200 bg-white p-3\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search keys, paths, or values...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full rounded-lg border border-slate-200 bg-white py-2 pl-9 pr-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-primary focus:outline-none\"\n          />\n        </div>\n      </div>\n\n      {/* Tree View */}\n      <div className=\"flex-1 overflow-y-auto p-4\">\n        {filteredNodes.length === 0 ? (\n          <div className=\"text-center text-slate-500 py-8\">\n            No matching nodes found\n          </div>\n        ) : (\n          <div className=\"space-y-1\">\n            {filteredNodes.map((node, index) => {\n              if (!isNodeVisible(node)) return null;\n\n              const isExpanded = expandedPaths.has(node.path);\n              const isSelected = selectedPath === node.path;\n              const isEditing = editingPath === node.path;\n              const indent = node.depth * 20;\n\n              return (\n                <div\n                  key={`${node.path}-${index}`}\n                  className={clsx(\n                    'flex items-center gap-2 py-1 px-2 rounded hover:bg-slate-50 transition',\n                    isSelected && !isEditing && 'bg-blue-50 border-l-2 border-blue-500 cursor-pointer',\n                    isEditing && 'bg-yellow-50 border-l-2 border-yellow-500'\n                  )}\n                  style={{ marginLeft: `${indent}px` }}\n                  onClick={(e) => {\n                    if (isEditing) return;\n                    \n                    // Clear any existing timeout\n                    if (clickTimeoutRef.current) {\n                      clearTimeout(clickTimeoutRef.current);\n                    }\n                    \n                    // Set a timeout for single click - will be cancelled if double-click occurs\n                    clickTimeoutRef.current = setTimeout(() => {\n                      if (!editingPath && e.detail === 1) {\n                        handleNodeClick(node, e);\n                      }\n                    }, 300);\n                  }}\n                  onDoubleClick={(e) => {\n                    if (editable && node.isLeaf && !isEditing) {\n                      e.stopPropagation();\n                      e.preventDefault();\n                      \n                      // Cancel the single-click timeout\n                      if (clickTimeoutRef.current) {\n                        clearTimeout(clickTimeoutRef.current);\n                        clickTimeoutRef.current = null;\n                      }\n                      \n                      // Clear selection and start editing\n                      setSelectedPath(null);\n                      startEditing(node, e);\n                    }\n                  }}\n                >\n                  {!node.isLeaf && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        toggleExpand(node.path);\n                      }}\n                      className=\"p-0.5 hover:bg-slate-200 rounded transition\"\n                    >\n                      {isExpanded ? (\n                        <ChevronDown className=\"h-4 w-4 text-slate-600\" />\n                      ) : (\n                        <ChevronRight className=\"h-4 w-4 text-slate-600\" />\n                      )}\n                    </button>\n                  )}\n                  {node.isLeaf && !isEditing && <div className=\"w-5\" />}\n\n                  <span className=\"font-mono text-sm font-semibold text-slate-700\">\n                    {node.key}:\n                  </span>\n\n                  {node.isLeaf ? (\n                    isEditing ? (\n                      <>\n                        <input\n                          type=\"text\"\n                          value={editingValue}\n                          onChange={(e) => setEditingValue(e.target.value)}\n                          onKeyDown={(e) => {\n                            if (e.key === 'Enter') {\n                              e.preventDefault();\n                              saveEditing();\n                            } else if (e.key === 'Escape') {\n                              e.preventDefault();\n                              cancelEditing();\n                            }\n                          }}\n                          autoFocus\n                          className=\"flex-1 px-2 py-1 border border-blue-400 rounded bg-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                          onClick={(e) => e.stopPropagation()}\n                        />\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            saveEditing();\n                          }}\n                          className=\"p-1 hover:bg-green-200 rounded transition text-green-600\"\n                          title=\"Save\"\n                        >\n                          <Check className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            cancelEditing();\n                          }}\n                          className=\"p-1 hover:bg-red-200 rounded transition text-red-600\"\n                          title=\"Cancel\"\n                        >\n                          <X className=\"h-4 w-4\" />\n                        </button>\n                      </>\n                    ) : (\n                      <>\n                        <span \n                          className={clsx('font-mono text-sm select-none', getTypeColor(node.type))}\n                          onDoubleClick={editable ? (e) => {\n                            e.stopPropagation();\n                            e.preventDefault();\n                            startEditing(node, e);\n                          } : undefined}\n                          style={{ cursor: editable ? 'pointer' : 'default' }}\n                          title={editable ? 'Double-click to edit' : ''}\n                        >\n                          {formatValue(node.value, node.type)}\n                        </span>\n                        <div className=\"flex-1\" />\n                        {editable && (\n                          <button\n                            onClick={(e) => startEditing(node, e)}\n                            className=\"p-1 hover:bg-blue-200 rounded transition opacity-70 hover:opacity-100\"\n                            title=\"Edit value\"\n                          >\n                            <Edit2 className=\"h-3 w-3 text-blue-500\" />\n                          </button>\n                        )}\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            copyValue(node.value);\n                          }}\n                          className=\"p-1 hover:bg-slate-200 rounded transition opacity-70 hover:opacity-100\"\n                          title=\"Copy value\"\n                        >\n                          <Copy className=\"h-3 w-3 text-slate-500\" />\n                        </button>\n                      </>\n                    )\n                  ) : (\n                    <>\n                      <span className=\"text-xs text-slate-500\">\n                        {Array.isArray(node.value) \n                          ? `Array(${node.value.length})`\n                          : `Object(${Object.keys(node.value).length})`}\n                      </span>\n                      <div className=\"flex-1\" />\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          copyPath(node.path);\n                        }}\n                        className=\"p-1 hover:bg-slate-200 rounded transition opacity-70 hover:opacity-100\"\n                        title=\"Copy path\"\n                      >\n                        <Copy className=\"h-3 w-3 text-slate-500\" />\n                      </button>\n                    </>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Selected Path Info */}\n      {selectedPath && !editingPath && (\n        <div className=\"border-t border-slate-200 bg-slate-50 p-3\">\n          <div className=\"text-xs text-slate-600 mb-1\">Selected Path:</div>\n          <div className=\"font-mono text-sm text-slate-900 mb-2\">{selectedPath}</div>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => copyPath(selectedPath)}\n              className=\"text-xs px-2 py-1 bg-white border border-slate-200 rounded hover:bg-slate-50 transition flex items-center gap-1\"\n            >\n              <Copy className=\"h-3 w-3\" />\n              Copy Path\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default JsonTreeView;\n","/**\n * JSON Utility Functions\n * Shared utilities for JSON transformation, sorting, flattening, etc.\n */\n\n/**\n * Sort JSON keys recursively\n * @param {any} obj - Object to sort\n * @param {string} order - 'asc' | 'desc'\n * @returns {any} Sorted object\n */\nexport const sortKeys = (obj, order = 'asc') => {\n  if (obj === null || typeof obj !== 'object') {\n    return obj;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(item => sortKeys(item, order));\n  }\n\n  const sorted = {};\n  const keys = Object.keys(obj).sort((a, b) => {\n    if (order === 'desc') {\n      return b.localeCompare(a);\n    }\n    return a.localeCompare(b);\n  });\n\n  keys.forEach(key => {\n    const value = obj[key];\n    if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n      sorted[key] = sortKeys(value, order);\n    } else if (Array.isArray(value)) {\n      sorted[key] = value.map(item => sortKeys(item, order));\n    } else {\n      sorted[key] = value;\n    }\n  });\n\n  return sorted;\n};\n\n/**\n * Flatten nested JSON object\n * @param {object} obj - Object to flatten\n * @param {string} prefix - Prefix for keys\n * @param {string} separator - Separator between keys\n * @returns {object} Flattened object\n */\nexport const flattenJson = (obj, prefix = '', separator = '.') => {\n  const flattened = {};\n\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      const newKey = prefix ? `${prefix}${separator}${key}` : key;\n      const value = obj[key];\n\n      if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n        Object.assign(flattened, flattenJson(value, newKey, separator));\n      } else if (Array.isArray(value)) {\n        value.forEach((item, index) => {\n          if (typeof item === 'object' && item !== null) {\n            Object.assign(flattened, flattenJson(item, `${newKey}[${index}]`, separator));\n          } else {\n            flattened[`${newKey}[${index}]`] = item;\n          }\n        });\n      } else {\n        flattened[newKey] = value;\n      }\n    }\n  }\n\n  return flattened;\n};\n\n/**\n * Unflatten JSON object\n * @param {object} obj - Flattened object\n * @param {string} separator - Separator used in keys\n * @returns {object} Nested object\n */\nexport const unflattenJson = (obj, separator = '.') => {\n  const result = {};\n\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      const keys = key.split(separator);\n      let current = result;\n\n      for (let i = 0; i < keys.length - 1; i++) {\n        const k = keys[i];\n        // Handle array indices\n        const arrayMatch = k.match(/^(.+)\\[(\\d+)\\]$/);\n        if (arrayMatch) {\n          const arrayKey = arrayMatch[1];\n          const arrayIndex = parseInt(arrayMatch[2]);\n          \n          if (!current[arrayKey]) {\n            current[arrayKey] = [];\n          }\n          if (!current[arrayKey][arrayIndex]) {\n            current[arrayKey][arrayIndex] = {};\n          }\n          current = current[arrayKey][arrayIndex];\n        } else {\n          if (!current[k]) {\n            current[k] = {};\n          }\n          current = current[k];\n        }\n      }\n\n      const lastKey = keys[keys.length - 1];\n      const arrayMatch = lastKey.match(/^(.+)\\[(\\d+)\\]$/);\n      if (arrayMatch) {\n        const arrayKey = arrayMatch[1];\n        const arrayIndex = parseInt(arrayMatch[2]);\n        if (!current[arrayKey]) {\n          current[arrayKey] = [];\n        }\n        current[arrayKey][arrayIndex] = obj[key];\n      } else {\n        current[lastKey] = obj[key];\n      }\n    }\n  }\n\n  return result;\n};\n\n/**\n * Convert JSON array to CSV\n * @param {array} jsonArray - Array of objects\n * @returns {string} CSV string\n */\nexport const jsonToCsv = (jsonArray) => {\n  if (!Array.isArray(jsonArray) || jsonArray.length === 0) {\n    throw new Error('Input must be a non-empty array of objects');\n  }\n\n  // Get all unique keys from all objects\n  const allKeys = new Set();\n  jsonArray.forEach(obj => {\n    if (typeof obj === 'object' && obj !== null) {\n      Object.keys(obj).forEach(key => allKeys.add(key));\n    }\n  });\n\n  const headers = Array.from(allKeys);\n\n  // Escape CSV values\n  const escapeCsv = (value) => {\n    if (value === null || value === undefined) return '';\n    const str = String(value);\n    if (str.includes(',') || str.includes('\"') || str.includes('\\n')) {\n      return `\"${str.replace(/\"/g, '\"\"')}\"`;\n    }\n    return str;\n  };\n\n  // Build CSV rows\n  const rows = [\n    headers.map(escapeCsv).join(','), // Header row\n    ...jsonArray.map(obj => {\n      return headers.map(header => {\n        const value = obj[header];\n        if (typeof value === 'object' && value !== null) {\n          return escapeCsv(JSON.stringify(value));\n        }\n        return escapeCsv(value);\n      }).join(',');\n    }),\n  ];\n\n  return rows.join('\\n');\n};\n\n/**\n * Convert CSV to JSON array\n * @param {string} csv - CSV string\n * @returns {array} Array of objects\n */\nexport const csvToJson = (csv) => {\n  const lines = csv.split('\\n').filter(line => line.trim());\n  if (lines.length === 0) {\n    throw new Error('CSV is empty');\n  }\n\n  // Parse CSV line (handles quoted values)\n  const parseCsvLine = (line) => {\n    const values = [];\n    let current = '';\n    let inQuotes = false;\n\n    for (let i = 0; i < line.length; i++) {\n      const char = line[i];\n      const nextChar = line[i + 1];\n\n      if (char === '\"') {\n        if (inQuotes && nextChar === '\"') {\n          current += '\"';\n          i++; // Skip next quote\n        } else {\n          inQuotes = !inQuotes;\n        }\n      } else if (char === ',' && !inQuotes) {\n        values.push(current);\n        current = '';\n      } else {\n        current += char;\n      }\n    }\n    values.push(current); // Add last value\n\n    return values;\n  };\n\n  const headers = parseCsvLine(lines[0]);\n  const rows = lines.slice(1).map(line => {\n    const values = parseCsvLine(line);\n    const obj = {};\n    headers.forEach((header, index) => {\n      let value = values[index] || '';\n      // Try to parse as JSON if it looks like JSON\n      if (value.startsWith('{') || value.startsWith('[')) {\n        try {\n          value = JSON.parse(value);\n        } catch {\n          // Keep as string\n        }\n      }\n      obj[header] = value;\n    });\n    return obj;\n  });\n\n  return rows;\n};\n\n/**\n * Deep diff two JSON objects\n * @param {any} obj1 - First object\n * @param {any} obj2 - Second object\n * @param {string} path - Current path (for recursion)\n * @returns {object} Diff result\n */\nexport const diffJson = (obj1, obj2, path = '$') => {\n  const diffs = {\n    added: [],\n    removed: [],\n    changed: [],\n    unchanged: [],\n  };\n\n  const compare = (val1, val2, currentPath) => {\n    // Both are primitives\n    if (typeof val1 !== 'object' || val1 === null || typeof val2 !== 'object' || val2 === null) {\n      if (val1 !== val2) {\n        diffs.changed.push({\n          path: currentPath,\n          oldValue: val1,\n          newValue: val2,\n        });\n      } else {\n        diffs.unchanged.push({\n          path: currentPath,\n          value: val1,\n        });\n      }\n      return;\n    }\n\n    // Both are arrays\n    if (Array.isArray(val1) && Array.isArray(val2)) {\n      const maxLen = Math.max(val1.length, val2.length);\n      for (let i = 0; i < maxLen; i++) {\n        const itemPath = `${currentPath}[${i}]`;\n        if (i >= val1.length) {\n          diffs.added.push({\n            path: itemPath,\n            value: val2[i],\n          });\n        } else if (i >= val2.length) {\n          diffs.removed.push({\n            path: itemPath,\n            value: val1[i],\n          });\n        } else {\n          compare(val1[i], val2[i], itemPath);\n        }\n      }\n      return;\n    }\n\n    // Both are objects\n    const allKeys = new Set([...Object.keys(val1), ...Object.keys(val2)]);\n\n    allKeys.forEach(key => {\n      const itemPath = currentPath === '$' ? `$.${key}` : `${currentPath}.${key}`;\n      \n      if (!(key in val1)) {\n        diffs.added.push({\n          path: itemPath,\n          value: val2[key],\n        });\n      } else if (!(key in val2)) {\n        diffs.removed.push({\n          path: itemPath,\n          value: val1[key],\n        });\n      } else {\n        compare(val1[key], val2[key], itemPath);\n      }\n    });\n  };\n\n  compare(obj1, obj2, path);\n\n  return diffs;\n};\n\n","import React, { useState } from 'react';\nimport { Copy, Download as DownloadIcon, FileJson, FileSpreadsheet, ArrowRight, AlertCircle } from 'lucide-react';\nimport clsx from 'clsx';\nimport { jsonToCsv, csvToJson } from '../utils/jsonUtils';\n\nconst JsonConvert = ({ inputJson, isValidJson, onOutputUpdate }) => {\n  const [convertType, setConvertType] = useState('csv'); // 'csv' | 'ts' | 'zod' | 'yup'\n  const [convertError, setConvertError] = useState(null);\n  const [outputText, setOutputText] = useState('');\n\n  const handleJsonToCsv = () => {\n    setConvertError(null);\n    if (!isValidJson || !inputJson) {\n      setConvertError('Please provide valid JSON first');\n      return;\n    }\n\n    try {\n      const parsed = JSON.parse(inputJson);\n      \n      if (!Array.isArray(parsed)) {\n        setConvertError('JSON must be an array of objects for CSV conversion');\n        return;\n      }\n\n      if (parsed.length === 0) {\n        setConvertError('Array must not be empty');\n        return;\n      }\n\n      const csv = jsonToCsv(parsed);\n      setOutputText(csv);\n      if (onOutputUpdate) {\n        onOutputUpdate(csv);\n      }\n    } catch (err) {\n      setConvertError(err.message);\n    }\n  };\n\n  const handleCsvToJson = () => {\n    setConvertError(null);\n    if (!inputJson || !inputJson.trim()) {\n      setConvertError('Please provide CSV data first');\n      return;\n    }\n\n    try {\n      const jsonArray = csvToJson(inputJson);\n      const formatted = JSON.stringify(jsonArray, null, 2);\n      setOutputText(formatted);\n      if (onOutputUpdate) {\n        onOutputUpdate(formatted);\n      }\n    } catch (err) {\n      setConvertError(err.message);\n    }\n  };\n\n  const copyOutput = async () => {\n    if (outputText) {\n      await navigator.clipboard.writeText(outputText);\n    }\n  };\n\n  const downloadOutput = () => {\n    if (!outputText) return;\n\n    const extension = convertType === 'csv' ? 'csv' : 'txt';\n    const mimeType = convertType === 'csv' ? 'text/csv' : 'text/plain';\n    \n    const blob = new Blob([outputText], { type: mimeType });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `output.${extension}`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      {/* Convert Options */}\n      <div className=\"border-b border-slate-200 bg-white p-4\">\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-sm font-medium text-slate-700\">Convert:</span>\n          <button\n            onClick={() => {\n              setConvertType('csv');\n              setOutputText('');\n              setConvertError(null);\n            }}\n            className={clsx(\n              'px-4 py-2 rounded-lg text-sm font-medium transition',\n              convertType === 'csv'\n                ? 'bg-primary text-white'\n                : 'bg-slate-100 text-slate-700 hover:bg-slate-200'\n            )}\n          >\n            JSON ↔ CSV\n          </button>\n          <span className=\"text-xs text-slate-500\">More formats coming soon...</span>\n        </div>\n      </div>\n\n      {/* Convert Actions */}\n      {convertType === 'csv' && (\n        <div className=\"border-b border-slate-200 bg-slate-50 p-4\">\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={handleJsonToCsv}\n              disabled={!isValidJson}\n              className={clsx(\n                'px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2',\n                isValidJson\n                  ? 'bg-primary text-white hover:bg-primary/90'\n                  : 'bg-slate-200 text-slate-400 cursor-not-allowed'\n              )}\n            >\n              <FileJson className=\"h-4 w-4\" />\n              JSON to CSV\n              <ArrowRight className=\"h-4 w-4\" />\n            </button>\n            <button\n              onClick={handleCsvToJson}\n              disabled={!inputJson || !inputJson.trim()}\n              className={clsx(\n                'px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2',\n                inputJson && inputJson.trim()\n                  ? 'bg-white border border-slate-200 text-slate-700 hover:bg-slate-50'\n                  : 'bg-slate-200 text-slate-400 cursor-not-allowed'\n              )}\n            >\n              <FileSpreadsheet className=\"h-4 w-4\" />\n              CSV to JSON\n              <ArrowRight className=\"h-4 w-4\" />\n            </button>\n          </div>\n          {convertError && (\n            <div className=\"mt-3 flex items-center gap-2 text-red-600 text-sm\">\n              <AlertCircle className=\"h-4 w-4\" />\n              <span>{convertError}</span>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Output */}\n      <div className=\"flex-1 flex flex-col bg-white overflow-hidden\">\n        <div className=\"border-b border-slate-200 px-4 py-2 bg-slate-50 flex items-center justify-between\">\n          <h3 className=\"text-sm font-semibold text-slate-700\">Output</h3>\n          <div className=\"flex items-center gap-2\">\n            {outputText && (\n              <>\n                <button\n                  onClick={copyOutput}\n                  className=\"p-1.5 rounded text-slate-500 hover:bg-slate-200 transition\"\n                  title=\"Copy\"\n                >\n                  <Copy className=\"h-4 w-4\" />\n                </button>\n                <button\n                  onClick={downloadOutput}\n                  className=\"p-1.5 rounded text-slate-500 hover:bg-slate-200 transition\"\n                  title=\"Download\"\n                >\n                  <DownloadIcon className=\"h-4 w-4\" />\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n        <div className=\"flex-1 overflow-auto p-4\">\n          {outputText ? (\n            <pre className=\"font-mono text-sm text-slate-900 whitespace-pre-wrap break-words\">\n              {outputText}\n            </pre>\n          ) : (\n            <div className=\"flex items-center justify-center h-full text-slate-400\">\n              <div className=\"text-center\">\n                <FileSpreadsheet className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\n                <p>Select a conversion type and click convert</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default JsonConvert;\n\n","/**\n * Enhanced JSON Error Parser\n * Extracts clear, actionable error information from JSON parsing errors\n */\n\n/**\n * Parse JSON error and extract detailed information\n * @param {Error} error - The JSON parsing error\n * @param {string} jsonText - The JSON text that caused the error\n * @returns {Object} - Parsed error information\n */\nexport function parseJsonError(error, jsonText) {\n  if (!error || !error.message) {\n    return {\n      message: 'Unknown JSON error',\n      line: null,\n      column: null,\n      position: null,\n      suggestion: 'Please check your JSON syntax.',\n      context: null,\n    };\n  }\n\n  const errorMessage = error.message;\n  const lines = jsonText ? jsonText.split('\\n') : [];\n\n  // Extract line number from error message (e.g., \"Unexpected token in JSON at position 123\")\n  let line = null;\n  let column = null;\n  let position = null;\n\n  // Pattern 1: \"at position X\" or \"at line X column Y\"\n  const positionMatch = errorMessage.match(/position\\s+(\\d+)/i);\n  if (positionMatch) {\n    position = parseInt(positionMatch[1], 10);\n    if (jsonText && position >= 0 && position < jsonText.length) {\n      // Calculate line and column from position\n      const beforePosition = jsonText.substring(0, position);\n      const linesBefore = beforePosition.split('\\n');\n      line = linesBefore.length;\n      column = linesBefore[linesBefore.length - 1].length + 1;\n    }\n  }\n\n  // Pattern 2: \"at line X column Y\"\n  const lineColumnMatch = errorMessage.match(/line\\s+(\\d+).*column\\s+(\\d+)/i);\n  if (lineColumnMatch) {\n    line = parseInt(lineColumnMatch[1], 10);\n    column = parseInt(lineColumnMatch[2], 10);\n  }\n\n  // Pattern 3: Just \"line X\"\n  const lineMatch = errorMessage.match(/line\\s+(\\d+)/i);\n  if (lineMatch && !line) {\n    line = parseInt(lineMatch[1], 10);\n  }\n\n  // Extract the problematic token or section\n  let context = null;\n  if (line && lines[line - 1]) {\n    const problemLine = lines[line - 1];\n    // Show context around the error (20 chars before and after)\n    const start = Math.max(0, (column || problemLine.length) - 20);\n    const end = Math.min(problemLine.length, (column || problemLine.length) + 20);\n    context = problemLine.substring(start, end).trim();\n    \n    // Highlight the problematic character\n    if (column) {\n      const relativePos = column - start - 1;\n      if (relativePos >= 0 && relativePos < context.length) {\n        const char = context[relativePos];\n        context = context.substring(0, relativePos) + \n                  `[${char}]` + \n                  context.substring(relativePos + 1);\n      }\n    }\n  }\n\n  // Generate clear, actionable error message\n  let clearMessage = errorMessage;\n  let suggestion = '';\n\n  // Common JSON errors with specific suggestions\n  if (errorMessage.includes('Unexpected token')) {\n    const tokenMatch = errorMessage.match(/Unexpected token\\s+(\\S+)/i);\n    const token = tokenMatch ? tokenMatch[1] : 'token';\n    \n    clearMessage = `Unexpected ${token} found`;\n    \n    if (token.includes('}') || token.includes(']')) {\n      suggestion = 'Check for extra closing braces or brackets. You may have an extra } or ].';\n    } else if (token.includes('{') || token.includes('[')) {\n      suggestion = 'Check for missing commas between properties or values.';\n    } else if (token.includes(\"'\") || token.includes('\"')) {\n      suggestion = 'Check for unclosed strings or mismatched quotes. All strings must use double quotes in JSON.';\n    } else {\n      suggestion = `Unexpected ${token} character. Check the syntax around line ${line || 'the error'}.`;\n    }\n  } else if (errorMessage.includes('Unexpected end')) {\n    clearMessage = 'JSON ends unexpectedly';\n    suggestion = 'Check for missing closing braces }, brackets ], or quotes. The JSON structure is incomplete.';\n  } else if (errorMessage.includes('Expected')) {\n    const expectedMatch = errorMessage.match(/Expected\\s+(.+?)(?:\\s+but|$)/i);\n    const expected = expectedMatch ? expectedMatch[1].trim() : 'valid JSON';\n    \n    clearMessage = `Expected ${expected}`;\n    \n    if (expected.includes('property name') || expected.includes('key')) {\n      suggestion = 'Check for missing property names or colons. Each property needs a name in quotes followed by a colon.';\n    } else if (expected.includes('comma') || expected.includes(',')) {\n      suggestion = 'Check for missing commas between properties or array elements.';\n    } else if (expected.includes('colon') || expected.includes(':')) {\n      suggestion = 'Check for missing colons between property names and values.';\n    } else {\n      suggestion = `Expected ${expected}. Check the JSON structure around line ${line || 'the error'}.`;\n    }\n  } else if (errorMessage.includes('Bad escaped character')) {\n    clearMessage = 'Invalid escape sequence';\n    suggestion = 'Check escape sequences in strings. Use \\\\n for newline, \\\\t for tab, \\\\\" for quote, etc.';\n  } else if (errorMessage.includes('Unterminated string')) {\n    clearMessage = 'Unclosed string';\n    suggestion = 'Check for missing closing quotes. All string values must start and end with double quotes.';\n  } else if (errorMessage.includes('Duplicate key')) {\n    clearMessage = 'Duplicate property name';\n    suggestion = 'Check for duplicate property names in the same object. Each property name must be unique.';\n  } else {\n    // Generic suggestion\n    suggestion = `Check the JSON syntax around line ${line || 'the error'}. Make sure all brackets, braces, and quotes are properly closed.`;\n  }\n\n  // Get context lines for better understanding\n  let contextLines = null;\n  if (line && lines.length > 0) {\n    const startLine = Math.max(0, line - 2);\n    const endLine = Math.min(lines.length, line + 1);\n    contextLines = lines.slice(startLine, endLine).map((text, idx) => ({\n      lineNumber: startLine + idx + 1,\n      text: text,\n      isErrorLine: startLine + idx + 1 === line,\n    }));\n  }\n\n  return {\n    message: clearMessage,\n    originalMessage: errorMessage,\n    line: line,\n    column: column,\n    position: position,\n    suggestion: suggestion,\n    context: context,\n    contextLines: contextLines,\n    problematicChar: column && lines[line - 1] ? lines[line - 1][column - 1] : null,\n  };\n}\n\n/**\n * Extract line number from error message\n * @param {string} errorMessage - The error message\n * @returns {number|null} - Line number or null\n */\nexport function extractLineNumber(errorMessage) {\n  if (!errorMessage) return null;\n\n  // Try position-based extraction first\n  const positionMatch = errorMessage.match(/position\\s+(\\d+)/i);\n  if (positionMatch) {\n    // Would need JSON text to convert position to line - return null for now\n    // Will be handled by parseJsonError\n    return null;\n  }\n\n  // Try explicit line number\n  const lineMatch = errorMessage.match(/line\\s+(\\d+)/i);\n  if (lineMatch) {\n    return parseInt(lineMatch[1], 10);\n  }\n\n  // Try line:column format\n  const lineColMatch = errorMessage.match(/(\\d+):(\\d+)/);\n  if (lineColMatch) {\n    return parseInt(lineColMatch[1], 10);\n  }\n\n  return null;\n}\n\n","import React, { useState, useMemo } from 'react';\nimport { Copy, GitMerge, AlertCircle, CheckCircle2, ArrowRight, X, ArrowLeft, Eye } from 'lucide-react';\nimport clsx from 'clsx';\nimport { diffJson } from '../utils/jsonUtils';\nimport { parseJsonError } from '../utils/jsonErrorParser';\nimport SimpleJsonEditor from './SimpleJsonEditor';\nimport EnhancedJsonEditor from './EnhancedJsonEditor';\n\nconst JsonDiff = ({ onOutputUpdate }) => {\n  const [jsonA, setJsonA] = useState('');\n  const [jsonB, setJsonB] = useState('');\n  const [diffResult, setDiffResult] = useState(null);\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState('summary'); // 'summary' | 'side-by-side'\n  const [highlightDiff, setHighlightDiff] = useState(false);\n  const [originalJsonA, setOriginalJsonA] = useState('');\n  const [originalJsonB, setOriginalJsonB] = useState('');\n  \n  // Validation states\n  const [jsonAError, setJsonAError] = useState(null);\n  const [jsonBError, setJsonBError] = useState(null);\n\n  // Validate JSON A\n  const validateJsonA = (jsonString) => {\n    if (!jsonString || !jsonString.trim()) {\n      setJsonAError(null);\n      return null;\n    }\n    try {\n      JSON.parse(jsonString);\n      setJsonAError(null);\n      return true;\n    } catch (err) {\n      const errorInfo = parseJsonError(err, jsonString);\n      setJsonAError(errorInfo);\n      return false;\n    }\n  };\n\n  // Validate JSON B\n  const validateJsonB = (jsonString) => {\n    if (!jsonString || !jsonString.trim()) {\n      setJsonBError(null);\n      return null;\n    }\n    try {\n      JSON.parse(jsonString);\n      setJsonBError(null);\n      return true;\n    } catch (err) {\n      const errorInfo = parseJsonError(err, jsonString);\n      setJsonBError(errorInfo);\n      return false;\n    }\n  };\n\n  // Validate on change\n  useMemo(() => {\n    validateJsonA(jsonA);\n  }, [jsonA]);\n\n  useMemo(() => {\n    validateJsonB(jsonB);\n  }, [jsonB]);\n\n  const handleDiff = () => {\n    setError(null);\n    \n    if (!jsonA || !jsonB) {\n      setError('Both JSON inputs are required');\n      return;\n    }\n\n    // Validate before diffing\n    const isValidA = validateJsonA(jsonA);\n    const isValidB = validateJsonB(jsonB);\n\n    if (isValidA === false || isValidB === false) {\n      setError('Please fix JSON errors before comparing');\n      return;\n    }\n\n    try {\n      const parsedA = JSON.parse(jsonA);\n      const parsedB = JSON.parse(jsonB);\n      \n      // Store originals before diff - format them for consistent display\n      try {\n        setOriginalJsonA(JSON.stringify(parsedA, null, 2));\n        setOriginalJsonB(JSON.stringify(parsedB, null, 2));\n      } catch (e) {\n        setOriginalJsonA(jsonA);\n        setOriginalJsonB(jsonB);\n      }\n      \n      const diff = diffJson(parsedA, parsedB);\n      setDiffResult(diff);\n    } catch (err) {\n      setError(err.message || 'Failed to parse JSON');\n    }\n  };\n\n  const handleBackToEdit = () => {\n    setDiffResult(null);\n    // Restore original JSONs\n    setJsonA(originalJsonA);\n    setJsonB(originalJsonB);\n    setError(null);\n    setHighlightDiff(false);\n    // Re-validate after restoring\n    validateJsonA(originalJsonA);\n    validateJsonB(originalJsonB);\n  };\n\n  const clearDiff = () => {\n    setJsonA('');\n    setJsonB('');\n    setDiffResult(null);\n    setError(null);\n    setOriginalJsonA('');\n    setOriginalJsonB('');\n    setHighlightDiff(false);\n    setJsonAError(null);\n    setJsonBError(null);\n  };\n\n  // Improved line detection using value-based search\n  const findLinesForDiffItems = (jsonString, diffItems) => {\n    const lines = jsonString.split('\\n');\n    const errorLines = new Set();\n\n    diffItems.forEach(item => {\n      const path = item.path;\n      const cleanPath = path.startsWith('$.') ? path.substring(2) : path;\n      const parts = cleanPath.split('.');\n      \n      // Get the value to search for\n      let searchValue = null;\n      if (item.value !== undefined) {\n        searchValue = item.value;\n      } else if (item.oldValue !== undefined) {\n        searchValue = item.oldValue;\n      } else if (item.newValue !== undefined) {\n        searchValue = item.newValue;\n      }\n\n      // Extract the last key from path\n      const lastPart = parts[parts.length - 1];\n      let targetKey = null;\n      let arrayIndex = null;\n      \n      const arrayMatch = lastPart.match(/^(.+)\\[(\\d+)\\]$/);\n      if (arrayMatch) {\n        targetKey = arrayMatch[1];\n        arrayIndex = parseInt(arrayMatch[2]);\n      } else {\n        targetKey = lastPart;\n      }\n\n      // Strategy 1: Find by key name with parent context\n      const parentKeys = parts.slice(0, -1);\n      let foundKeyLine = null;\n      \n      for (let i = 0; i < lines.length; i++) {\n        const line = lines[i];\n        const lineIndent = (line.match(/^(\\s*)/)?.[1] || '').length / 2;\n        const trimmed = line.trim();\n        \n        // Match the target key\n        const escapedKey = targetKey.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n        const keyPattern = new RegExp(`\"${escapedKey}\"\\\\s*:`, 'g');\n        \n        if (keyPattern.test(line)) {\n          // Check if we're in the right parent context by checking indent\n          // For nested paths, the indent should match the depth\n          const expectedIndent = parentKeys.length;\n          if (lineIndent === expectedIndent || parentKeys.length === 0) {\n            foundKeyLine = i + 1;\n            \n            if (arrayIndex === null) {\n              // Object property - highlight the key line\n              errorLines.add(i + 1);\n            } else {\n              // Array element - find the array and count to index\n              // Look for array opening on next line\n              for (let j = i + 1; j < lines.length; j++) {\n                const nextTrimmed = lines[j].trim();\n                if (nextTrimmed.startsWith('[')) {\n                  // Found array, count elements\n                  let elementCount = 0;\n                  for (let k = j + 1; k < lines.length; k++) {\n                    const elemTrimmed = lines[k].trim();\n                    if (elemTrimmed === ']') break;\n                    // Array element lines don't start with [ or { and aren't object keys\n                    if (elemTrimmed && !elemTrimmed.startsWith('[') && !elemTrimmed.match(/^\"[^\"]+\"\\s*:/) && !elemTrimmed.startsWith('{')) {\n                      if (elementCount === arrayIndex) {\n                        errorLines.add(k + 1);\n                        break;\n                      }\n                      elementCount++;\n                    }\n                  }\n                  break;\n                }\n              }\n            }\n            break;\n          }\n        }\n      }\n\n      // Strategy 2: If key search failed, try searching for the actual value\n      if (errorLines.size === 0 && searchValue !== null && searchValue !== undefined) {\n        const valueStr = typeof searchValue === 'string' \n          ? `\"${searchValue.replace(/\"/g, '\\\\\"')}\"`\n          : String(searchValue);\n        \n        for (let i = 0; i < lines.length; i++) {\n          if (lines[i].includes(valueStr)) {\n            errorLines.add(i + 1);\n            break;\n          }\n        }\n      }\n\n      // Strategy 3: Simple key name fallback (without context checking)\n      if (errorLines.size === 0) {\n        const escapedKey = targetKey.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n        const keyPattern = new RegExp(`\"${escapedKey}\"\\\\s*:`, 'g');\n        for (let i = 0; i < lines.length; i++) {\n          if (keyPattern.test(lines[i])) {\n            errorLines.add(i + 1);\n            break;\n          }\n        }\n      }\n    });\n\n    return Array.from(errorLines).sort((a, b) => a - b);\n  };\n\n  // Generate highlighted JSON with accurate line detection for differences\n  const getHighlightedJson = (jsonString, diffType, diffItems) => {\n    if (!highlightDiff || !diffItems || diffItems.length === 0) {\n      return { json: jsonString, errorLines: [], errorMessage: null };\n    }\n\n    try {\n      // Parse and re-stringify to ensure consistent formatting\n      const parsed = JSON.parse(jsonString);\n      const formattedJson = JSON.stringify(parsed, null, 2);\n      \n      // Find all error lines\n      const errorLinesArray = findLinesForDiffItems(formattedJson, diffItems);\n      \n      const diffCount = diffItems.length;\n      const message = errorLinesArray.length > 0 \n        ? `${diffCount} ${diffType} difference${diffCount > 1 ? 's' : ''} detected (lines: ${errorLinesArray.join(', ')})`\n        : `${diffCount} ${diffType} difference${diffCount > 1 ? 's' : ''} detected`;\n      \n      return { \n        json: formattedJson, \n        errorLines: errorLinesArray,\n        errorLine: errorLinesArray.length > 0 ? errorLinesArray : null,\n        errorMessage: message \n      };\n    } catch (e) {\n      // Fallback to simple key matching\n      const lines = jsonString.split('\\n');\n      const errorLines = new Set();\n      const keyNames = new Set();\n      \n      diffItems.forEach(item => {\n        const cleanPath = item.path.startsWith('$.') ? item.path.substring(2) : item.path;\n        const parts = cleanPath.split('.');\n        const lastPart = parts[parts.length - 1].replace(/\\[\\d+\\]$/, '');\n        keyNames.add(lastPart);\n      });\n\n      for (let i = 0; i < lines.length; i++) {\n        const line = lines[i];\n        for (const keyName of keyNames) {\n          const escapedKey = keyName.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n          const keyPattern = new RegExp(`\"${escapedKey}\"\\\\s*:`, 'g');\n          if (keyPattern.test(line)) {\n            errorLines.add(i + 1);\n            break;\n          }\n        }\n      }\n\n      const errorLinesArray = Array.from(errorLines).sort((a, b) => a - b);\n      \n      return { \n        json: jsonString, \n        errorLines: errorLinesArray,\n        errorLine: errorLinesArray.length > 0 ? errorLinesArray : null,\n        errorMessage: errorLinesArray.length > 0 \n          ? `${diffItems.length} differences detected (lines: ${errorLinesArray.join(', ')})`\n          : `${diffItems.length} differences detected`\n      };\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      {/* Header */}\n      <div className=\"border-b border-slate-200 bg-white p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <GitMerge className=\"h-5 w-5 text-primary\" />\n            <h3 className=\"text-lg font-semibold text-slate-900\">JSON Diff</h3>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            {!diffResult ? (\n              <>\n                <button\n                  onClick={handleDiff}\n                  disabled={!jsonA || !jsonB || jsonAError || jsonBError}\n                  className={clsx(\n                    'px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2',\n                    jsonA && jsonB && !jsonAError && !jsonBError\n                      ? 'bg-primary text-white hover:bg-primary/90'\n                      : 'bg-slate-200 text-slate-400 cursor-not-allowed'\n                  )}\n                >\n                  Compare\n                </button>\n                <button\n                  onClick={clearDiff}\n                  className=\"px-4 py-2 rounded-lg text-sm font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition\"\n                >\n                  Clear\n                </button>\n              </>\n            ) : (\n              <>\n                <div className=\"flex items-center gap-2 px-3 py-1.5 bg-slate-100 rounded-lg\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"highlight-diff\"\n                    checked={highlightDiff}\n                    onChange={(e) => setHighlightDiff(e.target.checked)}\n                    className=\"w-4 h-4 text-red-600 border-slate-300 rounded focus:ring-red-500\"\n                  />\n                  <label htmlFor=\"highlight-diff\" className=\"text-sm text-slate-700 cursor-pointer flex items-center gap-2\">\n                    <Eye className=\"h-4 w-4\" />\n                    Highlight Differences\n                  </label>\n                </div>\n                <button\n                  onClick={handleBackToEdit}\n                  className=\"px-4 py-2 rounded-lg text-sm font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition flex items-center gap-2\"\n                >\n                  <ArrowLeft className=\"h-4 w-4\" />\n                  Back to Edit\n                </button>\n                <button\n                  onClick={clearDiff}\n                  className=\"px-4 py-2 rounded-lg text-sm font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition\"\n                >\n                  Clear\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n        {error && (\n          <div className=\"mt-3 flex items-center gap-2 text-red-600 text-sm\">\n            <AlertCircle className=\"h-4 w-4\" />\n            <span>{error}</span>\n          </div>\n        )}\n      </div>\n\n      {!diffResult ? (\n        /* Input Mode - Two editors side by side with validation */\n        <div className=\"flex-1 flex overflow-hidden\">\n          <div className=\"w-1/2 flex flex-col border-r border-slate-200\">\n            <div className=\"border-b border-slate-200 px-4 py-2 bg-slate-50 flex items-center justify-between\">\n              <h4 className=\"text-sm font-semibold text-slate-700\">JSON A (Old/Left)</h4>\n              {jsonAError && (\n                <div className=\"flex items-center gap-1.5 px-2 py-0.5 bg-red-100 border border-red-300 rounded text-xs\">\n                  <AlertCircle className=\"h-3 w-3 text-red-600\" />\n                  <span className=\"font-semibold text-red-900\">Invalid</span>\n                </div>\n              )}\n              {jsonA && !jsonAError && (\n                <div className=\"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 border border-green-300 rounded text-xs\">\n                  <CheckCircle2 className=\"h-3 w-3 text-green-600\" />\n                  <span className=\"font-semibold text-green-900\">Valid</span>\n                </div>\n              )}\n            </div>\n            <div className=\"flex-1 overflow-hidden\">\n              <EnhancedJsonEditor\n                value={jsonA}\n                onChange={(value) => setJsonA(value || '')}\n                readOnly={false}\n                placeholder=\"Enter JSON A...\"\n                errorLine={jsonAError?.line || null}\n                errorMessage={jsonAError?.message || null}\n              />\n            </div>\n            {jsonAError && (\n              <div className=\"px-4 py-2 bg-red-50 border-t border-red-200 text-xs text-red-700\">\n                <div className=\"font-semibold\">{jsonAError.message}</div>\n                {jsonAError.line && (\n                  <div className=\"mt-1\">Line {jsonAError.line}{jsonAError.column ? `, Column ${jsonAError.column}` : ''}</div>\n                )}\n              </div>\n            )}\n          </div>\n          <div className=\"w-1/2 flex flex-col\">\n            <div className=\"border-b border-slate-200 px-4 py-2 bg-slate-50 flex items-center justify-between\">\n              <h4 className=\"text-sm font-semibold text-slate-700\">JSON B (New/Right)</h4>\n              {jsonBError && (\n                <div className=\"flex items-center gap-1.5 px-2 py-0.5 bg-red-100 border border-red-300 rounded text-xs\">\n                  <AlertCircle className=\"h-3 w-3 text-red-600\" />\n                  <span className=\"font-semibold text-red-900\">Invalid</span>\n                </div>\n              )}\n              {jsonB && !jsonBError && (\n                <div className=\"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 border border-green-300 rounded text-xs\">\n                  <CheckCircle2 className=\"h-3 w-3 text-green-600\" />\n                  <span className=\"font-semibold text-green-900\">Valid</span>\n                </div>\n              )}\n            </div>\n            <div className=\"flex-1 overflow-hidden\">\n              <EnhancedJsonEditor\n                value={jsonB}\n                onChange={(value) => setJsonB(value || '')}\n                readOnly={false}\n                placeholder=\"Enter JSON B...\"\n                errorLine={jsonBError?.line || null}\n                errorMessage={jsonBError?.message || null}\n              />\n            </div>\n            {jsonBError && (\n              <div className=\"px-4 py-2 bg-red-50 border-t border-red-200 text-xs text-red-700\">\n                <div className=\"font-semibold\">{jsonBError.message}</div>\n                {jsonBError.line && (\n                  <div className=\"mt-1\">Line {jsonBError.line}{jsonBError.column ? `, Column ${jsonBError.column}` : ''}</div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      ) : (\n        /* Diff Result View */\n        <div className=\"flex-1 flex flex-col overflow-hidden\">\n          {/* Diff Summary */}\n          <div className=\"border-b border-slate-200 bg-slate-50 p-4\">\n            <div className=\"grid grid-cols-4 gap-4\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-green-600\">{diffResult.added.length}</div>\n                <div className=\"text-xs text-slate-600\">Added</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-red-600\">{diffResult.removed.length}</div>\n                <div className=\"text-xs text-slate-600\">Removed</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-yellow-600\">{diffResult.changed.length}</div>\n                <div className=\"text-xs text-slate-600\">Changed</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-slate-600\">{diffResult.unchanged.length}</div>\n                <div className=\"text-xs text-slate-600\">Unchanged</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Diff Details with Highlight Option */}\n          <div className=\"flex-1 overflow-y-auto p-4\">\n            {highlightDiff ? (\n              /* Highlighted View - Show JSONs side by side with error highlighting */\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"flex flex-col\">\n                  <div className=\"border-b border-slate-200 px-4 py-2 bg-red-50 mb-2\">\n                    <h4 className=\"text-sm font-semibold text-red-700\">JSON A (with highlights)</h4>\n                    <p className=\"text-xs text-red-600 mt-1\">\n                      {diffResult.removed.length + diffResult.changed.length} differences\n                    </p>\n                  </div>\n                  <div className=\"flex-1 overflow-hidden border border-red-200 rounded-lg\">\n                    {(() => {\n                      const allDiffItems = [\n                        ...diffResult.removed.map(r => ({ path: r.path, type: 'removed', value: r.value })),\n                        ...diffResult.changed.map(c => ({ path: c.path, type: 'changed', oldValue: c.oldValue }))\n                      ];\n                      const highlighted = getHighlightedJson(originalJsonA, 'removed/changed', allDiffItems);\n                      return (\n                        <EnhancedJsonEditor\n                          value={highlighted.json}\n                          onChange={() => {}}\n                          readOnly={true}\n                          placeholder=\"\"\n                          errorLine={highlighted.errorLines.length > 0 ? highlighted.errorLines : null}\n                          errorMessage={highlighted.errorMessage}\n                        />\n                      );\n                    })()}\n                  </div>\n                </div>\n                <div className=\"flex flex-col\">\n                  <div className=\"border-b border-slate-200 px-4 py-2 bg-green-50 mb-2\">\n                    <h4 className=\"text-sm font-semibold text-green-700\">JSON B (with highlights)</h4>\n                    <p className=\"text-xs text-green-600 mt-1\">\n                      {diffResult.added.length + diffResult.changed.length} differences\n                    </p>\n                  </div>\n                  <div className=\"flex-1 overflow-hidden border border-green-200 rounded-lg\">\n                    {(() => {\n                      const allDiffItems = [\n                        ...diffResult.added.map(a => ({ path: a.path, type: 'added', value: a.value })),\n                        ...diffResult.changed.map(c => ({ path: c.path, type: 'changed', newValue: c.newValue }))\n                      ];\n                      const highlighted = getHighlightedJson(originalJsonB, 'added/changed', allDiffItems);\n                      return (\n                        <EnhancedJsonEditor\n                          value={highlighted.json}\n                          onChange={() => {}}\n                          readOnly={true}\n                          placeholder=\"\"\n                          errorLine={highlighted.errorLines.length > 0 ? highlighted.errorLines : null}\n                          errorMessage={highlighted.errorMessage}\n                        />\n                      );\n                    })()}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              /* Summary View */\n              <div className=\"space-y-4\">\n                {/* Added */}\n                {diffResult.added.length > 0 && (\n                  <div>\n                    <h4 className=\"text-sm font-semibold text-green-600 mb-2 flex items-center gap-2\">\n                      <CheckCircle2 className=\"h-4 w-4\" />\n                      Added ({diffResult.added.length})\n                    </h4>\n                    <div className=\"space-y-1\">\n                      {diffResult.added.map((item, idx) => (\n                        <div key={idx} className=\"bg-green-50 border-l-4 border-green-500 p-3 rounded\">\n                          <div className=\"font-mono text-xs text-green-700 mb-1\">{item.path}</div>\n                          <div className=\"text-sm text-slate-700\">\n                            {typeof item.value === 'object' \n                              ? JSON.stringify(item.value, null, 2)\n                              : String(item.value)}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Removed */}\n                {diffResult.removed.length > 0 && (\n                  <div>\n                    <h4 className=\"text-sm font-semibold text-red-600 mb-2 flex items-center gap-2\">\n                      <X className=\"h-4 w-4\" />\n                      Removed ({diffResult.removed.length})\n                    </h4>\n                    <div className=\"space-y-1\">\n                      {diffResult.removed.map((item, idx) => (\n                        <div key={idx} className=\"bg-red-50 border-l-4 border-red-500 p-3 rounded\">\n                          <div className=\"font-mono text-xs text-red-700 mb-1\">{item.path}</div>\n                          <div className=\"text-sm text-slate-700\">\n                            {typeof item.value === 'object' \n                              ? JSON.stringify(item.value, null, 2)\n                              : String(item.value)}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Changed */}\n                {diffResult.changed.length > 0 && (\n                  <div>\n                    <h4 className=\"text-sm font-semibold text-yellow-600 mb-2 flex items-center gap-2\">\n                      <AlertCircle className=\"h-4 w-4\" />\n                      Changed ({diffResult.changed.length})\n                    </h4>\n                    <div className=\"space-y-1\">\n                      {diffResult.changed.map((item, idx) => (\n                        <div key={idx} className=\"bg-yellow-50 border-l-4 border-yellow-500 p-3 rounded\">\n                          <div className=\"font-mono text-xs text-yellow-700 mb-2\">{item.path}</div>\n                          <div className=\"space-y-1 text-sm\">\n                            <div className=\"text-red-700\">\n                              <span className=\"font-semibold\">Old:</span>{' '}\n                              {typeof item.oldValue === 'object' \n                                ? JSON.stringify(item.oldValue, null, 2)\n                                : String(item.oldValue)}\n                            </div>\n                            <div className=\"text-green-700\">\n                              <span className=\"font-semibold\">New:</span>{' '}\n                              {typeof item.newValue === 'object' \n                                ? JSON.stringify(item.newValue, null, 2)\n                                : String(item.newValue)}\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Unchanged (optional, can be collapsed) */}\n                {diffResult.unchanged.length > 0 && diffResult.unchanged.length < 20 && (\n                  <div>\n                    <h4 className=\"text-sm font-semibold text-slate-600 mb-2\">\n                      Unchanged ({diffResult.unchanged.length})\n                    </h4>\n                    <div className=\"space-y-1\">\n                      {diffResult.unchanged.map((item, idx) => (\n                        <div key={idx} className=\"bg-slate-50 border-l-4 border-slate-300 p-2 rounded text-xs\">\n                          <span className=\"font-mono text-slate-600\">{item.path}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default JsonDiff;\n","/**\n * Sample JSON generator for JSON Utility Tool\n * Provides various sample JSON structures that change each time\n */\n\nconst sampleJsonTemplates = [\n  // User profile\n  {\n    name: 'User Profile',\n    generator: () => ({\n      user: {\n        id: Math.floor(Math.random() * 10000),\n        name: ['John Doe', 'Jane Smith', 'Bob Johnson', 'Alice Williams'][Math.floor(Math.random() * 4)],\n        email: `user${Math.floor(Math.random() * 1000)}@example.com`,\n        role: ['admin', 'user', 'moderator', 'guest'][Math.floor(Math.random() * 4)],\n        preferences: {\n          theme: ['light', 'dark'][Math.floor(Math.random() * 2)],\n          notifications: Math.random() > 0.5,\n          language: ['en', 'es', 'fr', 'de'][Math.floor(Math.random() * 4)]\n        },\n        createdAt: new Date().toISOString(),\n        active: Math.random() > 0.3\n      }\n    })\n  },\n  \n  // E-commerce product\n  {\n    name: 'Product',\n    generator: () => ({\n      product: {\n        id: `PROD-${Math.floor(Math.random() * 10000)}`,\n        name: ['Laptop', 'Smartphone', 'Headphones', 'Monitor', 'Keyboard'][Math.floor(Math.random() * 5)],\n        price: (Math.random() * 1000 + 10).toFixed(2),\n        currency: 'USD',\n        inStock: Math.random() > 0.4,\n        stock: Math.floor(Math.random() * 100),\n        ratings: {\n          average: (Math.random() * 2 + 3).toFixed(1),\n          count: Math.floor(Math.random() * 1000)\n        },\n        tags: ['electronics', 'computers', 'accessories'].slice(0, Math.floor(Math.random() * 3) + 1),\n        specifications: {\n          weight: `${Math.floor(Math.random() * 5 + 1)}kg`,\n          dimensions: `${Math.floor(Math.random() * 50 + 10)}x${Math.floor(Math.random() * 50 + 10)}x${Math.floor(Math.random() * 20 + 5)}cm`\n        }\n      }\n    })\n  },\n  \n  // API response\n  {\n    name: 'API Response',\n    generator: () => ({\n      status: 'success',\n      data: {\n        items: Array.from({ length: Math.floor(Math.random() * 5) + 2 }, (_, i) => ({\n          id: i + 1,\n          title: `Item ${i + 1}`,\n          value: Math.floor(Math.random() * 100),\n          category: ['A', 'B', 'C'][Math.floor(Math.random() * 3)]\n        })),\n        total: Math.floor(Math.random() * 1000),\n        page: Math.floor(Math.random() * 10) + 1,\n        pageSize: 20\n      },\n      timestamp: new Date().toISOString(),\n      requestId: `req-${Math.random().toString(36).substr(2, 9)}`\n    })\n  },\n  \n  // Configuration object\n  {\n    name: 'Configuration',\n    generator: () => ({\n      config: {\n        app: {\n          name: 'My Application',\n          version: `${Math.floor(Math.random() * 5) + 1}.${Math.floor(Math.random() * 10)}.${Math.floor(Math.random() * 10)}`,\n          environment: ['development', 'staging', 'production'][Math.floor(Math.random() * 3)],\n          debug: Math.random() > 0.5\n        },\n        database: {\n          host: `db${Math.floor(Math.random() * 5)}.example.com`,\n          port: [3306, 5432, 27017][Math.floor(Math.random() * 3)],\n          name: 'mydb',\n          pool: {\n            min: 2,\n            max: 10\n          }\n        },\n        features: {\n          analytics: Math.random() > 0.3,\n          caching: Math.random() > 0.2,\n          logging: true\n        }\n      }\n    })\n  },\n  \n  // Nested structure\n  {\n    name: 'Nested Structure',\n    generator: () => ({\n      company: {\n        name: ['Acme Corp', 'Tech Solutions', 'Global Systems'][Math.floor(Math.random() * 3)],\n        founded: Math.floor(Math.random() * 30) + 1990,\n        employees: Math.floor(Math.random() * 5000) + 100,\n        departments: {\n          engineering: {\n            head: ['Alice', 'Bob', 'Charlie'][Math.floor(Math.random() * 3)],\n            size: Math.floor(Math.random() * 100) + 20,\n            projects: Math.floor(Math.random() * 20) + 5\n          },\n          sales: {\n            head: ['David', 'Eve', 'Frank'][Math.floor(Math.random() * 3)],\n            size: Math.floor(Math.random() * 50) + 10,\n            revenue: Math.floor(Math.random() * 1000000)\n          },\n          marketing: {\n            head: ['Grace', 'Henry', 'Ivy'][Math.floor(Math.random() * 3)],\n            size: Math.floor(Math.random() * 30) + 5,\n            campaigns: Math.floor(Math.random() * 10) + 2\n          }\n        },\n        locations: ['New York', 'San Francisco', 'London', 'Tokyo'].slice(0, Math.floor(Math.random() * 4) + 1)\n      }\n    })\n  }\n];\n\n/**\n * Generate a random sample JSON\n * @returns {string} Formatted JSON string\n */\nexport const generateSampleJson = () => {\n  const template = sampleJsonTemplates[Math.floor(Math.random() * sampleJsonTemplates.length)];\n  const json = template.generator();\n  return JSON.stringify(json, null, 2);\n};\n\n/**\n * Get default sample JSON (for initial load)\n * @returns {string} Formatted JSON string\n */\nexport const getDefaultSampleJson = () => {\n  return JSON.stringify({\n    \"message\": \"Welcome to JSON Utility Tool\",\n    \"instructions\": \"Paste your JSON here or click 'Generate Sample' to try different examples\",\n    \"features\": [\n      \"Format and minify JSON\",\n      \"Validate syntax\",\n      \"Sort keys alphabetically\",\n      \"Flatten nested structures\",\n      \"Convert to/from CSV\",\n      \"Compare two JSON objects\",\n      \"Tree view navigation\"\n    ],\n    \"example\": {\n      \"name\": \"Sample Data\",\n      \"value\": 42,\n      \"active\": true,\n      \"items\": [\"item1\", \"item2\", \"item3\"]\n    }\n  }, null, 2);\n};\n\n","import React, { useState, useMemo } from 'react';\nimport ReactDOM from 'react-dom/client';\nimport EnhancedJsonEditor from './components/EnhancedJsonEditor';\nimport JsonTreeView from './components/JsonTreeView';\nimport JsonConvert from './components/JsonConvert';\nimport JsonDiff from './components/JsonDiff';\nimport { parseJsonError } from './utils/jsonErrorParser';\nimport { sortKeys, flattenJson, unflattenJson } from './utils/jsonUtils';\nimport { generateSampleJson, getDefaultSampleJson } from './utils/sampleJson';\nimport {\n  ChevronLeft,\n  ChevronRight,\n  Search,\n  FileJson,\n  Copy,\n  Layers,\n  GitMerge,\n  Code,\n  AlertCircle,\n  CheckCircle2,\n  Trash2,\n  Sparkles,\n  ChevronDown,\n  ChevronUp,\n  ListTree,\n} from 'lucide-react';\nimport clsx from 'clsx';\nimport Navigation from './components/Navigation';\nimport './styles.css';\n\nconst FEATURES = [\n  { id: 'jwt', name: 'JWT Decoder', category: 'Authentication', url: chrome.runtime?.getURL ? chrome.runtime.getURL('jwt.html') : 'jwt.html' },\n  { id: 'saml', name: 'SAML Inspector', category: 'Authentication', url: chrome.runtime?.getURL ? chrome.runtime.getURL('saml.html') : 'saml.html' },\n  { id: 'rest', name: 'REST API Tester', category: 'API Testing', url: chrome.runtime?.getURL ? chrome.runtime.getURL('rest.html') : 'rest.html' },\n  { id: 'har', name: 'HAR Analyzer', category: 'Debugging', url: chrome.runtime?.getURL ? chrome.runtime.getURL('har-analyzer.html') : 'har-analyzer.html' },\n  { id: 'json', name: 'JSON Utility', category: 'Utilities', url: chrome.runtime?.getURL ? chrome.runtime.getURL('json-utility.html') : 'json-utility.html' },\n];\n\nconst JsonUtility = () => {\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [inputJson, setInputJson] = useState(getDefaultSampleJson());\n  const [outputJson, setOutputJson] = useState('');\n  const [jsonError, setJsonError] = useState(null);\n  const [activeTab, setActiveTab] = useState('editor');\n  const [copied, setCopied] = useState({ input: false, output: false });\n  const [errorExpanded, setErrorExpanded] = useState(false);\n  const [outputViewMode, setOutputViewMode] = useState('editor'); // 'editor' | 'tree'\n\n  // Validate JSON\n  const validateJson = (jsonString) => {\n    if (!jsonString || !jsonString.trim()) {\n      setJsonError(null);\n      return null;\n    }\n\n    try {\n      const parsed = JSON.parse(jsonString);\n      setJsonError(null);\n      return parsed;\n    } catch (err) {\n      const errorInfo = parseJsonError(err, jsonString);\n      setJsonError(errorInfo);\n      return null;\n    }\n  };\n\n  // Validate input JSON on change\n  useMemo(() => {\n    validateJson(inputJson);\n  }, [inputJson]);\n\n  const isValidJson = jsonError === null && inputJson.trim() !== '';\n\n  // Utility functions\n  const prettyPrint = () => {\n    const parsed = validateJson(inputJson);\n    if (parsed) {\n      setOutputJson(JSON.stringify(parsed, null, 2));\n      setOutputViewMode('editor');\n    }\n  };\n\n  const minify = () => {\n    const parsed = validateJson(inputJson);\n    if (parsed) {\n      setOutputJson(JSON.stringify(parsed));\n      setOutputViewMode('editor');\n    }\n  };\n\n  const sortKeysAsc = () => {\n    const parsed = validateJson(inputJson);\n    if (parsed && typeof parsed === 'object') {\n      const sorted = sortKeys(parsed, 'asc');\n      setOutputJson(JSON.stringify(sorted, null, 2));\n      setOutputViewMode('editor');\n    }\n  };\n\n  const sortKeysDesc = () => {\n    const parsed = validateJson(inputJson);\n    if (parsed && typeof parsed === 'object') {\n      const sorted = sortKeys(parsed, 'desc');\n      setOutputJson(JSON.stringify(sorted, null, 2));\n      setOutputViewMode('editor');\n    }\n  };\n\n  const flatten = () => {\n    const parsed = validateJson(inputJson);\n    if (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) {\n      const flattened = flattenJson(parsed);\n      setOutputJson(JSON.stringify(flattened, null, 2));\n      setOutputViewMode('editor');\n    } else {\n      setJsonError({ message: 'Input must be a JSON object (not an array) to flatten', line: null });\n    }\n  };\n\n  const unflatten = () => {\n    const parsed = validateJson(inputJson);\n    if (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) {\n      try {\n        const unflattened = unflattenJson(parsed);\n        setOutputJson(JSON.stringify(unflattened, null, 2));\n        setOutputViewMode('editor');\n      } catch (err) {\n        setJsonError({ message: err.message || 'Failed to unflatten JSON', line: null });\n      }\n    } else {\n      setJsonError({ message: 'Input must be a JSON object (not an array) to unflatten', line: null });\n    }\n  };\n\n  const showTreeView = () => {\n    const parsed = validateJson(inputJson);\n    if (parsed) {\n      setOutputViewMode('tree');\n    }\n  };\n\n  const generateSample = () => {\n    setInputJson(generateSampleJson());\n    setOutputJson('');\n    setOutputViewMode('editor');\n  };\n\n  const clearAll = () => {\n    setInputJson('');\n    setOutputJson('');\n    setJsonError(null);\n    setOutputViewMode('editor');\n  };\n\n  const copyToClipboard = async (text, type) => {\n    if (!text) return;\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopied(prev => ({ ...prev, [type]: true }));\n      setTimeout(() => {\n        setCopied(prev => ({ ...prev, [type]: false }));\n      }, 2000);\n    } catch (err) {\n      console.error('Failed to copy:', err);\n    }\n  };\n\n  // Handle tree view updates - when a value is edited in tree, update both input and output JSON\n  const handleTreeUpdate = (updatedJson) => {\n    const formatted = JSON.stringify(updatedJson, null, 2);\n    setInputJson(formatted);\n    setOutputJson(formatted);\n  };\n\n  return (\n    <div className=\"flex h-screen bg-slate-50 overflow-hidden\">\n      {/* Sidebar */}\n      <Navigation currentPageId=\"json\" sidebarOpen={sidebarOpen} onSidebarToggle={setSidebarOpen} />\n\n      {/* Main Content */}\n      <div className=\"flex-1 overflow-hidden flex flex-col\" style={{ width: '100%', minWidth: 0 }}>\n        <div className=\"mx-auto max-w-[1400px] w-full px-6 py-8 flex-1 flex flex-col min-h-0 bg-white\">\n          {/* Clean Header */}\n          <header className=\"pb-4 border-b border-gray-200 mb-4\">\n            <h1 className=\"text-2xl font-semibold text-gray-900 mb-1\">JSON Utility</h1>\n          </header>\n\n          {/* Action Buttons - Centered, No Groups */}\n          <div className=\"mb-4 flex flex-wrap items-center justify-center gap-2\">\n            <button\n              onClick={generateSample}\n              className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition shadow-sm text-sm\"\n              title=\"Generate random sample JSON\"\n            >\n              <Sparkles className=\"h-4 w-4\" />\n              Generate Sample\n            </button>\n            <button\n              onClick={prettyPrint}\n              disabled={!isValidJson}\n              className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition shadow-sm disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n              title=\"Format JSON with indentation\"\n            >\n              <Code className=\"h-4 w-4\" />\n              Pretty Print\n            </button>\n            <button\n              onClick={minify}\n              disabled={!isValidJson}\n              className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition shadow-sm disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n              title=\"Minify JSON (remove whitespace)\"\n            >\n              <Code className=\"h-4 w-4\" />\n              Minify\n            </button>\n            <button\n              onClick={showTreeView}\n              disabled={!isValidJson}\n              className=\"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition shadow-sm disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n              title=\"Show JSON as tree view\"\n            >\n              <ListTree className=\"h-4 w-4\" />\n              Tree View\n            </button>\n            <button\n              onClick={sortKeysAsc}\n              disabled={!isValidJson}\n              className=\"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition shadow-sm disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n              title=\"Sort keys alphabetically (A-Z)\"\n            >\n              <Layers className=\"h-4 w-4\" />\n              Sort A-Z\n            </button>\n            <button\n              onClick={sortKeysDesc}\n              disabled={!isValidJson}\n              className=\"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition shadow-sm disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n              title=\"Sort keys reverse alphabetically (Z-A)\"\n            >\n              <Layers className=\"h-4 w-4\" />\n              Sort Z-A\n            </button>\n            <button\n              onClick={flatten}\n              disabled={!isValidJson}\n              className=\"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition shadow-sm disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n              title=\"Flatten nested JSON object\"\n            >\n              <Layers className=\"h-4 w-4\" />\n              Flatten\n            </button>\n            <button\n              onClick={unflatten}\n              disabled={!isValidJson}\n              className=\"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition shadow-sm disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n              title=\"Unflatten JSON object\"\n            >\n              <Layers className=\"h-4 w-4\" />\n              Unflatten\n            </button>\n            <button\n              onClick={clearAll}\n              className=\"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition shadow-sm text-sm\"\n              title=\"Clear all content\"\n            >\n              <Trash2 className=\"h-4 w-4\" />\n              Clear\n            </button>\n          </div>\n\n          {/* Expandable Error Information */}\n          {jsonError && (\n            <div className=\"mb-4\">\n              <div \n                onClick={() => setErrorExpanded(!errorExpanded)}\n                className=\"cursor-pointer p-3 bg-red-50 border-2 border-red-300 rounded-lg hover:bg-red-100 transition\"\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                    <AlertCircle className=\"h-5 w-5 text-red-600 flex-shrink-0\" />\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"font-semibold text-red-900 truncate\">\n                        {jsonError.message || 'Invalid JSON'}\n                        {jsonError.line && ` (Line ${jsonError.line}${jsonError.column ? `, Column ${jsonError.column}` : ''})`}\n                      </div>\n                    </div>\n                  </div>\n                  <button className=\"text-red-600 hover:text-red-700 flex-shrink-0\">\n                    {errorExpanded ? (\n                      <ChevronUp className=\"h-5 w-5\" />\n                    ) : (\n                      <ChevronDown className=\"h-5 w-5\" />\n                    )}\n                  </button>\n                </div>\n              </div>\n              \n              {errorExpanded && (\n                <div className=\"mt-2 p-4 bg-red-50 border-2 border-red-300 rounded-lg\">\n                  <div className=\"space-y-2 text-sm\">\n                    {jsonError.originalMessage && (\n                      <div>\n                        <span className=\"font-semibold text-red-900\">Error:</span>\n                        <span className=\"text-red-700 ml-2\">{jsonError.originalMessage}</span>\n                      </div>\n                    )}\n                    {jsonError.line && (\n                      <div>\n                        <span className=\"font-semibold text-red-900\">Location:</span>\n                        <span className=\"text-red-700 ml-2\">\n                          Line {jsonError.line}\n                          {jsonError.column && `, Column ${jsonError.column}`}\n                        </span>\n                      </div>\n                    )}\n                    {jsonError.suggestion && (\n                      <div className=\"mt-3 p-3 bg-red-100/50 rounded border-l-2 border-red-400\">\n                        <div className=\"font-semibold text-red-900 mb-1\">💡 Suggestion:</div>\n                        <div className=\"text-red-800\">{jsonError.suggestion}</div>\n                      </div>\n                    )}\n                    {jsonError.context && (\n                      <div className=\"mt-3\">\n                        <div className=\"font-semibold text-red-900 mb-1\">Context:</div>\n                        <div className=\"text-xs text-red-700 font-mono bg-red-100/30 rounded p-2\">\n                          {jsonError.context}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Tabs */}\n          <div className=\"mb-4 border-b-2 border-slate-200 flex-shrink-0\">\n            <div className=\"flex gap-1\">\n              <button\n                onClick={() => setActiveTab('editor')}\n                className={clsx(\n                  'px-6 py-2.5 text-sm font-semibold transition border-b-2 -mb-0.5',\n                  activeTab === 'editor'\n                    ? 'border-blue-600 text-blue-600'\n                    : 'border-transparent text-slate-600 hover:text-slate-900'\n                )}\n              >\n                Editor\n              </button>\n              <button\n                onClick={() => setActiveTab('diff')}\n                className={clsx(\n                  'px-6 py-2.5 text-sm font-semibold transition border-b-2 -mb-0.5',\n                  activeTab === 'diff'\n                    ? 'border-blue-600 text-blue-600'\n                    : 'border-transparent text-slate-600 hover:text-slate-900'\n                )}\n              >\n                Diff\n              </button>\n              <button\n                onClick={() => setActiveTab('convert')}\n                disabled={!isValidJson}\n                className={clsx(\n                  'px-6 py-2.5 text-sm font-semibold transition border-b-2 -mb-0.5 disabled:opacity-50 disabled:cursor-not-allowed',\n                  activeTab === 'convert'\n                    ? 'border-blue-600 text-blue-600'\n                    : 'border-transparent text-slate-600 hover:text-slate-900'\n                )}\n              >\n                Convert\n              </button>\n            </div>\n          </div>\n\n          {/* Content Area */}\n          <div className=\"flex-1 overflow-hidden min-h-0\">\n            {activeTab === 'editor' && (\n              <div className=\"grid grid-cols-2 gap-6 h-full\" style={{ gridTemplateColumns: 'minmax(0, 1fr) minmax(0, 1fr)' }}>\n                {/* Input Panel */}\n                <div className=\"bg-white rounded-xl border-2 border-slate-200 shadow-sm overflow-hidden flex flex-col\" style={{ height: '100%', minHeight: 0, minWidth: 0, maxWidth: '100%' }}>\n                  <div className=\"border-b-2 border-slate-200 bg-gradient-to-r from-slate-50 to-slate-100/50 px-6 py-3 flex items-center justify-between flex-shrink-0\">\n                    <div className=\"flex items-center gap-3 min-w-0\">\n                      <div className=\"h-2 w-2 rounded-full bg-blue-500 flex-shrink-0\"></div>\n                      <h2 className=\"text-base font-semibold text-slate-900 whitespace-nowrap\">Input JSON</h2>\n                      {inputJson && (\n                        <div className=\"flex items-center gap-2 ml-2\">\n                          {jsonError ? (\n                            <div className=\"flex items-center gap-1.5 px-2 py-0.5 bg-red-100 border border-red-300 rounded text-xs\">\n                              <AlertCircle className=\"h-3 w-3 text-red-600\" />\n                              <span className=\"font-semibold text-red-900\">Invalid</span>\n                            </div>\n                          ) : (\n                            <div className=\"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 border border-green-300 rounded text-xs\">\n                              <CheckCircle2 className=\"h-3 w-3 text-green-600\" />\n                              <span className=\"font-semibold text-green-900\">Valid</span>\n                            </div>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                    <button\n                      onClick={() => copyToClipboard(inputJson, 'input')}\n                      className=\"p-1.5 text-slate-600 hover:bg-slate-200 rounded-lg transition\"\n                      title=\"Copy input to clipboard\"\n                    >\n                      {copied.input ? (\n                        <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\n                      ) : (\n                        <Copy className=\"h-4 w-4\" />\n                      )}\n                    </button>\n                  </div>\n                  <div className=\"flex-1 overflow-hidden\" style={{ minHeight: 0 }}>\n                    <EnhancedJsonEditor\n                      value={inputJson}\n                      onChange={setInputJson}\n                      readOnly={false}\n                      placeholder=\"Paste or type JSON here...\"\n                      errorLine={jsonError?.line || null}\n                      errorMessage={jsonError?.message || null}\n                    />\n                  </div>\n                </div>\n\n                {/* Output Panel */}\n                <div className=\"bg-white rounded-xl border-2 border-slate-200 shadow-sm overflow-hidden flex flex-col\" style={{ height: '100%', minHeight: 0, minWidth: 0, maxWidth: '100%' }}>\n                  <div className=\"border-b-2 border-slate-200 bg-gradient-to-r from-slate-50 to-slate-100/50 px-6 py-3 flex items-center justify-between flex-shrink-0\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"h-2 w-2 rounded-full bg-green-500 flex-shrink-0\"></div>\n                      <h2 className=\"text-base font-semibold text-slate-900 whitespace-nowrap\">\n                        {outputViewMode === 'tree' ? 'Tree View' : 'Output JSON'}\n                      </h2>\n                    </div>\n                    {outputViewMode === 'editor' && (\n                      <button\n                        onClick={() => copyToClipboard(outputJson, 'output')}\n                        disabled={!outputJson}\n                        className=\"p-1.5 text-slate-600 hover:bg-slate-200 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0\"\n                        title=\"Copy output to clipboard\"\n                      >\n                        {copied.output ? (\n                          <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\n                        ) : (\n                          <Copy className=\"h-4 w-4\" />\n                        )}\n                      </button>\n                    )}\n                  </div>\n                  <div className=\"flex-1 overflow-hidden\" style={{ minHeight: 0 }}>\n                    {outputViewMode === 'tree' ? (\n                      isValidJson ? (\n                        (() => {\n                          try {\n                            const parsed = JSON.parse(inputJson);\n                            return (\n                              <JsonTreeView \n                                jsonData={parsed}\n                                onPathSelect={(path, value) => {\n                                  // Only update output when explicitly selecting (single click), not when editing\n                                  if (value !== undefined && typeof value !== 'object') {\n                                    setOutputJson(JSON.stringify(value, null, 2));\n                                    setOutputViewMode('editor');\n                                  }\n                                }}\n                                onUpdate={handleTreeUpdate}\n                                editable={true}\n                              />\n                            );\n                          } catch (err) {\n                            return (\n                              <div className=\"p-12 text-center\">\n                                <AlertCircle className=\"h-12 w-12 mx-auto mb-4 text-red-400\" />\n                                <div className=\"text-red-600 font-semibold mb-2 text-lg\">Invalid JSON</div>\n                                <div className=\"text-sm text-slate-600\">Please fix errors to view tree.</div>\n                              </div>\n                            );\n                          }\n                        })()\n                      ) : (\n                        <div className=\"p-12 text-center\">\n                          <AlertCircle className=\"h-12 w-12 mx-auto mb-4 text-red-400\" />\n                          <div className=\"text-red-600 font-semibold mb-2 text-lg\">Invalid JSON</div>\n                          <div className=\"text-sm text-slate-600\">Please fix errors to view tree.</div>\n                        </div>\n                      )\n                    ) : (\n                      <EnhancedJsonEditor\n                        value={outputJson}\n                        onChange={setOutputJson}\n                        readOnly={false}\n                        placeholder=\"Transformed JSON will appear here...\"\n                      />\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'diff' && (\n              <div className=\"bg-white rounded-xl border-2 border-slate-200 shadow-sm overflow-hidden h-full\">\n                <div className=\"h-full overflow-auto\">\n                  <JsonDiff onOutputUpdate={(output) => setOutputJson(output)} />\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'convert' && isValidJson && (\n              <div className=\"bg-white rounded-xl border-2 border-slate-200 shadow-sm overflow-hidden h-full\">\n                <div className=\"h-full overflow-auto\">\n                  <JsonConvert\n                    inputJson={inputJson}\n                    isValidJson={isValidJson}\n                    onOutputUpdate={(output) => setOutputJson(output)}\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Initialize app\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<JsonUtility />);\n"],"names":["__iconNode","ArrowLeft","createLucideIcon","ArrowRight","Check","Eye","FileSpreadsheet","GitMerge","Pen","__assign","this","t","s","i","n","p","__createBinding","m","k","k2","desc","__setModuleDefault","v","__importStar","mod","result","__rest","e","lib","React","require$$0","KEYCODE_Y","KEYCODE_Z","KEYCODE_M","KEYCODE_PARENS","KEYCODE_BRACKETS","KEYCODE_QUOTE","KEYCODE_BACK_QUOTE","HISTORY_LIMIT","HISTORY_TIME_GAP","isWindows","isMacLike","className","cssText","Editor","props","ref","autoFocus","disabled","form","highlight","_a","ignoreTabKey","_b","insertSpaces","maxLength","minLength","name","onBlur","onClick","onFocus","onKeyDown","onKeyUp","onValueChange","_c","padding","placeholder","preClassName","readOnly","required","style","_d","tabSize","textareaClassName","textareaId","value","rest","historyRef","inputRef","_e","capture","setCapture","contentStyle","highlighted","getLines","text","position","recordChange","record","overwrite","stack","offset","count","extras","timestamp","last","re","previous","current","recordCurrentState","input","selectionStart","selectionEnd","updateInput","applyEdits","undoEdit","redoEdit","handleKeyDown","tabCharacter","linesBeforeCaret","startLine_1","endLine_1","nextValue","line","startLineText","startLine_2","endLine_2","updatedSelection","hasSelection","textBeforeCaret","matches","indent","chars","prev","handleChange","session","styles","c","_self","Prism","lang","uniqueId","plainTextGrammar","_","encode","tokens","Token","o","obj","deepClone","visited","clone","id","key","element","language","err","src","scripts","defaultActivation","no","classList","redef","inside","before","insert","root","grammar","ret","token","newToken","old","DFS","callback","type","objId","property","propertyType","async","container","env","parent","code","insertHighlightedCode","highlightedCode","worker","evt","tokenList","LinkedList","addAfter","matchGrammar","toArray","hooks","callbacks","content","alias","matchedStr","stringify","aliases","attributes","matchPattern","pattern","pos","lookbehind","match","lookbehindLength","startNode","startPos","rematch","patterns","j","patternObj","greedy","flags","currentNode","str","removeCount","from","to","matchStr","after","reach","removeFrom","removeRange","wrapped","nestedRematch","head","tail","list","node","next","newNode","array","message","immediateClose","script","highlightAutomaticallyCallback","readyState","module","global","tagName","includedCdataInside","def","attrName","string","markup","LOADING_MESSAGE","FAILURE_MESSAGE","status","FAILURE_EMPTY_MESSAGE","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","STATUS_FAILED","SELECTOR","loadFile","success","error","xhr","parseRange","range","start","comma","end","pre","extension","autoloader","lines","elements","logged","EnhancedJsonEditor","onChange","errorLine","errorMessage","editorRef","useRef","lineNumbersRef","tooltipState","setTooltipState","useState","iconRef","lineCount","errorLines","useMemo","useEffect","editor","lineNumbers","handleScroll","textarea","handleMouseEnter","rect","handleMouseLeave","languages","codeLines","lineNum","jsxs","Fragment","jsx","isErrorLine","Info","createPortal","JsonTreeView","jsonData","onPathSelect","onUpdate","editable","expandedPaths","setExpandedPaths","selectedPath","setSelectedPath","searchQuery","setSearchQuery","editingPath","setEditingPath","editingValue","setEditingValue","localJsonData","setLocalJsonData","clickTimeoutRef","treeNodes","buildNodes","path","depth","nodes","item","index","itemPath","keyPath","filteredNodes","query","keyMatch","pathMatch","valueMatch","isNodeVisible","pathParts","segments","currentSegment","inBracket","char","parentSegments","parentPath","seg","toggleExpand","newExpanded","handleNodeClick","startEditing","cancelEditing","saveEditing","updatedData","updateValueAtPath","data","newValueStr","cloned","cleanPath","newValue","trimmed","parts","part","arrayMatch","lastPart","copyPath","copyValue","formatValue","getTypeColor","Search","isExpanded","isSelected","isEditing","clsx","ChevronDown","ChevronRight","X","Edit2","Copy","sortKeys","order","sorted","a","b","flattenJson","prefix","separator","flattened","newKey","unflattenJson","keys","arrayKey","arrayIndex","lastKey","jsonToCsv","jsonArray","allKeys","headers","escapeCsv","header","csvToJson","csv","parseCsvLine","values","inQuotes","nextChar","diffJson","obj1","obj2","diffs","compare","val1","val2","currentPath","maxLen","JsonConvert","inputJson","isValidJson","onOutputUpdate","convertType","setConvertType","convertError","setConvertError","outputText","setOutputText","handleJsonToCsv","parsed","handleCsvToJson","formatted","copyOutput","downloadOutput","mimeType","blob","url","FileJson","AlertCircle","DownloadIcon","parseJsonError","jsonText","column","positionMatch","linesBefore","lineColumnMatch","lineMatch","context","problemLine","relativePos","clearMessage","suggestion","tokenMatch","expectedMatch","expected","contextLines","startLine","endLine","idx","JsonDiff","jsonA","setJsonA","jsonB","setJsonB","diffResult","setDiffResult","setError","viewMode","setViewMode","highlightDiff","setHighlightDiff","originalJsonA","setOriginalJsonA","originalJsonB","setOriginalJsonB","jsonAError","setJsonAError","jsonBError","setJsonBError","validateJsonA","jsonString","errorInfo","validateJsonB","handleDiff","isValidA","isValidB","parsedA","parsedB","diff","handleBackToEdit","clearDiff","findLinesForDiffItems","diffItems","searchValue","targetKey","parentKeys","lineIndent","escapedKey","expectedIndent","elementCount","elemTrimmed","valueStr","keyPattern","getHighlightedJson","diffType","formattedJson","errorLinesArray","diffCount","keyNames","keyName","allDiffItems","r","CheckCircle2","sampleJsonTemplates","generateSampleJson","json","getDefaultSampleJson","JsonUtility","sidebarOpen","setSidebarOpen","setInputJson","outputJson","setOutputJson","jsonError","setJsonError","activeTab","setActiveTab","copied","setCopied","errorExpanded","setErrorExpanded","outputViewMode","setOutputViewMode","validateJson","prettyPrint","minify","sortKeysAsc","sortKeysDesc","flatten","unflatten","unflattened","showTreeView","generateSample","clearAll","copyToClipboard","handleTreeUpdate","updatedJson","Navigation","Sparkles","Code","ListTree","Layers","Trash2","ChevronUp","output","ReactDOM"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9]}