import{c as R,S as _,F,R as J,j as e,r as l}from"./styles-CLYuz4iA.js";import{K as M,N as A,F as G,c as S}from"./clsx-D-z2I39C.js";import{N as $,C as K}from"./Navigation-D9wJpCsn.js";import{C as Q}from"./clock-CY6asAID.js";import{C}from"./circle-alert-ahCiBZ3Y.js";import{C as V}from"./circle-check-BIJdAn2x.js";const W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],X=R("circle-x",W);const Y=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Z=R("play",Y),k=[{id:"jwt",name:"JWT Decoder",icon:_,category:"Authentication",status:"active",url:chrome.runtime?.getURL?chrome.runtime.getURL("jwt.html"):"jwt.html"},{id:"saml",name:"SAML Inspector",icon:M,category:"Authentication",status:"active",url:chrome.runtime?.getURL?chrome.runtime.getURL("saml.html"):"saml.html"},{id:"rest",name:"REST API Tester",icon:A,category:"API Testing",status:"active",url:chrome.runtime?.getURL?chrome.runtime.getURL("rest.html"):"rest.html"},{id:"har",name:"HAR Analyzer",icon:G,category:"Debugging",status:"active",url:chrome.runtime?.getURL?chrome.runtime.getURL("har-analyzer.html"):"har-analyzer.html"},{id:"json",name:"JSON Utility",icon:F,category:"Utilities",status:"active",url:chrome.runtime?.getURL?chrome.runtime.getURL("json-utility.html"):"json-utility.html"}],ee=["GET","POST","PUT","PATCH","DELETE"],te=["None","Basic","Bearer Token","OAuth 2.0"],se=async o=>{if(o)try{await navigator.clipboard.writeText(o)}catch(u){console.error("Copy failed",u)}},ae=()=>{const[o,u]=l.useState(""),[m,I]=l.useState("GET"),[i,h]=l.useState([{key:"",value:""}]),[p,E]=l.useState(""),[c,L]=l.useState("None"),[d,H]=l.useState(""),[s,b]=l.useState(null),[x,f]=l.useState(!1),[U,B]=l.useState(!0),[y,re]=l.useState("");k.filter(t=>t.name.toLowerCase().includes(y.toLowerCase())||t.category.toLowerCase().includes(y.toLowerCase())),[...new Set(k.map(t=>t.category))];const O=()=>{h([...i,{key:"",value:""}])},j=(t,n,a)=>{const r=[...i];r[t][n]=a,h(r)},P=t=>{h(i.filter((n,a)=>a!==t))},q=async()=>{if(o.trim()){f(!0),b(null);try{const t={};i.forEach(({key:w,value:T})=>{w&&T&&(t[w]=T)}),c==="Basic"&&d?t.Authorization=`Basic ${btoa(d)}`:c==="Bearer Token"&&d&&(t.Authorization=`Bearer ${d}`);const n=Date.now(),a={method:m,headers:t};m!=="GET"&&p&&(a.body=p,t["Content-Type"]||(t["Content-Type"]="application/json"));const r=await fetch(o,a),D=Date.now()-n;let g;const N=r.headers.get("content-type");N&&N.includes("application/json")?g=await r.json():g=await r.text(),b({status:r.status,statusText:r.statusText,headers:Object.fromEntries(r.headers.entries()),body:g,latency:D,ok:r.ok})}catch(t){b({error:t.message,ok:!1})}finally{f(!1)}}},v=t=>t?t>=200&&t<300?"text-success":t>=300&&t<400?"text-warning":"text-error":"text-slate-500",z=t=>t?t>=200&&t<300?V:t>=300&&t<400?C:X:C;return e.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[e.jsx($,{currentPageId:"rest",sidebarOpen:U,onSidebarToggle:B}),e.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",style:{width:"100%",minWidth:0},children:e.jsxs("div",{className:"mx-auto max-w-[1400px] w-full px-6 py-8 flex-1 flex flex-col min-h-0 bg-white",children:[e.jsxs("header",{className:"pb-4 border-b border-gray-200 mb-4",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"REST API Tester"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Test REST APIs with custom headers, authentication, and request bodies. All requests are made from your browser."})]}),e.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white shadow-sm",children:[e.jsx("div",{className:"border-b border-slate-200 bg-slate-50 px-4 py-2.5 rounded-t-lg",children:e.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Request"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("select",{value:m,onChange:t=>I(t.target.value),className:"rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 focus:outline-none focus:border-slate-400 focus:ring-1 focus:ring-slate-400 transition",tabIndex:0,children:ee.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx("input",{type:"text",value:o,onChange:t=>u(t.target.value),placeholder:"https://your-instance.service-now.com/api/now/table/incident",className:"flex-1 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:border-slate-400 focus:ring-1 focus:ring-slate-400 transition",tabIndex:0})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Headers"}),e.jsx("button",{onClick:O,className:"text-xs text-slate-600 hover:text-slate-900 transition active:scale-95",tabIndex:0,children:"+ Add Header"})]}),e.jsx("div",{className:"space-y-2",children:i.map((t,n)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t.key,onChange:a=>j(n,"key",a.target.value),placeholder:"Header name",className:"flex-1 rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:border-slate-300 transition",tabIndex:0}),e.jsx("input",{type:"text",value:t.value,onChange:a=>j(n,"value",a.target.value),placeholder:"Header value",className:"flex-1 rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:border-slate-300 transition",tabIndex:0}),i.length>1&&e.jsx("button",{onClick:()=>P(n),className:"rounded-lg px-2 text-slate-600 hover:bg-slate-100 transition active:scale-95",tabIndex:0,children:"Ã—"})]},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Authentication"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("select",{value:c,onChange:t=>L(t.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 focus:outline-none focus:border-slate-400 focus:ring-1 focus:ring-slate-400 transition",tabIndex:0,children:te.map(t=>e.jsx("option",{value:t,children:t},t))}),c!=="None"&&e.jsx("input",{type:c==="Basic"?"text":"password",value:d,onChange:t=>H(t.target.value),placeholder:c==="Basic"?"username:password":"Token or key",className:"w-full rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:border-slate-400 focus:ring-1 focus:ring-slate-400 transition",tabIndex:0})]})]}),m!=="GET"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Request Body"}),e.jsx("textarea",{value:p,onChange:t=>E(t.target.value),placeholder:'{"key": "value"}',className:"w-full h-32 rounded-xl border border-slate-200 bg-white px-4 py-3 font-mono text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:border-slate-300 transition resize-none",tabIndex:0})]}),e.jsxs("button",{onClick:q,disabled:x||!o.trim(),className:"w-full rounded-xl px-4 py-2.5 text-sm font-medium text-white transition hover:opacity-90 active:scale-95 disabled:bg-slate-300 disabled:cursor-not-allowed focus:outline-none shadow-sm flex items-center justify-center gap-2",style:{backgroundColor:"#81B5A1"},tabIndex:0,children:[e.jsx(Z,{className:"h-4 w-4"}),x?"Sending...":"Send Request"]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white shadow-sm",children:[e.jsx("div",{className:"border-b border-slate-200 bg-slate-50 px-4 py-2.5 rounded-t-lg",children:e.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Response"})}),e.jsxs("div",{className:"p-6",children:[!s&&!x&&e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx(A,{className:"h-12 w-12 mx-auto mb-3 text-slate-300"}),e.jsx("p",{className:"text-sm",children:"Send a request to see the response here"})]}),x&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900"}),e.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Sending request..."})]}),s&&!x&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[(()=>{const t=z(s.status);return e.jsx(t,{className:S("h-5 w-5",v(s.status))})})(),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:S("text-lg font-semibold",v(s.status)),children:s.status||"Error"}),s.statusText&&e.jsx("span",{className:"text-sm text-slate-600",children:s.statusText})]}),s.latency&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 mt-1",children:[e.jsx(Q,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.latency,"ms"]})]})]})]}),e.jsxs("button",{onClick:()=>se(JSON.stringify(s.body,null,2)),className:"inline-flex items-center gap-1.5 rounded-md px-2.5 py-1 text-xs font-medium text-slate-600 transition hover:bg-slate-100 hover:text-slate-900 active:scale-95 focus:outline-none",tabIndex:0,children:[e.jsx(K,{className:"h-3.5 w-3.5"}),"Copy"]})]}),s.error?e.jsx("div",{className:"rounded-lg border border-error/20 bg-error/5 p-4 text-sm text-error",children:s.error}):e.jsxs(e.Fragment,{children:[s.headers&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Response Headers"}),e.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 max-h-32 overflow-auto",children:e.jsx("pre",{className:"text-xs font-mono text-slate-700",children:JSON.stringify(s.headers,null,2)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Response Body"}),e.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-950 p-4 max-h-96 overflow-auto",children:e.jsx("pre",{className:"text-xs font-mono text-slate-100",children:typeof s.body=="string"?s.body:JSON.stringify(s.body,null,2)})})]})]})]})]})]})})]})})]})})]})};J.createRoot(document.getElementById("root")).render(e.jsx(ae,{}));
//# sourceMappingURL=rest-Cxy39hHW.js.map
