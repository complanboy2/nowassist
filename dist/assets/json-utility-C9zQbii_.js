import{c as fe,b as ut,g as ht,d as qe,e as ft,r as _,j as e,a as He,F as gt,R as mt}from"./styles-CRN0AnYc.js";import{I as pt}from"./info-DNSO9KqQ.js";import{S as xt,c as oe,C as tt,b as bt}from"./clsx-B7gvTnIy.js";import{X as rt,C as yt}from"./x-CfHpcTgF.js";import{C as ve,N as vt,S as wt}from"./Navigation-IfHzGOMa.js";import{C as le}from"./circle-alert-Dw0gSg3O.js";import{D as jt}from"./download-BFco1ErO.js";import{C as we}from"./circle-check-Cnu3Op8G.js";import{C as Ge}from"./code-CiRUp7jk.js";import{L as Nt,a as Fe}from"./list-tree-B4j7v0Ol.js";import{T as St}from"./trash-2-D54b_wdH.js";const kt=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ct=fe("arrow-left",kt);const Mt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ye=fe("arrow-right",Mt);const Et=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],At=fe("check",Et);const Ot=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$t=fe("eye",Ot);const Ft=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ze=fe("file-spreadsheet",Ft);const Jt=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],Lt=fe("git-merge",Jt);const Pt=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_t=fe("pen",Pt);var ee={},Qe;function Tt(){if(Qe)return ee;Qe=1;var m=ee&&ee.__assign||function(){return m=Object.assign||function(i){for(var n,p=1,S=arguments.length;p<S;p++){n=arguments[p];for(var x in n)Object.prototype.hasOwnProperty.call(n,x)&&(i[x]=n[x])}return i},m.apply(this,arguments)},E=ee&&ee.__createBinding||(Object.create?(function(i,n,p,S){S===void 0&&(S=p);var x=Object.getOwnPropertyDescriptor(n,p);(!x||("get"in x?!n.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return n[p]}}),Object.defineProperty(i,S,x)}):(function(i,n,p,S){S===void 0&&(S=p),i[S]=n[p]})),l=ee&&ee.__setModuleDefault||(Object.create?(function(i,n){Object.defineProperty(i,"default",{enumerable:!0,value:n})}):function(i,n){i.default=n}),u=ee&&ee.__importStar||function(i){if(i&&i.__esModule)return i;var n={};if(i!=null)for(var p in i)p!=="default"&&Object.prototype.hasOwnProperty.call(i,p)&&E(n,i,p);return l(n,i),n},g=ee&&ee.__rest||function(i,n){var p={};for(var S in i)Object.prototype.hasOwnProperty.call(i,S)&&n.indexOf(S)<0&&(p[S]=i[S]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,S=Object.getOwnPropertySymbols(i);x<S.length;x++)n.indexOf(S[x])<0&&Object.prototype.propertyIsEnumerable.call(i,S[x])&&(p[S[x]]=i[S[x]]);return p};Object.defineProperty(ee,"__esModule",{value:!0});var t=u(ut()),c=89,o=90,j=77,$=57,k=219,J=222,L=192,R=100,O=3e3,v=typeof window<"u"&&"navigator"in window&&/Win/i.test(navigator.platform),C=typeof window<"u"&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),f="npm__react-simple-code-editor__textarea",s=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`.concat(f,`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`).concat(f,` {
    color: transparent !important;
  }

  .`).concat(f,`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`),r=t.forwardRef(function(n,p){var S=n.autoFocus,x=n.disabled,U=n.form,B=n.highlight,N=n.ignoreTabKey,y=N===void 0?!1:N,a=n.insertSpaces,w=a===void 0?!0:a,P=n.maxLength,F=n.minLength,A=n.name,M=n.onBlur,h=n.onClick,z=n.onFocus,D=n.onKeyDown,Q=n.onKeyUp,W=n.onValueChange,Y=n.padding,K=Y===void 0?0:Y,H=n.placeholder,X=n.preClassName,ie=n.readOnly,ge=n.required,ce=n.style,se=n.tabSize,me=se===void 0?2:se,je=n.textareaClassName,pe=n.textareaId,de=n.value,st=g(n,["autoFocus","disabled","form","highlight","ignoreTabKey","insertSpaces","maxLength","minLength","name","onBlur","onClick","onFocus","onKeyDown","onKeyUp","onValueChange","padding","placeholder","preClassName","readOnly","required","style","tabSize","textareaClassName","textareaId","value"]),q=t.useRef({stack:[],offset:-1}),Ae=t.useRef(null),Re=t.useState(!0),at=Re[0],nt=Re[1],ze={paddingTop:typeof K=="object"?K.top:K,paddingRight:typeof K=="object"?K.right:K,paddingBottom:typeof K=="object"?K.bottom:K,paddingLeft:typeof K=="object"?K.left:K},Le=B(de),he=function(b,V){return b.substring(0,V).split(`
`)},Oe=t.useCallback(function(b,V){var T,I,G;V===void 0&&(V=!1);var Z=q.current,ae=Z.stack,Ne=Z.offset;if(ae.length&&Ne>-1){q.current.stack=ae.slice(0,Ne+1);var Se=q.current.stack.length;if(Se>R){var be=Se-R;q.current.stack=ae.slice(be,Se),q.current.offset=Math.max(q.current.offset-be,0)}}var re=Date.now();if(V){var ue=q.current.stack[q.current.offset];if(ue&&re-ue.timestamp<O){var ke=/[^a-z0-9]([a-z0-9]+)$/i,te=(T=he(ue.value,ue.selectionStart).pop())===null||T===void 0?void 0:T.match(ke),Ce=(I=he(b.value,b.selectionStart).pop())===null||I===void 0?void 0:I.match(ke);if(te?.[1]&&(!((G=Ce?.[1])===null||G===void 0)&&G.startsWith(te[1]))){q.current.stack[q.current.offset]=m(m({},b),{timestamp:re});return}}}q.current.stack.push(m(m({},b),{timestamp:re})),q.current.offset++},[]),Ke=t.useCallback(function(){var b=Ae.current;if(b){var V=b.value,T=b.selectionStart,I=b.selectionEnd;Oe({value:V,selectionStart:T,selectionEnd:I})}},[Oe]),Pe=function(b){var V=Ae.current;V&&(V.value=b.value,V.selectionStart=b.selectionStart,V.selectionEnd=b.selectionEnd,W?.(b.value))},xe=function(b){var V=Ae.current,T=q.current.stack[q.current.offset];T&&V&&(q.current.stack[q.current.offset]=m(m({},T),{selectionStart:V.selectionStart,selectionEnd:V.selectionEnd})),Oe(b),Pe(b)},lt=function(){var b=q.current,V=b.stack,T=b.offset,I=V[T-1];I&&(Pe(I),q.current.offset=Math.max(T-1,0))},ot=function(){var b=q.current,V=b.stack,T=b.offset,I=V[T+1];I&&(Pe(I),q.current.offset=Math.min(T+1,V.length-1))},it=function(b){if(!(D&&(D(b),b.defaultPrevented))){b.key==="Escape"&&b.currentTarget.blur();var V=b.currentTarget,T=V.value,I=V.selectionStart,G=V.selectionEnd,Z=(w?" ":"	").repeat(me);if(b.key==="Tab"&&!y&&at)if(b.preventDefault(),b.shiftKey){var ae=he(T,I),Ne=ae.length-1,Se=he(T,G).length-1,be=T.split(`
`).map(function(Me,Ve){return Ve>=Ne&&Ve<=Se&&Me.startsWith(Z)?Me.substring(Z.length):Me}).join(`
`);if(T!==be){var re=ae[Ne];xe({value:be,selectionStart:re?.startsWith(Z)?I-Z.length:I,selectionEnd:G-(T.length-be.length)})}}else if(I!==G){var ae=he(T,I),ue=ae.length-1,ke=he(T,G).length-1,re=ae[ue];xe({value:T.split(`
`).map(function(Be,We){return We>=ue&&We<=ke?Z+Be:Be}).join(`
`),selectionStart:re&&/\S/.test(re)?I+Z.length:I,selectionEnd:G+Z.length*(ke-ue+1)})}else{var te=I+Z.length;xe({value:T.substring(0,I)+Z+T.substring(G),selectionStart:te,selectionEnd:te})}else if(b.key==="Backspace"){var Ce=I!==G,dt=T.substring(0,I);if(dt.endsWith(Z)&&!Ce){b.preventDefault();var te=I-Z.length;xe({value:T.substring(0,I-Z.length)+T.substring(G),selectionStart:te,selectionEnd:te})}}else if(b.key==="Enter"){if(I===G){var _e=he(T,I).pop(),$e=_e?.match(/^\s+/);if($e?.[0]){b.preventDefault();var Ue=`
`+$e[0],te=I+Ue.length;xe({value:T.substring(0,I)+Ue+T.substring(G),selectionStart:te,selectionEnd:te})}}}else if(b.keyCode===$||b.keyCode===k||b.keyCode===J||b.keyCode===L){var ne=void 0;b.keyCode===$&&b.shiftKey?ne=["(",")"]:b.keyCode===k?b.shiftKey?ne=["{","}"]:ne=["[","]"]:b.keyCode===J?b.shiftKey?ne=['"','"']:ne=["'","'"]:b.keyCode===L&&!b.shiftKey&&(ne=["`","`"]),I!==G&&ne&&(b.preventDefault(),xe({value:T.substring(0,I)+ne[0]+T.substring(I,G)+ne[1]+T.substring(G),selectionStart:I,selectionEnd:G+2}))}else(C?b.metaKey&&b.keyCode===o:b.ctrlKey&&b.keyCode===o)&&!b.shiftKey&&!b.altKey?(b.preventDefault(),lt()):(C?b.metaKey&&b.keyCode===o&&b.shiftKey:v?b.ctrlKey&&b.keyCode===c:b.ctrlKey&&b.keyCode===o&&b.shiftKey)&&!b.altKey?(b.preventDefault(),ot()):b.keyCode===j&&b.ctrlKey&&(!C||b.shiftKey)&&(b.preventDefault(),nt(function(Me){return!Me}))}},ct=function(b){var V=b.currentTarget,T=V.value,I=V.selectionStart,G=V.selectionEnd;Oe({value:T,selectionStart:I,selectionEnd:G},!0),W(T)};return t.useEffect(function(){Ke()},[Ke]),t.useImperativeHandle(p,function(){return{get session(){return{history:q.current}},set session(b){q.current=b.history}}},[]),t.createElement("div",m({},st,{style:m(m({},d.container),ce)}),t.createElement("pre",m({className:X,"aria-hidden":"true",style:m(m(m({},d.editor),d.highlight),ze)},typeof Le=="string"?{dangerouslySetInnerHTML:{__html:Le+"<br />"}}:{children:Le})),t.createElement("textarea",{ref:function(b){return Ae.current=b},style:m(m(m({},d.editor),d.textarea),ze),className:f+(je?" ".concat(je):""),id:pe,value:de,onChange:ct,onKeyDown:it,onClick:h,onKeyUp:Q,onFocus:z,onBlur:M,disabled:x,form:U,maxLength:P,minLength:F,name:A,placeholder:H,readOnly:ie,required:ge,autoFocus:S,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),t.createElement("style",{dangerouslySetInnerHTML:{__html:s}}))}),d={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}};return ee.default=r,ee}var Dt=Tt();const It=ht(Dt);var Te={exports:{}},Xe;function Rt(){return Xe||(Xe=1,(function(m){var E=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var l=(function(u){var g=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,c={},o={manual:u.Prism&&u.Prism.manual,disableWorkerMessageHandler:u.Prism&&u.Prism.disableWorkerMessageHandler,util:{encode:function s(r){return r instanceof j?new j(r.type,s(r.content),r.alias):Array.isArray(r)?r.map(s):r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(s){return Object.prototype.toString.call(s).slice(8,-1)},objId:function(s){return s.__id||Object.defineProperty(s,"__id",{value:++t}),s.__id},clone:function s(r,d){d=d||{};var i,n;switch(o.util.type(r)){case"Object":if(n=o.util.objId(r),d[n])return d[n];i={},d[n]=i;for(var p in r)r.hasOwnProperty(p)&&(i[p]=s(r[p],d));return i;case"Array":return n=o.util.objId(r),d[n]?d[n]:(i=[],d[n]=i,r.forEach(function(S,x){i[x]=s(S,d)}),i);default:return r}},getLanguage:function(s){for(;s;){var r=g.exec(s.className);if(r)return r[1].toLowerCase();s=s.parentElement}return"none"},setLanguage:function(s,r){s.className=s.className.replace(RegExp(g,"gi"),""),s.classList.add("language-"+r)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(i){var s=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(i.stack)||[])[1];if(s){var r=document.getElementsByTagName("script");for(var d in r)if(r[d].src==s)return r[d]}return null}},isActive:function(s,r,d){for(var i="no-"+r;s;){var n=s.classList;if(n.contains(r))return!0;if(n.contains(i))return!1;s=s.parentElement}return!!d}},languages:{plain:c,plaintext:c,text:c,txt:c,extend:function(s,r){var d=o.util.clone(o.languages[s]);for(var i in r)d[i]=r[i];return d},insertBefore:function(s,r,d,i){i=i||o.languages;var n=i[s],p={};for(var S in n)if(n.hasOwnProperty(S)){if(S==r)for(var x in d)d.hasOwnProperty(x)&&(p[x]=d[x]);d.hasOwnProperty(S)||(p[S]=n[S])}var U=i[s];return i[s]=p,o.languages.DFS(o.languages,function(B,N){N===U&&B!=s&&(this[B]=p)}),p},DFS:function s(r,d,i,n){n=n||{};var p=o.util.objId;for(var S in r)if(r.hasOwnProperty(S)){d.call(r,S,r[S],i||S);var x=r[S],U=o.util.type(x);U==="Object"&&!n[p(x)]?(n[p(x)]=!0,s(x,d,null,n)):U==="Array"&&!n[p(x)]&&(n[p(x)]=!0,s(x,d,S,n))}}},plugins:{},highlightAll:function(s,r){o.highlightAllUnder(document,s,r)},highlightAllUnder:function(s,r,d){var i={callback:d,container:s,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",i),i.elements=Array.prototype.slice.apply(i.container.querySelectorAll(i.selector)),o.hooks.run("before-all-elements-highlight",i);for(var n=0,p;p=i.elements[n++];)o.highlightElement(p,r===!0,i.callback)},highlightElement:function(s,r,d){var i=o.util.getLanguage(s),n=o.languages[i];o.util.setLanguage(s,i);var p=s.parentElement;p&&p.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(p,i);var S=s.textContent,x={element:s,language:i,grammar:n,code:S};function U(N){x.highlightedCode=N,o.hooks.run("before-insert",x),x.element.innerHTML=x.highlightedCode,o.hooks.run("after-highlight",x),o.hooks.run("complete",x),d&&d.call(x.element)}if(o.hooks.run("before-sanity-check",x),p=x.element.parentElement,p&&p.nodeName.toLowerCase()==="pre"&&!p.hasAttribute("tabindex")&&p.setAttribute("tabindex","0"),!x.code){o.hooks.run("complete",x),d&&d.call(x.element);return}if(o.hooks.run("before-highlight",x),!x.grammar){U(o.util.encode(x.code));return}if(r&&u.Worker){var B=new Worker(o.filename);B.onmessage=function(N){U(N.data)},B.postMessage(JSON.stringify({language:x.language,code:x.code,immediateClose:!0}))}else U(o.highlight(x.code,x.grammar,x.language))},highlight:function(s,r,d){var i={code:s,grammar:r,language:d};if(o.hooks.run("before-tokenize",i),!i.grammar)throw new Error('The language "'+i.language+'" has no grammar.');return i.tokens=o.tokenize(i.code,i.grammar),o.hooks.run("after-tokenize",i),j.stringify(o.util.encode(i.tokens),i.language)},tokenize:function(s,r){var d=r.rest;if(d){for(var i in d)r[i]=d[i];delete r.rest}var n=new J;return L(n,n.head,s),k(s,n,r,n.head,0),O(n)},hooks:{all:{},add:function(s,r){var d=o.hooks.all;d[s]=d[s]||[],d[s].push(r)},run:function(s,r){var d=o.hooks.all[s];if(!(!d||!d.length))for(var i=0,n;n=d[i++];)n(r)}},Token:j};u.Prism=o;function j(s,r,d,i){this.type=s,this.content=r,this.alias=d,this.length=(i||"").length|0}j.stringify=function s(r,d){if(typeof r=="string")return r;if(Array.isArray(r)){var i="";return r.forEach(function(U){i+=s(U,d)}),i}var n={type:r.type,content:s(r.content,d),tag:"span",classes:["token",r.type],attributes:{},language:d},p=r.alias;p&&(Array.isArray(p)?Array.prototype.push.apply(n.classes,p):n.classes.push(p)),o.hooks.run("wrap",n);var S="";for(var x in n.attributes)S+=" "+x+'="'+(n.attributes[x]||"").replace(/"/g,"&quot;")+'"';return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+S+">"+n.content+"</"+n.tag+">"};function $(s,r,d,i){s.lastIndex=r;var n=s.exec(d);if(n&&i&&n[1]){var p=n[1].length;n.index+=p,n[0]=n[0].slice(p)}return n}function k(s,r,d,i,n,p){for(var S in d)if(!(!d.hasOwnProperty(S)||!d[S])){var x=d[S];x=Array.isArray(x)?x:[x];for(var U=0;U<x.length;++U){if(p&&p.cause==S+","+U)return;var B=x[U],N=B.inside,y=!!B.lookbehind,a=!!B.greedy,w=B.alias;if(a&&!B.pattern.global){var P=B.pattern.toString().match(/[imsuy]*$/)[0];B.pattern=RegExp(B.pattern.source,P+"g")}for(var F=B.pattern||B,A=i.next,M=n;A!==r.tail&&!(p&&M>=p.reach);M+=A.value.length,A=A.next){var h=A.value;if(r.length>s.length)return;if(!(h instanceof j)){var z=1,D;if(a){if(D=$(F,M,s,y),!D||D.index>=s.length)break;var K=D.index,Q=D.index+D[0].length,W=M;for(W+=A.value.length;K>=W;)A=A.next,W+=A.value.length;if(W-=A.value.length,M=W,A.value instanceof j)continue;for(var Y=A;Y!==r.tail&&(W<Q||typeof Y.value=="string");Y=Y.next)z++,W+=Y.value.length;z--,h=s.slice(M,W),D.index-=M}else if(D=$(F,0,h,y),!D)continue;var K=D.index,H=D[0],X=h.slice(0,K),ie=h.slice(K+H.length),ge=M+h.length;p&&ge>p.reach&&(p.reach=ge);var ce=A.prev;X&&(ce=L(r,ce,X),M+=X.length),R(r,ce,z);var se=new j(S,N?o.tokenize(H,N):H,w,H);if(A=L(r,ce,se),ie&&L(r,A,ie),z>1){var me={cause:S+","+U,reach:ge};k(s,r,d,A.prev,M,me),p&&me.reach>p.reach&&(p.reach=me.reach)}}}}}}function J(){var s={value:null,prev:null,next:null},r={value:null,prev:s,next:null};s.next=r,this.head=s,this.tail=r,this.length=0}function L(s,r,d){var i=r.next,n={value:d,prev:r,next:i};return r.next=n,i.prev=n,s.length++,n}function R(s,r,d){for(var i=r.next,n=0;n<d&&i!==s.tail;n++)i=i.next;r.next=i,i.prev=r,s.length-=n}function O(s){for(var r=[],d=s.head.next;d!==s.tail;)r.push(d.value),d=d.next;return r}if(!u.document)return u.addEventListener&&(o.disableWorkerMessageHandler||u.addEventListener("message",function(s){var r=JSON.parse(s.data),d=r.language,i=r.code,n=r.immediateClose;u.postMessage(o.highlight(i,o.languages[d],d)),n&&u.close()},!1)),o;var v=o.util.currentScript();v&&(o.filename=v.src,v.hasAttribute("data-manual")&&(o.manual=!0));function C(){o.manual||o.highlightAll()}if(!o.manual){var f=document.readyState;f==="loading"||f==="interactive"&&v&&v.defer?document.addEventListener("DOMContentLoaded",C):window.requestAnimationFrame?window.requestAnimationFrame(C):window.setTimeout(C,16)}return o})(E);m.exports&&(m.exports=l),typeof qe<"u"&&(qe.Prism=l),l.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},l.languages.markup.tag.inside["attr-value"].inside.entity=l.languages.markup.entity,l.languages.markup.doctype.inside["internal-subset"].inside=l.languages.markup,l.hooks.add("wrap",function(u){u.type==="entity"&&(u.attributes.title=u.content.replace(/&amp;/,"&"))}),Object.defineProperty(l.languages.markup.tag,"addInlined",{value:function(g,t){var c={};c["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:l.languages[t]},c.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:c}};o["language-"+t]={pattern:/[\s\S]+/,inside:l.languages[t]};var j={};j[g]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return g}),"i"),lookbehind:!0,greedy:!0,inside:o},l.languages.insertBefore("markup","cdata",j)}}),Object.defineProperty(l.languages.markup.tag,"addAttribute",{value:function(u,g){l.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+u+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[g,"language-"+g],inside:l.languages[g]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),l.languages.html=l.languages.markup,l.languages.mathml=l.languages.markup,l.languages.svg=l.languages.markup,l.languages.xml=l.languages.extend("markup",{}),l.languages.ssml=l.languages.xml,l.languages.atom=l.languages.xml,l.languages.rss=l.languages.xml,(function(u){var g=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;u.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+g.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+g.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+g.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+g.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:g,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},u.languages.css.atrule.inside.rest=u.languages.css;var t=u.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(l),l.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},l.languages.javascript=l.languages.extend("clike",{"class-name":[l.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),l.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,l.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:l.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:l.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:l.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:l.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:l.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),l.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:l.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),l.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),l.languages.markup&&(l.languages.markup.tag.addInlined("script","javascript"),l.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),l.languages.js=l.languages.javascript,(function(){if(typeof l>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var u="Loading…",g=function(v,C){return"✖ Error "+v+" while fetching file: "+C},t="✖ Error: File does not exist or is empty",c={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",j="loading",$="loaded",k="failed",J="pre[data-src]:not(["+o+'="'+$+'"]):not(['+o+'="'+j+'"])';function L(v,C,f){var s=new XMLHttpRequest;s.open("GET",v,!0),s.onreadystatechange=function(){s.readyState==4&&(s.status<400&&s.responseText?C(s.responseText):s.status>=400?f(g(s.status,s.statusText)):f(t))},s.send(null)}function R(v){var C=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(v||"");if(C){var f=Number(C[1]),s=C[2],r=C[3];return s?r?[f,Number(r)]:[f,void 0]:[f,f]}}l.hooks.add("before-highlightall",function(v){v.selector+=", "+J}),l.hooks.add("before-sanity-check",function(v){var C=v.element;if(C.matches(J)){v.code="",C.setAttribute(o,j);var f=C.appendChild(document.createElement("CODE"));f.textContent=u;var s=C.getAttribute("data-src"),r=v.language;if(r==="none"){var d=(/\.(\w+)$/.exec(s)||[,"none"])[1];r=c[d]||d}l.util.setLanguage(f,r),l.util.setLanguage(C,r);var i=l.plugins.autoloader;i&&i.loadLanguages(r),L(s,function(n){C.setAttribute(o,$);var p=R(C.getAttribute("data-range"));if(p){var S=n.split(/\r\n?|\n/g),x=p[0],U=p[1]==null?S.length:p[1];x<0&&(x+=S.length),x=Math.max(0,Math.min(x-1,S.length)),U<0&&(U+=S.length),U=Math.max(0,Math.min(U,S.length)),n=S.slice(x,U).join(`
`),C.hasAttribute("data-start")||C.setAttribute("data-start",String(x+1))}f.textContent=n,l.highlightElement(f)},function(n){C.setAttribute(o,k),f.textContent=n})}}),l.plugins.fileHighlight={highlight:function(C){for(var f=(C||document).querySelectorAll(J),s=0,r;r=f[s++];)l.highlightElement(r)}};var O=!1;l.fileHighlight=function(){O||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),O=!0),l.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(Te)),Te.exports}var Je=Rt(),zt=ft();Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;const ye=({value:m="",onChange:E,readOnly:l=!1,placeholder:u="Enter JSON...",errorLine:g=null,errorMessage:t=null,style:c={}})=>{const o=_.useRef(null),j=_.useRef(null),[$,k]=_.useState({show:!1,x:0,y:0}),J=_.useRef(null),R=(m?m.split(`
`):[""]).length,O=_.useMemo(()=>g?Array.isArray(g)?g:[g]:[],[g]);_.useEffect(()=>{const f=o.current,s=j.current;if(!f||!s)return;const r=()=>{s&&(s.scrollTop=f.scrollTop)},d=f.querySelector("textarea");if(d)return d.addEventListener("scroll",r),()=>d.removeEventListener("scroll",r)},[m]);const v=f=>{if(J.current){const s=J.current.getBoundingClientRect();k({show:!0,x:s.right+12,y:s.top+s.height/2})}},C=()=>{k({show:!1,x:0,y:0})};return _.useMemo(()=>{if(!m)return"";try{let f=Je.highlight(m,Je.languages.json,"json");if(O.length>0){const s=f.split(`
`);O.forEach(r=>{r>0&&s[r-1]&&(s[r-1]=`<span class="error-line-text" style="background-color: rgba(239, 68, 68, 0.25); display: inline-block; width: 100%; padding: 2px 0; margin-left: -16px; padding-left: 16px; border-left: 3px solid #ef4444;">${s[r-1]}</span>`)}),f=s.join(`
`)}return f}catch{return m}},[m,O]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full h-full relative flex",style:{...c,width:"100%",minWidth:0,maxWidth:"100%"},children:[e.jsx("div",{ref:j,className:"flex-shrink-0 bg-slate-50 border-r border-slate-200 text-right pr-2 py-4",style:{width:"50px",fontFamily:'"Fira Code", "Fira Mono", "Consolas", "Monaco", "Courier New", monospace',fontSize:"14px",lineHeight:"1.6",color:"#64748b",overflowY:"hidden",overflowX:"visible"},children:Array.from({length:R},(f,s)=>{const r=s+1,d=O.includes(r);return e.jsxs("div",{className:`
                  relative flex items-center justify-end gap-1
                  ${d?"bg-red-100 text-red-600 font-semibold":""}
                `,style:{minHeight:"22.4px"},children:[d&&t&&s===O[0]-1&&e.jsx("div",{ref:J,onMouseEnter:v,onMouseLeave:C,className:"relative z-50",children:e.jsx(pt,{className:"h-3.5 w-3.5 text-red-600 cursor-help flex-shrink-0"})}),e.jsx("span",{children:r})]},s)})}),e.jsxs("div",{ref:o,className:"flex-1 relative overflow-hidden",children:[e.jsx(It,{value:m,onValueChange:f=>{E&&!l&&E(f)},highlight:f=>{if(!f)return"";try{let s=Je.highlight(f,Je.languages.json,"json");if(O.length>0){const r=s.split(`
`);O.forEach(d=>{d>0&&r[d-1]&&(r[d-1]=`<span class="error-line-text" style="background-color: rgba(239, 68, 68, 0.25); display: inline-block; width: 100%; padding: 2px 0; margin-left: -16px; padding-left: 16px; border-left: 3px solid #ef4444;">${r[d-1]}</span>`)}),s=r.join(`
`)}return s}catch{return f}},padding:16,style:{fontFamily:'"Fira Code", "Fira Mono", "Consolas", "Monaco", "Courier New", monospace',fontSize:14,lineHeight:1.6,outline:0,backgroundColor:"#ffffff",minHeight:"100%",width:"100%",...c},textareaClassName:"json-editor-textarea",preClassName:"json-editor-pre",readOnly:l,placeholder:u}),O.map(f=>f>0&&e.jsx("div",{className:"absolute left-0 right-0 pointer-events-none",style:{top:`${(f-1)*22.4}px`,height:"22.4px",backgroundColor:"rgba(239, 68, 68, 0.15)",borderLeft:"3px solid #ef4444"}},f))]}),e.jsx("style",{children:`
          .json-editor-textarea,
          .json-editor-pre {
            font-family: "Fira Code", "Fira Mono", "Consolas", "Monaco", "Courier New", monospace !important;
            font-size: 14px;
            line-height: 1.6;
            tab-size: 2;
            -moz-tab-size: 2;
          }
          .json-editor-textarea {
            outline: none;
            resize: none;
            border: none;
            overflow-wrap: normal;
            overflow-x: auto;
            white-space: pre;
            padding-left: 0 !important;
          }
          .json-editor-textarea:focus {
            outline: none;
          }
          .json-editor-pre {
            pointer-events: none;
            padding-left: 0 !important;
          }
          .error-line-text {
            background-color: rgba(239, 68, 68, 0.25) !important;
          }
        `})]}),$.show&&t&&typeof document<"u"&&zt.createPortal(e.jsxs("div",{className:"fixed z-[99999] bg-slate-900 text-white text-xs px-3 py-2 rounded-lg shadow-2xl pointer-events-none",style:{left:`${$.x}px`,top:`${$.y}px`,transform:"translateY(-50%)",maxWidth:"320px",minWidth:"200px",wordWrap:"break-word",whiteSpace:"normal"},children:[e.jsx("div",{className:"font-semibold mb-1",children:"Error:"}),e.jsx("div",{children:t}),e.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 translate-x-0.5",children:e.jsx("div",{className:"border-4 border-transparent border-r-slate-900"})})]}),document.body)]})},Kt=({jsonData:m,onPathSelect:E,onUpdate:l,editable:u=!1})=>{const[g,t]=_.useState(new Set(["$"])),[c,o]=_.useState(null),[j,$]=_.useState(""),[k,J]=_.useState(null),[L,R]=_.useState(""),[O,v]=_.useState(m),C=He.useRef(null);He.useEffect(()=>{v(m)},[m]);const f=_.useMemo(()=>{if(!O)return[];const a=(w,P="$",F=0)=>{const A=[];return w===null?(A.push({path:P,key:P.split(/[.\[\]]+/).filter(Boolean).pop()||"root",value:null,type:"null",depth:F,isLeaf:!0}),A):typeof w!="object"?(A.push({path:P,key:P.split(/[.\[\]]+/).filter(Boolean).pop()||"root",value:w,type:typeof w,depth:F,isLeaf:!0}),A):(Array.isArray(w)?w.forEach((M,h)=>{const z=`${P}[${h}]`;typeof M=="object"&&M!==null?(A.push({path:z,key:`[${h}]`,value:M,type:Array.isArray(M)?"array":"object",depth:F,isLeaf:!1}),A.push(...a(M,z,F+1))):A.push({path:z,key:`[${h}]`,value:M,type:typeof M,depth:F,isLeaf:!0})}):Object.keys(w).forEach(M=>{const h=w[M],z=P==="$"?`$.${M}`:`${P}.${M}`;typeof h=="object"&&h!==null?(A.push({path:z,key:M,value:h,type:Array.isArray(h)?"array":"object",depth:F,isLeaf:!1}),A.push(...a(h,z,F+1))):A.push({path:z,key:M,value:h,type:typeof h=="string"?"string":typeof h,depth:F,isLeaf:!0})}),A)};return a(O)},[O]),s=_.useMemo(()=>{if(!j)return f;const a=j.toLowerCase();return f.filter(w=>{const P=w.key.toLowerCase().includes(a),F=w.path.toLowerCase().includes(a),A=w.isLeaf&&String(w.value).toLowerCase().includes(a);return P||F||A})},[f,j]),r=a=>{if(!a.path||a.path==="$")return!0;const w=a.path.slice(2);if(!w)return!0;const P=[];let F="",A=!1;for(let M=0;M<w.length;M++){const h=w[M];h==="["?(F&&(P.push(F),F=""),A=!0):h==="]"?A&&F&&(P.push(`[${F}]`),F="",A=!1):h==="."&&!A?F&&(P.push(F),F=""):F+=h}F&&P.push(F);for(let M=1;M<P.length;M++){const h=P.slice(0,M);let z="$";for(const D of h)D.startsWith("[")?z+=D:z+=z==="$"?`.${D}`:`.${D}`;if(!g.has(z))return!1}return!0},d=a=>{const w=new Set(g);w.has(a)?w.delete(a):w.add(a),t(w)},i=(a,w)=>{k||w&&w.detail===2||(o(a.path),E&&E(a.path,a.value))},n=(a,w)=>{!u||!a.isLeaf||(w&&(w.stopPropagation(),w.preventDefault()),o(null),J(a.path),R(String(a.value===null?"null":a.value)))},p=()=>{J(null),R("")},S=()=>{if(k)try{const a=x(O,k,L);v(a),l&&l(a),J(null),R("")}catch(a){console.error("Failed to update value:",a),alert("Failed to update value: "+a.message)}},x=(a,w,P)=>{const F=JSON.parse(JSON.stringify(a)),A=w.startsWith("$.")?w.substring(2):w;let M;const h=P.trim();h==="null"?M=null:h==="true"?M=!0:h==="false"?M=!1:h.startsWith('"')&&h.endsWith('"')?M=h.slice(1,-1):!isNaN(h)&&h!==""?M=Number(h):M=h;const z=A.split(".");let D=F;for(let Y=0;Y<z.length-1;Y++){const K=z[Y],H=K.match(/^(.+)\[(\d+)\]$/);if(H){const X=H[1],ie=parseInt(H[2]);D=D[X][ie]}else D=D[K]}const Q=z[z.length-1],W=Q.match(/^(.+)\[(\d+)\]$/);if(W){const Y=W[1],K=parseInt(W[2]);D[Y][K]=M}else D[Q]=M;return F},U=async a=>{await navigator.clipboard.writeText(a)},B=async a=>{typeof a=="object"?await navigator.clipboard.writeText(JSON.stringify(a,null,2)):await navigator.clipboard.writeText(String(a))},N=(a,w)=>a===null?"null":w==="string"?`"${a}"`:w==="undefined"?"undefined":String(a),y=a=>{switch(a){case"string":return"text-green-600";case"number":return"text-blue-600";case"boolean":return"text-purple-600";case"null":return"text-slate-400";case"object":return"text-orange-600";case"array":return"text-pink-600";default:return"text-slate-600"}};return O?e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"border-b border-slate-200 bg-white p-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(xt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search keys, paths, or values...",value:j,onChange:a=>$(a.target.value),className:"w-full rounded-lg border border-slate-200 bg-white py-2 pl-9 pr-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-primary focus:outline-none"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.length===0?e.jsx("div",{className:"text-center text-slate-500 py-8",children:"No matching nodes found"}):e.jsx("div",{className:"space-y-1",children:s.map((a,w)=>{if(!r(a))return null;const P=g.has(a.path),F=c===a.path,A=k===a.path,M=a.depth*20;return e.jsxs("div",{className:oe("flex items-center gap-2 py-1 px-2 rounded hover:bg-slate-50 transition",F&&!A&&"bg-blue-50 border-l-2 border-blue-500 cursor-pointer",A&&"bg-yellow-50 border-l-2 border-yellow-500"),style:{marginLeft:`${M}px`},onClick:h=>{A||(C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{!k&&h.detail===1&&i(a,h)},300))},onDoubleClick:h=>{u&&a.isLeaf&&!A&&(h.stopPropagation(),h.preventDefault(),C.current&&(clearTimeout(C.current),C.current=null),o(null),n(a,h))},children:[!a.isLeaf&&e.jsx("button",{onClick:h=>{h.stopPropagation(),d(a.path)},className:"p-0.5 hover:bg-slate-200 rounded transition",children:P?e.jsx(tt,{className:"h-4 w-4 text-slate-600"}):e.jsx(bt,{className:"h-4 w-4 text-slate-600"})}),a.isLeaf&&!A&&e.jsx("div",{className:"w-5"}),e.jsxs("span",{className:"font-mono text-sm font-semibold text-slate-700",children:[a.key,":"]}),a.isLeaf?A?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:L,onChange:h=>R(h.target.value),onKeyDown:h=>{h.key==="Enter"?(h.preventDefault(),S()):h.key==="Escape"&&(h.preventDefault(),p())},autoFocus:!0,className:"flex-1 px-2 py-1 border border-blue-400 rounded bg-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:h=>h.stopPropagation()}),e.jsx("button",{onClick:h=>{h.stopPropagation(),S()},className:"p-1 hover:bg-green-200 rounded transition text-green-600",title:"Save",children:e.jsx(At,{className:"h-4 w-4"})}),e.jsx("button",{onClick:h=>{h.stopPropagation(),p()},className:"p-1 hover:bg-red-200 rounded transition text-red-600",title:"Cancel",children:e.jsx(rt,{className:"h-4 w-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:oe("font-mono text-sm select-none",y(a.type)),onDoubleClick:u?h=>{h.stopPropagation(),h.preventDefault(),n(a,h)}:void 0,style:{cursor:u?"pointer":"default"},title:u?"Double-click to edit":"",children:N(a.value,a.type)}),e.jsx("div",{className:"flex-1"}),u&&e.jsx("button",{onClick:h=>n(a,h),className:"p-1 hover:bg-blue-200 rounded transition opacity-70 hover:opacity-100",title:"Edit value",children:e.jsx(_t,{className:"h-3 w-3 text-blue-500"})}),e.jsx("button",{onClick:h=>{h.stopPropagation(),B(a.value)},className:"p-1 hover:bg-slate-200 rounded transition opacity-70 hover:opacity-100",title:"Copy value",children:e.jsx(ve,{className:"h-3 w-3 text-slate-500"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-slate-500",children:Array.isArray(a.value)?`Array(${a.value.length})`:`Object(${Object.keys(a.value).length})`}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:h=>{h.stopPropagation(),U(a.path)},className:"p-1 hover:bg-slate-200 rounded transition opacity-70 hover:opacity-100",title:"Copy path",children:e.jsx(ve,{className:"h-3 w-3 text-slate-500"})})]})]},`${a.path}-${w}`)})})}),c&&!k&&e.jsxs("div",{className:"border-t border-slate-200 bg-slate-50 p-3",children:[e.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Selected Path:"}),e.jsx("div",{className:"font-mono text-sm text-slate-900 mb-2",children:c}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>U(c),className:"text-xs px-2 py-1 bg-white border border-slate-200 rounded hover:bg-slate-50 transition flex items-center gap-1",children:[e.jsx(ve,{className:"h-3 w-3"}),"Copy Path"]})})]})]}):e.jsx("div",{className:"p-8 text-center text-slate-500",children:"No JSON data to display. Please load or paste JSON."})},Ee=(m,E="asc")=>{if(m===null||typeof m!="object")return m;if(Array.isArray(m))return m.map(g=>Ee(g,E));const l={};return Object.keys(m).sort((g,t)=>E==="desc"?t.localeCompare(g):g.localeCompare(t)).forEach(g=>{const t=m[g];typeof t=="object"&&t!==null&&!Array.isArray(t)?l[g]=Ee(t,E):Array.isArray(t)?l[g]=t.map(c=>Ee(c,E)):l[g]=t}),l},De=(m,E="",l=".")=>{const u={};for(const g in m)if(m.hasOwnProperty(g)){const t=E?`${E}${l}${g}`:g,c=m[g];typeof c=="object"&&c!==null&&!Array.isArray(c)?Object.assign(u,De(c,t,l)):Array.isArray(c)?c.forEach((o,j)=>{typeof o=="object"&&o!==null?Object.assign(u,De(o,`${t}[${j}]`,l)):u[`${t}[${j}]`]=o}):u[t]=c}return u},Ut=(m,E=".")=>{const l={};for(const u in m)if(m.hasOwnProperty(u)){const g=u.split(E);let t=l;for(let j=0;j<g.length-1;j++){const $=g[j],k=$.match(/^(.+)\[(\d+)\]$/);if(k){const J=k[1],L=parseInt(k[2]);t[J]||(t[J]=[]),t[J][L]||(t[J][L]={}),t=t[J][L]}else t[$]||(t[$]={}),t=t[$]}const c=g[g.length-1],o=c.match(/^(.+)\[(\d+)\]$/);if(o){const j=o[1],$=parseInt(o[2]);t[j]||(t[j]=[]),t[j][$]=m[u]}else t[c]=m[u]}return l},Vt=m=>{if(!Array.isArray(m)||m.length===0)throw new Error("Input must be a non-empty array of objects");const E=new Set;m.forEach(t=>{typeof t=="object"&&t!==null&&Object.keys(t).forEach(c=>E.add(c))});const l=Array.from(E),u=t=>{if(t==null)return"";const c=String(t);return c.includes(",")||c.includes('"')||c.includes(`
`)?`"${c.replace(/"/g,'""')}"`:c};return[l.map(u).join(","),...m.map(t=>l.map(c=>{const o=t[c];return u(typeof o=="object"&&o!==null?JSON.stringify(o):o)}).join(","))].join(`
`)},Bt=m=>{const E=m.split(`
`).filter(t=>t.trim());if(E.length===0)throw new Error("CSV is empty");const l=t=>{const c=[];let o="",j=!1;for(let $=0;$<t.length;$++){const k=t[$],J=t[$+1];k==='"'?j&&J==='"'?(o+='"',$++):j=!j:k===","&&!j?(c.push(o),o=""):o+=k}return c.push(o),c},u=l(E[0]);return E.slice(1).map(t=>{const c=l(t),o={};return u.forEach((j,$)=>{let k=c[$]||"";if(k.startsWith("{")||k.startsWith("["))try{k=JSON.parse(k)}catch{}o[j]=k}),o})},Wt=(m,E,l="$")=>{const u={added:[],removed:[],changed:[],unchanged:[]},g=(t,c,o)=>{if(typeof t!="object"||t===null||typeof c!="object"||c===null){t!==c?u.changed.push({path:o,oldValue:t,newValue:c}):u.unchanged.push({path:o,value:t});return}if(Array.isArray(t)&&Array.isArray(c)){const $=Math.max(t.length,c.length);for(let k=0;k<$;k++){const J=`${o}[${k}]`;k>=t.length?u.added.push({path:J,value:c[k]}):k>=c.length?u.removed.push({path:J,value:t[k]}):g(t[k],c[k],J)}return}new Set([...Object.keys(t),...Object.keys(c)]).forEach($=>{const k=o==="$"?`$.${$}`:`${o}.${$}`;$ in t?$ in c?g(t[$],c[$],k):u.removed.push({path:k,value:t[$]}):u.added.push({path:k,value:c[$]})})};return g(m,E,l),u},qt=({inputJson:m,isValidJson:E,onOutputUpdate:l})=>{const[u,g]=_.useState("csv"),[t,c]=_.useState(null),[o,j]=_.useState(""),$=()=>{if(c(null),!E||!m){c("Please provide valid JSON first");return}try{const R=JSON.parse(m);if(!Array.isArray(R)){c("JSON must be an array of objects for CSV conversion");return}if(R.length===0){c("Array must not be empty");return}const O=Vt(R);j(O),l&&l(O)}catch(R){c(R.message)}},k=()=>{if(c(null),!m||!m.trim()){c("Please provide CSV data first");return}try{const R=Bt(m),O=JSON.stringify(R,null,2);j(O),l&&l(O)}catch(R){c(R.message)}},J=async()=>{o&&await navigator.clipboard.writeText(o)},L=()=>{if(!o)return;const R=u==="csv"?"csv":"txt",O=u==="csv"?"text/csv":"text/plain",v=new Blob([o],{type:O}),C=URL.createObjectURL(v),f=document.createElement("a");f.href=C,f.download=`output.${R}`,f.click(),URL.revokeObjectURL(C)};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"border-b border-slate-200 bg-white p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Convert:"}),e.jsx("button",{onClick:()=>{g("csv"),j(""),c(null)},className:oe("px-4 py-2 rounded-lg text-sm font-medium transition",u==="csv"?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:"JSON ↔ CSV"}),e.jsx("span",{className:"text-xs text-slate-500",children:"More formats coming soon..."})]})}),u==="csv"&&e.jsxs("div",{className:"border-b border-slate-200 bg-slate-50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:$,disabled:!E,className:oe("px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2",E?"bg-primary text-white hover:bg-primary/90":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:[e.jsx(gt,{className:"h-4 w-4"}),"JSON to CSV",e.jsx(Ye,{className:"h-4 w-4"})]}),e.jsxs("button",{onClick:k,disabled:!m||!m.trim(),className:oe("px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2",m&&m.trim()?"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:[e.jsx(Ze,{className:"h-4 w-4"}),"CSV to JSON",e.jsx(Ye,{className:"h-4 w-4"})]})]}),t&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-red-600 text-sm",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:t})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col bg-white overflow-hidden",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-2 bg-slate-50 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Output"}),e.jsx("div",{className:"flex items-center gap-2",children:o&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:J,className:"p-1.5 rounded text-slate-500 hover:bg-slate-200 transition",title:"Copy",children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx("button",{onClick:L,className:"p-1.5 rounded text-slate-500 hover:bg-slate-200 transition",title:"Download",children:e.jsx(jt,{className:"h-4 w-4"})})]})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-4",children:o?e.jsx("pre",{className:"font-mono text-sm text-slate-900 whitespace-pre-wrap break-words",children:o}):e.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Select a conversion type and click convert"})]})})})]})]})};function Ie(m,E){if(!m||!m.message)return{message:"Unknown JSON error",line:null,column:null,position:null,suggestion:"Please check your JSON syntax.",context:null};const l=m.message,u=E?E.split(`
`):[];let g=null,t=null,c=null;const o=l.match(/position\s+(\d+)/i);if(o&&(c=parseInt(o[1],10),E&&c>=0&&c<E.length)){const v=E.substring(0,c).split(`
`);g=v.length,t=v[v.length-1].length+1}const j=l.match(/line\s+(\d+).*column\s+(\d+)/i);j&&(g=parseInt(j[1],10),t=parseInt(j[2],10));const $=l.match(/line\s+(\d+)/i);$&&!g&&(g=parseInt($[1],10));let k=null;if(g&&u[g-1]){const O=u[g-1],v=Math.max(0,(t||O.length)-20),C=Math.min(O.length,(t||O.length)+20);if(k=O.substring(v,C).trim(),t){const f=t-v-1;if(f>=0&&f<k.length){const s=k[f];k=k.substring(0,f)+`[${s}]`+k.substring(f+1)}}}let J=l,L="";if(l.includes("Unexpected token")){const O=l.match(/Unexpected token\s+(\S+)/i),v=O?O[1]:"token";J=`Unexpected ${v} found`,v.includes("}")||v.includes("]")?L="Check for extra closing braces or brackets. You may have an extra } or ].":v.includes("{")||v.includes("[")?L="Check for missing commas between properties or values.":v.includes("'")||v.includes('"')?L="Check for unclosed strings or mismatched quotes. All strings must use double quotes in JSON.":L=`Unexpected ${v} character. Check the syntax around line ${g||"the error"}.`}else if(l.includes("Unexpected end"))J="JSON ends unexpectedly",L="Check for missing closing braces }, brackets ], or quotes. The JSON structure is incomplete.";else if(l.includes("Expected")){const O=l.match(/Expected\s+(.+?)(?:\s+but|$)/i),v=O?O[1].trim():"valid JSON";J=`Expected ${v}`,v.includes("property name")||v.includes("key")?L="Check for missing property names or colons. Each property needs a name in quotes followed by a colon.":v.includes("comma")||v.includes(",")?L="Check for missing commas between properties or array elements.":v.includes("colon")||v.includes(":")?L="Check for missing colons between property names and values.":L=`Expected ${v}. Check the JSON structure around line ${g||"the error"}.`}else l.includes("Bad escaped character")?(J="Invalid escape sequence",L='Check escape sequences in strings. Use \\n for newline, \\t for tab, \\" for quote, etc.'):l.includes("Unterminated string")?(J="Unclosed string",L="Check for missing closing quotes. All string values must start and end with double quotes."):l.includes("Duplicate key")?(J="Duplicate property name",L="Check for duplicate property names in the same object. Each property name must be unique."):L=`Check the JSON syntax around line ${g||"the error"}. Make sure all brackets, braces, and quotes are properly closed.`;let R=null;if(g&&u.length>0){const O=Math.max(0,g-2),v=Math.min(u.length,g+1);R=u.slice(O,v).map((C,f)=>({lineNumber:O+f+1,text:C,isErrorLine:O+f+1===g}))}return{message:J,originalMessage:l,line:g,column:t,position:c,suggestion:L,context:k,contextLines:R,problematicChar:t&&u[g-1]?u[g-1][t-1]:null}}const Ht=({onOutputUpdate:m})=>{const[E,l]=_.useState(""),[u,g]=_.useState(""),[t,c]=_.useState(null),[o,j]=_.useState(null),[$,k]=_.useState("summary"),[J,L]=_.useState(!1),[R,O]=_.useState(""),[v,C]=_.useState(""),[f,s]=_.useState(null),[r,d]=_.useState(null),i=N=>{if(!N||!N.trim())return s(null),null;try{return JSON.parse(N),s(null),!0}catch(y){const a=Ie(y,N);return s(a),!1}},n=N=>{if(!N||!N.trim())return d(null),null;try{return JSON.parse(N),d(null),!0}catch(y){const a=Ie(y,N);return d(a),!1}};_.useMemo(()=>{i(E)},[E]),_.useMemo(()=>{n(u)},[u]);const p=()=>{if(j(null),!E||!u){j("Both JSON inputs are required");return}const N=i(E),y=n(u);if(N===!1||y===!1){j("Please fix JSON errors before comparing");return}try{const a=JSON.parse(E),w=JSON.parse(u);try{O(JSON.stringify(a,null,2)),C(JSON.stringify(w,null,2))}catch{O(E),C(u)}const P=Wt(a,w);c(P)}catch(a){j(a.message||"Failed to parse JSON")}},S=()=>{c(null),l(R),g(v),j(null),L(!1),i(R),n(v)},x=()=>{l(""),g(""),c(null),j(null),O(""),C(""),L(!1),s(null),d(null)},U=(N,y)=>{const a=N.split(`
`),w=new Set;return y.forEach(P=>{const F=P.path,M=(F.startsWith("$.")?F.substring(2):F).split(".");let h=null;P.value!==void 0?h=P.value:P.oldValue!==void 0?h=P.oldValue:P.newValue!==void 0&&(h=P.newValue);const z=M[M.length-1];let D=null,Q=null;const W=z.match(/^(.+)\[(\d+)\]$/);W?(D=W[1],Q=parseInt(W[2])):D=z;const Y=M.slice(0,-1);for(let K=0;K<a.length;K++){const H=a[K],X=(H.match(/^(\s*)/)?.[1]||"").length/2;H.trim();const ie=D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp(`"${ie}"\\s*:`,"g").test(H)){const ce=Y.length;if(X===ce||Y.length===0){if(Q===null)w.add(K+1);else for(let se=K+1;se<a.length;se++)if(a[se].trim().startsWith("[")){let je=0;for(let pe=se+1;pe<a.length;pe++){const de=a[pe].trim();if(de==="]")break;if(de&&!de.startsWith("[")&&!de.match(/^"[^"]+"\s*:/)&&!de.startsWith("{")){if(je===Q){w.add(pe+1);break}je++}}break}break}}}if(w.size===0&&h!==null&&h!==void 0){const K=typeof h=="string"?`"${h.replace(/"/g,'\\"')}"`:String(h);for(let H=0;H<a.length;H++)if(a[H].includes(K)){w.add(H+1);break}}if(w.size===0){const K=D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),H=new RegExp(`"${K}"\\s*:`,"g");for(let X=0;X<a.length;X++)if(H.test(a[X])){w.add(X+1);break}}}),Array.from(w).sort((P,F)=>P-F)},B=(N,y,a)=>{if(!J||!a||a.length===0)return{json:N,errorLines:[],errorMessage:null};try{const w=JSON.parse(N),P=JSON.stringify(w,null,2),F=U(P,a),A=a.length,M=F.length>0?`${A} ${y} difference${A>1?"s":""} detected (lines: ${F.join(", ")})`:`${A} ${y} difference${A>1?"s":""} detected`;return{json:P,errorLines:F,errorLine:F.length>0?F:null,errorMessage:M}}catch{const P=N.split(`
`),F=new Set,A=new Set;a.forEach(h=>{const D=(h.path.startsWith("$.")?h.path.substring(2):h.path).split("."),Q=D[D.length-1].replace(/\[\d+\]$/,"");A.add(Q)});for(let h=0;h<P.length;h++){const z=P[h];for(const D of A){const Q=D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp(`"${Q}"\\s*:`,"g").test(z)){F.add(h+1);break}}}const M=Array.from(F).sort((h,z)=>h-z);return{json:N,errorLines:M,errorLine:M.length>0?M:null,errorMessage:M.length>0?`${a.length} differences detected (lines: ${M.join(", ")})`:`${a.length} differences detected`}}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"border-b border-slate-200 bg-white p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Lt,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"JSON Diff"})]}),e.jsx("div",{className:"flex items-center gap-2",children:t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"highlight-diff",checked:J,onChange:N=>L(N.target.checked),className:"w-4 h-4 text-red-600 border-slate-300 rounded focus:ring-red-500"}),e.jsxs("label",{htmlFor:"highlight-diff",className:"text-sm text-slate-700 cursor-pointer flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4"}),"Highlight Differences"]})]}),e.jsxs("button",{onClick:S,className:"px-4 py-2 rounded-lg text-sm font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition flex items-center gap-2",children:[e.jsx(Ct,{className:"h-4 w-4"}),"Back to Edit"]}),e.jsx("button",{onClick:x,className:"px-4 py-2 rounded-lg text-sm font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:"Clear"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:p,disabled:!E||!u||f||r,className:oe("px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2",E&&u&&!f&&!r?"bg-primary text-white hover:bg-primary/90":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:"Compare"}),e.jsx("button",{onClick:x,className:"px-4 py-2 rounded-lg text-sm font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:"Clear"})]})})]}),o&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-red-600 text-sm",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:o})]})]}),t?e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"border-b border-slate-200 bg-slate-50 p-4",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.added.length}),e.jsx("div",{className:"text-xs text-slate-600",children:"Added"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.removed.length}),e.jsx("div",{className:"text-xs text-slate-600",children:"Removed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.changed.length}),e.jsx("div",{className:"text-xs text-slate-600",children:"Changed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-600",children:t.unchanged.length}),e.jsx("div",{className:"text-xs text-slate-600",children:"Unchanged"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:J?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-2 bg-red-50 mb-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-red-700",children:"JSON A (with highlights)"}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[t.removed.length+t.changed.length," differences"]})]}),e.jsx("div",{className:"flex-1 overflow-hidden border border-red-200 rounded-lg",children:(()=>{const N=[...t.removed.map(a=>({path:a.path,type:"removed",value:a.value})),...t.changed.map(a=>({path:a.path,type:"changed",oldValue:a.oldValue}))],y=B(R,"removed/changed",N);return e.jsx(ye,{value:y.json,onChange:()=>{},readOnly:!0,placeholder:"",errorLine:y.errorLines.length>0?y.errorLines:null,errorMessage:y.errorMessage})})()})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-2 bg-green-50 mb-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-green-700",children:"JSON B (with highlights)"}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[t.added.length+t.changed.length," differences"]})]}),e.jsx("div",{className:"flex-1 overflow-hidden border border-green-200 rounded-lg",children:(()=>{const N=[...t.added.map(a=>({path:a.path,type:"added",value:a.value})),...t.changed.map(a=>({path:a.path,type:"changed",newValue:a.newValue}))],y=B(v,"added/changed",N);return e.jsx(ye,{value:y.json,onChange:()=>{},readOnly:!0,placeholder:"",errorLine:y.errorLines.length>0?y.errorLines:null,errorMessage:y.errorMessage})})()})]})]}):e.jsxs("div",{className:"space-y-4",children:[t.added.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-green-600 mb-2 flex items-center gap-2",children:[e.jsx(we,{className:"h-4 w-4"}),"Added (",t.added.length,")"]}),e.jsx("div",{className:"space-y-1",children:t.added.map((N,y)=>e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-3 rounded",children:[e.jsx("div",{className:"font-mono text-xs text-green-700 mb-1",children:N.path}),e.jsx("div",{className:"text-sm text-slate-700",children:typeof N.value=="object"?JSON.stringify(N.value,null,2):String(N.value)})]},y))})]}),t.removed.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-red-600 mb-2 flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4"}),"Removed (",t.removed.length,")"]}),e.jsx("div",{className:"space-y-1",children:t.removed.map((N,y)=>e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded",children:[e.jsx("div",{className:"font-mono text-xs text-red-700 mb-1",children:N.path}),e.jsx("div",{className:"text-sm text-slate-700",children:typeof N.value=="object"?JSON.stringify(N.value,null,2):String(N.value)})]},y))})]}),t.changed.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-yellow-600 mb-2 flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),"Changed (",t.changed.length,")"]}),e.jsx("div",{className:"space-y-1",children:t.changed.map((N,y)=>e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-3 rounded",children:[e.jsx("div",{className:"font-mono text-xs text-yellow-700 mb-2",children:N.path}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"text-red-700",children:[e.jsx("span",{className:"font-semibold",children:"Old:"})," ",typeof N.oldValue=="object"?JSON.stringify(N.oldValue,null,2):String(N.oldValue)]}),e.jsxs("div",{className:"text-green-700",children:[e.jsx("span",{className:"font-semibold",children:"New:"})," ",typeof N.newValue=="object"?JSON.stringify(N.newValue,null,2):String(N.newValue)]})]})]},y))})]}),t.unchanged.length>0&&t.unchanged.length<20&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-slate-600 mb-2",children:["Unchanged (",t.unchanged.length,")"]}),e.jsx("div",{className:"space-y-1",children:t.unchanged.map((N,y)=>e.jsx("div",{className:"bg-slate-50 border-l-4 border-slate-300 p-2 rounded text-xs",children:e.jsx("span",{className:"font-mono text-slate-600",children:N.path})},y))})]})]})})]}):e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-1/2 flex flex-col border-r border-slate-200",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-2 bg-slate-50 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"JSON A (Old/Left)"}),f&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-red-100 border border-red-300 rounded text-xs",children:[e.jsx(le,{className:"h-3 w-3 text-red-600"}),e.jsx("span",{className:"font-semibold text-red-900",children:"Invalid"})]}),E&&!f&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 border border-green-300 rounded text-xs",children:[e.jsx(we,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Valid"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(ye,{value:E,onChange:N=>l(N||""),readOnly:!1,placeholder:"Enter JSON A...",errorLine:f?.line||null,errorMessage:f?.message||null})}),f&&e.jsxs("div",{className:"px-4 py-2 bg-red-50 border-t border-red-200 text-xs text-red-700",children:[e.jsx("div",{className:"font-semibold",children:f.message}),f.line&&e.jsxs("div",{className:"mt-1",children:["Line ",f.line,f.column?`, Column ${f.column}`:""]})]})]}),e.jsxs("div",{className:"w-1/2 flex flex-col",children:[e.jsxs("div",{className:"border-b border-slate-200 px-4 py-2 bg-slate-50 flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"JSON B (New/Right)"}),r&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-red-100 border border-red-300 rounded text-xs",children:[e.jsx(le,{className:"h-3 w-3 text-red-600"}),e.jsx("span",{className:"font-semibold text-red-900",children:"Invalid"})]}),u&&!r&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 border border-green-300 rounded text-xs",children:[e.jsx(we,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Valid"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(ye,{value:u,onChange:N=>g(N||""),readOnly:!1,placeholder:"Enter JSON B...",errorLine:r?.line||null,errorMessage:r?.message||null})}),r&&e.jsxs("div",{className:"px-4 py-2 bg-red-50 border-t border-red-200 text-xs text-red-700",children:[e.jsx("div",{className:"font-semibold",children:r.message}),r.line&&e.jsxs("div",{className:"mt-1",children:["Line ",r.line,r.column?`, Column ${r.column}`:""]})]})]})]})]})},et=[{name:"User Profile",generator:()=>({user:{id:Math.floor(Math.random()*1e4),name:["John Doe","Jane Smith","Bob Johnson","Alice Williams"][Math.floor(Math.random()*4)],email:`user${Math.floor(Math.random()*1e3)}@example.com`,role:["admin","user","moderator","guest"][Math.floor(Math.random()*4)],preferences:{theme:["light","dark"][Math.floor(Math.random()*2)],notifications:Math.random()>.5,language:["en","es","fr","de"][Math.floor(Math.random()*4)]},createdAt:new Date().toISOString(),active:Math.random()>.3}})},{name:"Product",generator:()=>({product:{id:`PROD-${Math.floor(Math.random()*1e4)}`,name:["Laptop","Smartphone","Headphones","Monitor","Keyboard"][Math.floor(Math.random()*5)],price:(Math.random()*1e3+10).toFixed(2),currency:"USD",inStock:Math.random()>.4,stock:Math.floor(Math.random()*100),ratings:{average:(Math.random()*2+3).toFixed(1),count:Math.floor(Math.random()*1e3)},tags:["electronics","computers","accessories"].slice(0,Math.floor(Math.random()*3)+1),specifications:{weight:`${Math.floor(Math.random()*5+1)}kg`,dimensions:`${Math.floor(Math.random()*50+10)}x${Math.floor(Math.random()*50+10)}x${Math.floor(Math.random()*20+5)}cm`}}})},{name:"API Response",generator:()=>({status:"success",data:{items:Array.from({length:Math.floor(Math.random()*5)+2},(m,E)=>({id:E+1,title:`Item ${E+1}`,value:Math.floor(Math.random()*100),category:["A","B","C"][Math.floor(Math.random()*3)]})),total:Math.floor(Math.random()*1e3),page:Math.floor(Math.random()*10)+1,pageSize:20},timestamp:new Date().toISOString(),requestId:`req-${Math.random().toString(36).substr(2,9)}`})},{name:"Configuration",generator:()=>({config:{app:{name:"My Application",version:`${Math.floor(Math.random()*5)+1}.${Math.floor(Math.random()*10)}.${Math.floor(Math.random()*10)}`,environment:["development","staging","production"][Math.floor(Math.random()*3)],debug:Math.random()>.5},database:{host:`db${Math.floor(Math.random()*5)}.example.com`,port:[3306,5432,27017][Math.floor(Math.random()*3)],name:"mydb",pool:{min:2,max:10}},features:{analytics:Math.random()>.3,caching:Math.random()>.2,logging:!0}}})},{name:"Nested Structure",generator:()=>({company:{name:["Acme Corp","Tech Solutions","Global Systems"][Math.floor(Math.random()*3)],founded:Math.floor(Math.random()*30)+1990,employees:Math.floor(Math.random()*5e3)+100,departments:{engineering:{head:["Alice","Bob","Charlie"][Math.floor(Math.random()*3)],size:Math.floor(Math.random()*100)+20,projects:Math.floor(Math.random()*20)+5},sales:{head:["David","Eve","Frank"][Math.floor(Math.random()*3)],size:Math.floor(Math.random()*50)+10,revenue:Math.floor(Math.random()*1e6)},marketing:{head:["Grace","Henry","Ivy"][Math.floor(Math.random()*3)],size:Math.floor(Math.random()*30)+5,campaigns:Math.floor(Math.random()*10)+2}},locations:["New York","San Francisco","London","Tokyo"].slice(0,Math.floor(Math.random()*4)+1)}})}],Gt=()=>{const E=et[Math.floor(Math.random()*et.length)].generator();return JSON.stringify(E,null,2)},Yt=()=>JSON.stringify({message:"Welcome to JSON Utility Tool",instructions:"Paste your JSON here or click 'Generate Sample' to try different examples",features:["Format and minify JSON","Validate syntax","Sort keys alphabetically","Flatten nested structures","Convert to/from CSV","Compare two JSON objects","Tree view navigation"],example:{name:"Sample Data",value:42,active:!0,items:["item1","item2","item3"]}},null,2);chrome.runtime?.getURL&&chrome.runtime.getURL("jwt.html"),chrome.runtime?.getURL&&chrome.runtime.getURL("saml.html"),chrome.runtime?.getURL&&chrome.runtime.getURL("rest.html"),chrome.runtime?.getURL&&chrome.runtime.getURL("har-analyzer.html"),chrome.runtime?.getURL&&chrome.runtime.getURL("json-utility.html");const Zt=()=>{const[m,E]=_.useState(!0),[l,u]=_.useState(Yt()),[g,t]=_.useState(""),[c,o]=_.useState(null),[j,$]=_.useState("editor"),[k,J]=_.useState({input:!1,output:!1}),[L,R]=_.useState(!1),[O,v]=_.useState("editor"),C=y=>{if(!y||!y.trim())return o(null),null;try{const a=JSON.parse(y);return o(null),a}catch(a){const w=Ie(a,y);return o(w),null}};_.useMemo(()=>{C(l)},[l]);const f=c===null&&l.trim()!=="",s=()=>{const y=C(l);y&&(t(JSON.stringify(y,null,2)),v("editor"))},r=()=>{const y=C(l);y&&(t(JSON.stringify(y)),v("editor"))},d=()=>{const y=C(l);if(y&&typeof y=="object"){const a=Ee(y,"asc");t(JSON.stringify(a,null,2)),v("editor")}},i=()=>{const y=C(l);if(y&&typeof y=="object"){const a=Ee(y,"desc");t(JSON.stringify(a,null,2)),v("editor")}},n=()=>{const y=C(l);if(y&&typeof y=="object"&&!Array.isArray(y)){const a=De(y);t(JSON.stringify(a,null,2)),v("editor")}else o({message:"Input must be a JSON object (not an array) to flatten",line:null})},p=()=>{const y=C(l);if(y&&typeof y=="object"&&!Array.isArray(y))try{const a=Ut(y);t(JSON.stringify(a,null,2)),v("editor")}catch(a){o({message:a.message||"Failed to unflatten JSON",line:null})}else o({message:"Input must be a JSON object (not an array) to unflatten",line:null})},S=()=>{C(l)&&v("tree")},x=()=>{u(Gt()),t(""),v("editor")},U=()=>{u(""),t(""),o(null),v("editor")},B=async(y,a)=>{if(y)try{await navigator.clipboard.writeText(y),J(w=>({...w,[a]:!0})),setTimeout(()=>{J(w=>({...w,[a]:!1}))},2e3)}catch(w){console.error("Failed to copy:",w)}},N=y=>{const a=JSON.stringify(y,null,2);u(a),t(a)};return e.jsxs("div",{className:"flex h-screen bg-white overflow-hidden",children:[e.jsx(vt,{currentPageId:"json",sidebarOpen:m,onSidebarToggle:E}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",style:{width:"100%",minWidth:0},children:e.jsx("div",{className:"mx-auto max-w-[1600px] w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-10",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("header",{className:"bg-white border border-gray-300 rounded-xl shadow-sm px-4 sm:px-6 lg:px-8 py-4 sm:py-6 mb-4 sm:mb-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"JSON Utility"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Format, validate, transform, and analyze JSON data with ease"})]})})}),e.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-wrap items-center justify-center gap-2",children:[e.jsxs("button",{onClick:x,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-white bg-sky-500 hover:bg-sky-600 hover:border-gray-400 hover:shadow",title:"Generate random sample JSON",children:[e.jsx(wt,{className:"h-3.5 w-3.5"}),"Generate Sample"]}),e.jsxs("button",{onClick:s,disabled:!f,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Format JSON with indentation",children:[e.jsx(Ge,{className:"h-3.5 w-3.5"}),"Pretty Print"]}),e.jsxs("button",{onClick:r,disabled:!f,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Minify JSON (remove whitespace)",children:[e.jsx(Ge,{className:"h-3.5 w-3.5"}),"Minify"]}),e.jsxs("button",{onClick:S,disabled:!f,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Show JSON as tree view",children:[e.jsx(Nt,{className:"h-3.5 w-3.5"}),"Tree View"]}),e.jsxs("button",{onClick:d,disabled:!f,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Sort keys alphabetically (A-Z)",children:[e.jsx(Fe,{className:"h-3.5 w-3.5"}),"Sort A-Z"]}),e.jsxs("button",{onClick:i,disabled:!f,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Sort keys reverse alphabetically (Z-A)",children:[e.jsx(Fe,{className:"h-3.5 w-3.5"}),"Sort Z-A"]}),e.jsxs("button",{onClick:n,disabled:!f,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Flatten nested JSON object",children:[e.jsx(Fe,{className:"h-3.5 w-3.5"}),"Flatten"]}),e.jsxs("button",{onClick:p,disabled:!f,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Unflatten JSON object",children:[e.jsx(Fe,{className:"h-3.5 w-3.5"}),"Unflatten"]}),e.jsxs("button",{onClick:U,className:"inline-flex items-center gap-1.5 px-3 py-2 text-xs sm:text-sm font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow",title:"Clear all content",children:[e.jsx(St,{className:"h-3.5 w-3.5"}),"Clear"]})]}),c&&e.jsxs("div",{className:"rounded-xl border border-error/20 bg-error/5 overflow-hidden",children:[e.jsx("div",{onClick:()=>R(!L),className:"cursor-pointer px-4 sm:px-6 py-3 sm:py-4 hover:bg-error/10 transition-colors border-b border-error/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(le,{className:"h-5 w-5 text-error flex-shrink-0"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"font-semibold text-error truncate",children:[c.message||"Invalid JSON",c.line&&` (Line ${c.line}${c.column?`, Column ${c.column}`:""})`]})})]}),e.jsx("button",{className:"text-error hover:text-error/80 flex-shrink-0",children:L?e.jsx(yt,{className:"h-5 w-5"}):e.jsx(tt,{className:"h-5 w-5"})})]})}),L&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-error/20",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[c.originalMessage&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-error",children:"Error:"}),e.jsx("span",{className:"text-error/90 ml-2",children:c.originalMessage})]}),c.line&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-error",children:"Location:"}),e.jsxs("span",{className:"text-error/90 ml-2",children:["Line ",c.line,c.column&&`, Column ${c.column}`]})]}),c.suggestion&&e.jsxs("div",{className:"mt-3 p-3 bg-error/10 rounded border-l-2 border-error/40",children:[e.jsx("div",{className:"font-semibold text-error mb-1",children:"💡 Suggestion:"}),e.jsx("div",{className:"text-error/90",children:c.suggestion})]}),c.context&&e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"font-semibold text-error mb-1",children:"Context:"}),e.jsx("div",{className:"text-xs text-error/80 font-mono bg-error/10 rounded p-2",children:c.context})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-0.5 bg-white p-0.5 border border-gray-300 rounded-md",children:[e.jsx("button",{onClick:()=>$("editor"),className:oe("px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-medium transition-colors rounded",j==="editor"?"bg-sky-500 text-white":"text-gray-700 hover:bg-gray-50"),children:"Editor"}),e.jsx("button",{onClick:()=>$("diff"),className:oe("px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-medium transition-colors rounded",j==="diff"?"bg-sky-500 text-white":"text-gray-700 hover:bg-gray-50"),children:"Diff"}),e.jsx("button",{onClick:()=>$("convert"),disabled:!f,className:oe("px-3 sm:px-4 py-1.5 sm:py-2 text-sm font-medium transition-colors rounded disabled:opacity-50 disabled:cursor-not-allowed",j==="convert"?"bg-sky-500 text-white":"text-gray-700 hover:bg-gray-50"),children:"Convert"})]}),e.jsxs("div",{className:"flex-1 min-h-0",children:[j==="editor"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",style:{gridTemplateColumns:"minmax(0, 1fr) minmax(0, 1fr)"},children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[e.jsx("div",{className:"h-1.5 sm:h-2 w-1.5 sm:w-2 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:"Input JSON"}),l&&e.jsx("div",{className:"flex items-center gap-2 ml-2",children:c?e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-red-100 border border-red-300 rounded text-xs",children:[e.jsx(le,{className:"h-3 w-3 text-red-600"}),e.jsx("span",{className:"font-semibold text-red-900",children:"Invalid"})]}):e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 border border-green-300 rounded text-xs",children:[e.jsx(we,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Valid"})]})})]}),e.jsx("button",{onClick:()=>B(l,"input"),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow",title:"Copy input to clipboard",children:k.input?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-3.5 w-3.5 text-green-600"}),e.jsx("span",{className:"hidden sm:inline",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Copy"})]})})]}),e.jsx("div",{className:"flex-1 min-h-0",style:{minHeight:"400px"},children:e.jsx(ye,{value:l,onChange:u,readOnly:!1,placeholder:"Paste or type JSON here...",errorLine:c?.line||null,errorMessage:c?.message||null})})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"h-1.5 sm:h-2 w-1.5 sm:w-2 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:O==="tree"?"Tree View":"Output JSON"})]}),O==="editor"&&e.jsx("button",{onClick:()=>B(g,"output"),disabled:!g,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold transition-all focus:outline-none border-[0.5px] border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 hover:border-gray-400 bg-white hover:shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",title:"Copy output to clipboard",children:k.output?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-3.5 w-3.5 text-green-600"}),e.jsx("span",{className:"hidden sm:inline",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Copy"})]})})]}),e.jsx("div",{className:"flex-1 min-h-0",style:{minHeight:"400px"},children:O==="tree"?f?(()=>{try{const y=JSON.parse(l);return e.jsx(Kt,{jsonData:y,onPathSelect:(a,w)=>{w!==void 0&&typeof w!="object"&&(t(JSON.stringify(w,null,2)),v("editor"))},onUpdate:N,editable:!0})}catch{return e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(le,{className:"h-12 w-12 mx-auto mb-4 text-red-400"}),e.jsx("div",{className:"text-red-600 font-semibold mb-2 text-lg",children:"Invalid JSON"}),e.jsx("div",{className:"text-sm text-slate-600",children:"Please fix errors to view tree."})]})}})():e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(le,{className:"h-12 w-12 mx-auto mb-4 text-red-400"}),e.jsx("div",{className:"text-red-600 font-semibold mb-2 text-lg",children:"Invalid JSON"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Please fix errors to view tree."})]}):e.jsx(ye,{value:g,onChange:t,readOnly:!1,placeholder:"Transformed JSON will appear here..."})})]})]}),j==="diff"&&e.jsx("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm overflow-hidden",children:e.jsx("div",{className:"h-full overflow-auto",children:e.jsx(Ht,{onOutputUpdate:y=>t(y)})})}),j==="convert"&&f&&e.jsx("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm overflow-hidden",children:e.jsx("div",{className:"h-full overflow-auto",children:e.jsx(qt,{inputJson:l,isValidJson:f,onOutputUpdate:y=>t(y)})})})]})]})})})]})},Qt=mt.createRoot(document.getElementById("root"));Qt.render(e.jsx(Zt,{}));
//# sourceMappingURL=json-utility-C9zQbii_.js.map
